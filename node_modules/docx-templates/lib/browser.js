var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},buffer$1={},base64Js={};base64Js.byteLength=byteLength,base64Js.toByteArray=toByteArray,base64Js.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr=typeof Uint8Array!="undefined"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i$1=0,len=code.length;i$1<len;++i$1)lookup[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function byteLength(e){var t=getLens(e),r=t[0],n=t[1];return(r+n)*3/4-n}function _byteLength(e,t,r){return(t+r)*3/4-r}function toByteArray(e){var t,r=getLens(e),n=r[0],a=r[1],o=new Arr(_byteLength(e,n,a)),s=0,l=a>0?n-4:n,p;for(p=0;p<l;p+=4)t=revLookup[e.charCodeAt(p)]<<18|revLookup[e.charCodeAt(p+1)]<<12|revLookup[e.charCodeAt(p+2)]<<6|revLookup[e.charCodeAt(p+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=t&255;return a===2&&(t=revLookup[e.charCodeAt(p)]<<2|revLookup[e.charCodeAt(p+1)]>>4,o[s++]=t&255),a===1&&(t=revLookup[e.charCodeAt(p)]<<10|revLookup[e.charCodeAt(p+1)]<<4|revLookup[e.charCodeAt(p+2)]>>2,o[s++]=t>>8&255,o[s++]=t&255),o}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[e&63]}function encodeChunk(e,t,r){for(var n,a=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),a.push(tripletToBase64(n));return a.join("")}function fromByteArray(e){for(var t,r=e.length,n=r%3,a=[],o=16383,s=0,l=r-n;s<l;s+=o)a.push(encodeChunk(e,s,s+o>l?l:s+o));return n===1?(t=e[r-1],a.push(lookup[t>>2]+lookup[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],a.push(lookup[t>>10]+lookup[t>>4&63]+lookup[t<<2&63]+"=")),a.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(e,t,r,n,a){var o,s,l=a*8-n-1,p=(1<<l)-1,d=p>>1,g=-7,x=r?a-1:0,w=r?-1:1,y=e[t+x];for(x+=w,o=y&(1<<-g)-1,y>>=-g,g+=l;g>0;o=o*256+e[t+x],x+=w,g-=8);for(s=o&(1<<-g)-1,o>>=-g,g+=n;g>0;s=s*256+e[t+x],x+=w,g-=8);if(o===0)o=1-d;else{if(o===p)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-d}return(y?-1:1)*s*Math.pow(2,o-n)},ieee754.write=function(e,t,r,n,a,o){var s,l,p,d=o*8-a-1,g=(1<<d)-1,x=g>>1,w=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:o-1,E=n?1:-1,I=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,s=g):(s=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-s))<1&&(s--,p*=2),s+x>=1?t+=w/p:t+=w*Math.pow(2,1-x),t*p>=2&&(s++,p/=2),s+x>=g?(l=0,s=g):s+x>=1?(l=(t*p-1)*Math.pow(2,a),s=s+x):(l=t*Math.pow(2,x-1)*Math.pow(2,a),s=0));a>=8;e[r+y]=l&255,y+=E,l/=256,a-=8);for(s=s<<a|l,d+=a;d>0;e[r+y]=s&255,y+=E,s/=256,d-=8);e[r+y-E]|=I*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=base64Js,r=ieee754,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=U,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=o(),!l.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const _=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(_,f),_.foo()===42}catch(_){return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(!!l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(!!l.isBuffer(this))return this.byteOffset}});function s(_){if(_>a)throw new RangeError('The value "'+_+'" is invalid for option "size"');const f=new Uint8Array(_);return Object.setPrototypeOf(f,l.prototype),f}function l(_,f,u){if(typeof _=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(_)}return p(_,f,u)}l.poolSize=8192;function p(_,f,u){if(typeof _=="string")return w(_,f);if(ArrayBuffer.isView(_))return E(_);if(_==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _);if(ye(_,ArrayBuffer)||_&&ye(_.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ye(_,SharedArrayBuffer)||_&&ye(_.buffer,SharedArrayBuffer)))return I(_,f,u);if(typeof _=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const b=_.valueOf&&_.valueOf();if(b!=null&&b!==_)return l.from(b,f,u);const S=D(_);if(S)return S;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof _[Symbol.toPrimitive]=="function")return l.from(_[Symbol.toPrimitive]("string"),f,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _)}l.from=function(_,f,u){return p(_,f,u)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function d(_){if(typeof _!="number")throw new TypeError('"size" argument must be of type number');if(_<0)throw new RangeError('The value "'+_+'" is invalid for option "size"')}function g(_,f,u){return d(_),_<=0?s(_):f!==void 0?typeof u=="string"?s(_).fill(f,u):s(_).fill(f):s(_)}l.alloc=function(_,f,u){return g(_,f,u)};function x(_){return d(_),s(_<0?0:k(_)|0)}l.allocUnsafe=function(_){return x(_)},l.allocUnsafeSlow=function(_){return x(_)};function w(_,f){if((typeof f!="string"||f==="")&&(f="utf8"),!l.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const u=z(_,f)|0;let b=s(u);const S=b.write(_,f);return S!==u&&(b=b.slice(0,S)),b}function y(_){const f=_.length<0?0:k(_.length)|0,u=s(f);for(let b=0;b<f;b+=1)u[b]=_[b]&255;return u}function E(_){if(ye(_,Uint8Array)){const f=new Uint8Array(_);return I(f.buffer,f.byteOffset,f.byteLength)}return y(_)}function I(_,f,u){if(f<0||_.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(_.byteLength<f+(u||0))throw new RangeError('"length" is outside of buffer bounds');let b;return f===void 0&&u===void 0?b=new Uint8Array(_):u===void 0?b=new Uint8Array(_,f):b=new Uint8Array(_,f,u),Object.setPrototypeOf(b,l.prototype),b}function D(_){if(l.isBuffer(_)){const f=k(_.length)|0,u=s(f);return u.length===0||_.copy(u,0,0,f),u}if(_.length!==void 0)return typeof _.length!="number"||$e(_.length)?s(0):y(_);if(_.type==="Buffer"&&Array.isArray(_.data))return y(_.data)}function k(_){if(_>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return _|0}function U(_){return+_!=_&&(_=0),l.alloc(+_)}l.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==l.prototype},l.compare=function(f,u){if(ye(f,Uint8Array)&&(f=l.from(f,f.offset,f.byteLength)),ye(u,Uint8Array)&&(u=l.from(u,u.offset,u.byteLength)),!l.isBuffer(f)||!l.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===u)return 0;let b=f.length,S=u.length;for(let N=0,B=Math.min(b,S);N<B;++N)if(f[N]!==u[N]){b=f[N],S=u[N];break}return b<S?-1:S<b?1:0},l.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(f,u){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return l.alloc(0);let b;if(u===void 0)for(u=0,b=0;b<f.length;++b)u+=f[b].length;const S=l.allocUnsafe(u);let N=0;for(b=0;b<f.length;++b){let B=f[b];if(ye(B,Uint8Array))N+B.length>S.length?(l.isBuffer(B)||(B=l.from(B)),B.copy(S,N)):Uint8Array.prototype.set.call(S,B,N);else if(l.isBuffer(B))B.copy(S,N);else throw new TypeError('"list" argument must be an Array of Buffers');N+=B.length}return S};function z(_,f){if(l.isBuffer(_))return _.length;if(ArrayBuffer.isView(_)||ye(_,ArrayBuffer))return _.byteLength;if(typeof _!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _);const u=_.length,b=arguments.length>2&&arguments[2]===!0;if(!b&&u===0)return 0;let S=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return le(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return we(_).length;default:if(S)return b?-1:le(_).length;f=(""+f).toLowerCase(),S=!0}}l.byteLength=z;function j(_,f,u){let b=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,f>>>=0,u<=f))return"";for(_||(_="utf8");;)switch(_){case"hex":return me(this,f,u);case"utf8":case"utf-8":return ae(this,f,u);case"ascii":return X(this,f,u);case"latin1":case"binary":return fe(this,f,u);case"base64":return re(this,f,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,f,u);default:if(b)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),b=!0}}l.prototype._isBuffer=!0;function P(_,f,u){const b=_[f];_[f]=_[u],_[u]=b}l.prototype.swap16=function(){const f=this.length;if(f%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<f;u+=2)P(this,u,u+1);return this},l.prototype.swap32=function(){const f=this.length;if(f%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<f;u+=4)P(this,u,u+3),P(this,u+1,u+2);return this},l.prototype.swap64=function(){const f=this.length;if(f%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<f;u+=8)P(this,u,u+7),P(this,u+1,u+6),P(this,u+2,u+5),P(this,u+3,u+4);return this},l.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?ae(this,0,f):j.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(f){if(!l.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:l.compare(this,f)===0},l.prototype.inspect=function(){let f="";const u=e.INSPECT_MAX_BYTES;return f=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(f+=" ... "),"<Buffer "+f+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(f,u,b,S,N){if(ye(f,Uint8Array)&&(f=l.from(f,f.offset,f.byteLength)),!l.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(u===void 0&&(u=0),b===void 0&&(b=f?f.length:0),S===void 0&&(S=0),N===void 0&&(N=this.length),u<0||b>f.length||S<0||N>this.length)throw new RangeError("out of range index");if(S>=N&&u>=b)return 0;if(S>=N)return-1;if(u>=b)return 1;if(u>>>=0,b>>>=0,S>>>=0,N>>>=0,this===f)return 0;let B=N-S,Q=b-u;const ue=Math.min(B,Q),se=this.slice(S,N),ce=f.slice(u,b);for(let ie=0;ie<ue;++ie)if(se[ie]!==ce[ie]){B=se[ie],Q=ce[ie];break}return B<Q?-1:Q<B?1:0};function Z(_,f,u,b,S){if(_.length===0)return-1;if(typeof u=="string"?(b=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,$e(u)&&(u=S?0:_.length-1),u<0&&(u=_.length+u),u>=_.length){if(S)return-1;u=_.length-1}else if(u<0)if(S)u=0;else return-1;if(typeof f=="string"&&(f=l.from(f,b)),l.isBuffer(f))return f.length===0?-1:W(_,f,u,b,S);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?S?Uint8Array.prototype.indexOf.call(_,f,u):Uint8Array.prototype.lastIndexOf.call(_,f,u):W(_,[f],u,b,S);throw new TypeError("val must be string, number or Buffer")}function W(_,f,u,b,S){let N=1,B=_.length,Q=f.length;if(b!==void 0&&(b=String(b).toLowerCase(),b==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(_.length<2||f.length<2)return-1;N=2,B/=2,Q/=2,u/=2}function ue(ce,ie){return N===1?ce[ie]:ce.readUInt16BE(ie*N)}let se;if(S){let ce=-1;for(se=u;se<B;se++)if(ue(_,se)===ue(f,ce===-1?0:se-ce)){if(ce===-1&&(ce=se),se-ce+1===Q)return ce*N}else ce!==-1&&(se-=se-ce),ce=-1}else for(u+Q>B&&(u=B-Q),se=u;se>=0;se--){let ce=!0;for(let ie=0;ie<Q;ie++)if(ue(_,se+ie)!==ue(f,ie)){ce=!1;break}if(ce)return se}return-1}l.prototype.includes=function(f,u,b){return this.indexOf(f,u,b)!==-1},l.prototype.indexOf=function(f,u,b){return Z(this,f,u,b,!0)},l.prototype.lastIndexOf=function(f,u,b){return Z(this,f,u,b,!1)};function H(_,f,u,b){u=Number(u)||0;const S=_.length-u;b?(b=Number(b),b>S&&(b=S)):b=S;const N=f.length;b>N/2&&(b=N/2);let B;for(B=0;B<b;++B){const Q=parseInt(f.substr(B*2,2),16);if($e(Q))return B;_[u+B]=Q}return B}function $(_,f,u,b){return ve(le(f,_.length-u),_,u,b)}function V(_,f,u,b){return ve(ge(f),_,u,b)}function M(_,f,u,b){return ve(we(f),_,u,b)}function G(_,f,u,b){return ve(L(f,_.length-u),_,u,b)}l.prototype.write=function(f,u,b,S){if(u===void 0)S="utf8",b=this.length,u=0;else if(b===void 0&&typeof u=="string")S=u,b=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(b)?(b=b>>>0,S===void 0&&(S="utf8")):(S=b,b=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const N=this.length-u;if((b===void 0||b>N)&&(b=N),f.length>0&&(b<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");S||(S="utf8");let B=!1;for(;;)switch(S){case"hex":return H(this,f,u,b);case"utf8":case"utf-8":return $(this,f,u,b);case"ascii":case"latin1":case"binary":return V(this,f,u,b);case"base64":return M(this,f,u,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,f,u,b);default:if(B)throw new TypeError("Unknown encoding: "+S);S=(""+S).toLowerCase(),B=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(_,f,u){return f===0&&u===_.length?t.fromByteArray(_):t.fromByteArray(_.slice(f,u))}function ae(_,f,u){u=Math.min(_.length,u);const b=[];let S=f;for(;S<u;){const N=_[S];let B=null,Q=N>239?4:N>223?3:N>191?2:1;if(S+Q<=u){let ue,se,ce,ie;switch(Q){case 1:N<128&&(B=N);break;case 2:ue=_[S+1],(ue&192)==128&&(ie=(N&31)<<6|ue&63,ie>127&&(B=ie));break;case 3:ue=_[S+1],se=_[S+2],(ue&192)==128&&(se&192)==128&&(ie=(N&15)<<12|(ue&63)<<6|se&63,ie>2047&&(ie<55296||ie>57343)&&(B=ie));break;case 4:ue=_[S+1],se=_[S+2],ce=_[S+3],(ue&192)==128&&(se&192)==128&&(ce&192)==128&&(ie=(N&15)<<18|(ue&63)<<12|(se&63)<<6|ce&63,ie>65535&&ie<1114112&&(B=ie))}}B===null?(B=65533,Q=1):B>65535&&(B-=65536,b.push(B>>>10&1023|55296),B=56320|B&1023),b.push(B),S+=Q}return de(b)}const he=4096;function de(_){const f=_.length;if(f<=he)return String.fromCharCode.apply(String,_);let u="",b=0;for(;b<f;)u+=String.fromCharCode.apply(String,_.slice(b,b+=he));return u}function X(_,f,u){let b="";u=Math.min(_.length,u);for(let S=f;S<u;++S)b+=String.fromCharCode(_[S]&127);return b}function fe(_,f,u){let b="";u=Math.min(_.length,u);for(let S=f;S<u;++S)b+=String.fromCharCode(_[S]);return b}function me(_,f,u){const b=_.length;(!f||f<0)&&(f=0),(!u||u<0||u>b)&&(u=b);let S="";for(let N=f;N<u;++N)S+=Se[_[N]];return S}function _e(_,f,u){const b=_.slice(f,u);let S="";for(let N=0;N<b.length-1;N+=2)S+=String.fromCharCode(b[N]+b[N+1]*256);return S}l.prototype.slice=function(f,u){const b=this.length;f=~~f,u=u===void 0?b:~~u,f<0?(f+=b,f<0&&(f=0)):f>b&&(f=b),u<0?(u+=b,u<0&&(u=0)):u>b&&(u=b),u<f&&(u=f);const S=this.subarray(f,u);return Object.setPrototypeOf(S,l.prototype),S};function A(_,f,u){if(_%1!=0||_<0)throw new RangeError("offset is not uint");if(_+f>u)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(f,u,b){f=f>>>0,u=u>>>0,b||A(f,u,this.length);let S=this[f],N=1,B=0;for(;++B<u&&(N*=256);)S+=this[f+B]*N;return S},l.prototype.readUintBE=l.prototype.readUIntBE=function(f,u,b){f=f>>>0,u=u>>>0,b||A(f,u,this.length);let S=this[f+--u],N=1;for(;u>0&&(N*=256);)S+=this[f+--u]*N;return S},l.prototype.readUint8=l.prototype.readUInt8=function(f,u){return f=f>>>0,u||A(f,1,this.length),this[f]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(f,u){return f=f>>>0,u||A(f,2,this.length),this[f]|this[f+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(f,u){return f=f>>>0,u||A(f,2,this.length),this[f]<<8|this[f+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(f,u){return f=f>>>0,u||A(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(f,u){return f=f>>>0,u||A(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},l.prototype.readBigUInt64LE=Ee(function(f){f=f>>>0,te(f,"offset");const u=this[f],b=this[f+7];(u===void 0||b===void 0)&&oe(f,this.length-8);const S=u+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,N=this[++f]+this[++f]*2**8+this[++f]*2**16+b*2**24;return BigInt(S)+(BigInt(N)<<BigInt(32))}),l.prototype.readBigUInt64BE=Ee(function(f){f=f>>>0,te(f,"offset");const u=this[f],b=this[f+7];(u===void 0||b===void 0)&&oe(f,this.length-8);const S=u*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],N=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+b;return(BigInt(S)<<BigInt(32))+BigInt(N)}),l.prototype.readIntLE=function(f,u,b){f=f>>>0,u=u>>>0,b||A(f,u,this.length);let S=this[f],N=1,B=0;for(;++B<u&&(N*=256);)S+=this[f+B]*N;return N*=128,S>=N&&(S-=Math.pow(2,8*u)),S},l.prototype.readIntBE=function(f,u,b){f=f>>>0,u=u>>>0,b||A(f,u,this.length);let S=u,N=1,B=this[f+--S];for(;S>0&&(N*=256);)B+=this[f+--S]*N;return N*=128,B>=N&&(B-=Math.pow(2,8*u)),B},l.prototype.readInt8=function(f,u){return f=f>>>0,u||A(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},l.prototype.readInt16LE=function(f,u){f=f>>>0,u||A(f,2,this.length);const b=this[f]|this[f+1]<<8;return b&32768?b|4294901760:b},l.prototype.readInt16BE=function(f,u){f=f>>>0,u||A(f,2,this.length);const b=this[f+1]|this[f]<<8;return b&32768?b|4294901760:b},l.prototype.readInt32LE=function(f,u){return f=f>>>0,u||A(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},l.prototype.readInt32BE=function(f,u){return f=f>>>0,u||A(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},l.prototype.readBigInt64LE=Ee(function(f){f=f>>>0,te(f,"offset");const u=this[f],b=this[f+7];(u===void 0||b===void 0)&&oe(f,this.length-8);const S=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(b<<24);return(BigInt(S)<<BigInt(32))+BigInt(u+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),l.prototype.readBigInt64BE=Ee(function(f){f=f>>>0,te(f,"offset");const u=this[f],b=this[f+7];(u===void 0||b===void 0)&&oe(f,this.length-8);const S=(u<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(S)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+b)}),l.prototype.readFloatLE=function(f,u){return f=f>>>0,u||A(f,4,this.length),r.read(this,f,!0,23,4)},l.prototype.readFloatBE=function(f,u){return f=f>>>0,u||A(f,4,this.length),r.read(this,f,!1,23,4)},l.prototype.readDoubleLE=function(f,u){return f=f>>>0,u||A(f,8,this.length),r.read(this,f,!0,52,8)},l.prototype.readDoubleBE=function(f,u){return f=f>>>0,u||A(f,8,this.length),r.read(this,f,!1,52,8)};function C(_,f,u,b,S,N){if(!l.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>S||f<N)throw new RangeError('"value" argument is out of bounds');if(u+b>_.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(f,u,b,S){if(f=+f,u=u>>>0,b=b>>>0,!S){const Q=Math.pow(2,8*b)-1;C(this,f,u,b,Q,0)}let N=1,B=0;for(this[u]=f&255;++B<b&&(N*=256);)this[u+B]=f/N&255;return u+b},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(f,u,b,S){if(f=+f,u=u>>>0,b=b>>>0,!S){const Q=Math.pow(2,8*b)-1;C(this,f,u,b,Q,0)}let N=b-1,B=1;for(this[u+N]=f&255;--N>=0&&(B*=256);)this[u+N]=f/B&255;return u+b},l.prototype.writeUint8=l.prototype.writeUInt8=function(f,u,b){return f=+f,u=u>>>0,b||C(this,f,u,1,255,0),this[u]=f&255,u+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(f,u,b){return f=+f,u=u>>>0,b||C(this,f,u,2,65535,0),this[u]=f&255,this[u+1]=f>>>8,u+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(f,u,b){return f=+f,u=u>>>0,b||C(this,f,u,2,65535,0),this[u]=f>>>8,this[u+1]=f&255,u+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(f,u,b){return f=+f,u=u>>>0,b||C(this,f,u,4,4294967295,0),this[u+3]=f>>>24,this[u+2]=f>>>16,this[u+1]=f>>>8,this[u]=f&255,u+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(f,u,b){return f=+f,u=u>>>0,b||C(this,f,u,4,4294967295,0),this[u]=f>>>24,this[u+1]=f>>>16,this[u+2]=f>>>8,this[u+3]=f&255,u+4};function F(_,f,u,b,S){ne(f,b,S,_,u,7);let N=Number(f&BigInt(4294967295));_[u++]=N,N=N>>8,_[u++]=N,N=N>>8,_[u++]=N,N=N>>8,_[u++]=N;let B=Number(f>>BigInt(32)&BigInt(4294967295));return _[u++]=B,B=B>>8,_[u++]=B,B=B>>8,_[u++]=B,B=B>>8,_[u++]=B,u}function Y(_,f,u,b,S){ne(f,b,S,_,u,7);let N=Number(f&BigInt(4294967295));_[u+7]=N,N=N>>8,_[u+6]=N,N=N>>8,_[u+5]=N,N=N>>8,_[u+4]=N;let B=Number(f>>BigInt(32)&BigInt(4294967295));return _[u+3]=B,B=B>>8,_[u+2]=B,B=B>>8,_[u+1]=B,B=B>>8,_[u]=B,u+8}l.prototype.writeBigUInt64LE=Ee(function(f,u=0){return F(this,f,u,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Ee(function(f,u=0){return Y(this,f,u,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(f,u,b,S){if(f=+f,u=u>>>0,!S){const ue=Math.pow(2,8*b-1);C(this,f,u,b,ue-1,-ue)}let N=0,B=1,Q=0;for(this[u]=f&255;++N<b&&(B*=256);)f<0&&Q===0&&this[u+N-1]!==0&&(Q=1),this[u+N]=(f/B>>0)-Q&255;return u+b},l.prototype.writeIntBE=function(f,u,b,S){if(f=+f,u=u>>>0,!S){const ue=Math.pow(2,8*b-1);C(this,f,u,b,ue-1,-ue)}let N=b-1,B=1,Q=0;for(this[u+N]=f&255;--N>=0&&(B*=256);)f<0&&Q===0&&this[u+N+1]!==0&&(Q=1),this[u+N]=(f/B>>0)-Q&255;return u+b},l.prototype.writeInt8=function(f,u,b){return f=+f,u=u>>>0,b||C(this,f,u,1,127,-128),f<0&&(f=255+f+1),this[u]=f&255,u+1},l.prototype.writeInt16LE=function(f,u,b){return f=+f,u=u>>>0,b||C(this,f,u,2,32767,-32768),this[u]=f&255,this[u+1]=f>>>8,u+2},l.prototype.writeInt16BE=function(f,u,b){return f=+f,u=u>>>0,b||C(this,f,u,2,32767,-32768),this[u]=f>>>8,this[u+1]=f&255,u+2},l.prototype.writeInt32LE=function(f,u,b){return f=+f,u=u>>>0,b||C(this,f,u,4,2147483647,-2147483648),this[u]=f&255,this[u+1]=f>>>8,this[u+2]=f>>>16,this[u+3]=f>>>24,u+4},l.prototype.writeInt32BE=function(f,u,b){return f=+f,u=u>>>0,b||C(this,f,u,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[u]=f>>>24,this[u+1]=f>>>16,this[u+2]=f>>>8,this[u+3]=f&255,u+4},l.prototype.writeBigInt64LE=Ee(function(f,u=0){return F(this,f,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Ee(function(f,u=0){return Y(this,f,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K(_,f,u,b,S,N){if(u+b>_.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function ee(_,f,u,b,S){return f=+f,u=u>>>0,S||K(_,f,u,4),r.write(_,f,u,b,23,4),u+4}l.prototype.writeFloatLE=function(f,u,b){return ee(this,f,u,!0,b)},l.prototype.writeFloatBE=function(f,u,b){return ee(this,f,u,!1,b)};function m(_,f,u,b,S){return f=+f,u=u>>>0,S||K(_,f,u,8),r.write(_,f,u,b,52,8),u+8}l.prototype.writeDoubleLE=function(f,u,b){return m(this,f,u,!0,b)},l.prototype.writeDoubleBE=function(f,u,b){return m(this,f,u,!1,b)},l.prototype.copy=function(f,u,b,S){if(!l.isBuffer(f))throw new TypeError("argument should be a Buffer");if(b||(b=0),!S&&S!==0&&(S=this.length),u>=f.length&&(u=f.length),u||(u=0),S>0&&S<b&&(S=b),S===b||f.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("sourceEnd out of bounds");S>this.length&&(S=this.length),f.length-u<S-b&&(S=f.length-u+b);const N=S-b;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,b,S):Uint8Array.prototype.set.call(f,this.subarray(b,S),u),N},l.prototype.fill=function(f,u,b,S){if(typeof f=="string"){if(typeof u=="string"?(S=u,u=0,b=this.length):typeof b=="string"&&(S=b,b=this.length),S!==void 0&&typeof S!="string")throw new TypeError("encoding must be a string");if(typeof S=="string"&&!l.isEncoding(S))throw new TypeError("Unknown encoding: "+S);if(f.length===1){const B=f.charCodeAt(0);(S==="utf8"&&B<128||S==="latin1")&&(f=B)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(u<0||this.length<u||this.length<b)throw new RangeError("Out of range index");if(b<=u)return this;u=u>>>0,b=b===void 0?this.length:b>>>0,f||(f=0);let N;if(typeof f=="number")for(N=u;N<b;++N)this[N]=f;else{const B=l.isBuffer(f)?f:l.from(f,S),Q=B.length;if(Q===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(N=0;N<b-u;++N)this[N+u]=B[N%Q]}return this};const h={};function O(_,f,u){h[_]=class extends u{constructor(){super();Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${_}]`,this.stack,delete this.name}get code(){return _}set code(S){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:S,writable:!0})}toString(){return`${this.name} [${_}]: ${this.message}`}}}O("ERR_BUFFER_OUT_OF_BOUNDS",function(_){return _?`${_} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),O("ERR_INVALID_ARG_TYPE",function(_,f){return`The "${_}" argument must be of type number. Received type ${typeof f}`},TypeError),O("ERR_OUT_OF_RANGE",function(_,f,u){let b=`The value of "${_}" is out of range.`,S=u;return Number.isInteger(u)&&Math.abs(u)>2**32?S=T(String(u)):typeof u=="bigint"&&(S=String(u),(u>BigInt(2)**BigInt(32)||u<-(BigInt(2)**BigInt(32)))&&(S=T(S)),S+="n"),b+=` It must be ${f}. Received ${S}`,b},RangeError);function T(_){let f="",u=_.length;const b=_[0]==="-"?1:0;for(;u>=b+4;u-=3)f=`_${_.slice(u-3,u)}${f}`;return`${_.slice(0,u)}${f}`}function J(_,f,u){te(f,"offset"),(_[f]===void 0||_[f+u]===void 0)&&oe(f,_.length-(u+1))}function ne(_,f,u,b,S,N){if(_>u||_<f){const B=typeof f=="bigint"?"n":"";let Q;throw N>3?f===0||f===BigInt(0)?Q=`>= 0${B} and < 2${B} ** ${(N+1)*8}${B}`:Q=`>= -(2${B} ** ${(N+1)*8-1}${B}) and < 2 ** ${(N+1)*8-1}${B}`:Q=`>= ${f}${B} and <= ${u}${B}`,new h.ERR_OUT_OF_RANGE("value",Q,_)}J(b,S,N)}function te(_,f){if(typeof _!="number")throw new h.ERR_INVALID_ARG_TYPE(f,"number",_)}function oe(_,f,u){throw Math.floor(_)!==_?(te(_,u),new h.ERR_OUT_OF_RANGE(u||"offset","an integer",_)):f<0?new h.ERR_BUFFER_OUT_OF_BOUNDS:new h.ERR_OUT_OF_RANGE(u||"offset",`>= ${u?1:0} and <= ${f}`,_)}const pe=/[^+/0-9A-Za-z-_]/g;function be(_){if(_=_.split("=")[0],_=_.trim().replace(pe,""),_.length<2)return"";for(;_.length%4!=0;)_=_+"=";return _}function le(_,f){f=f||1/0;let u;const b=_.length;let S=null;const N=[];for(let B=0;B<b;++B){if(u=_.charCodeAt(B),u>55295&&u<57344){if(!S){if(u>56319){(f-=3)>-1&&N.push(239,191,189);continue}else if(B+1===b){(f-=3)>-1&&N.push(239,191,189);continue}S=u;continue}if(u<56320){(f-=3)>-1&&N.push(239,191,189),S=u;continue}u=(S-55296<<10|u-56320)+65536}else S&&(f-=3)>-1&&N.push(239,191,189);if(S=null,u<128){if((f-=1)<0)break;N.push(u)}else if(u<2048){if((f-=2)<0)break;N.push(u>>6|192,u&63|128)}else if(u<65536){if((f-=3)<0)break;N.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((f-=4)<0)break;N.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return N}function ge(_){const f=[];for(let u=0;u<_.length;++u)f.push(_.charCodeAt(u)&255);return f}function L(_,f){let u,b,S;const N=[];for(let B=0;B<_.length&&!((f-=2)<0);++B)u=_.charCodeAt(B),b=u>>8,S=u%256,N.push(S),N.push(b);return N}function we(_){return t.toByteArray(be(_))}function ve(_,f,u,b){let S;for(S=0;S<b&&!(S+u>=f.length||S>=_.length);++S)f[S+u]=_[S];return S}function ye(_,f){return _ instanceof f||_!=null&&_.constructor!=null&&_.constructor.name!=null&&_.constructor.name===f.name}function $e(_){return _!==_}const Se=function(){const _="0123456789abcdef",f=new Array(256);for(let u=0;u<16;++u){const b=u*16;for(let S=0;S<16;++S)f[b+S]=_[u]+_[S]}return f}();function Ee(_){return typeof BigInt=="undefined"?Te:_}function Te(){throw new Error("BigInt not supported")}})(buffer$1),globalThis.Buffer=buffer$1.Buffer;var utf8$5={},utils$s={},support$5={},readable={exports:{}},events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ReflectOwnKeys=function(t){return Object.getOwnPropertyNames(t)};function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}var NumberIsNaN=Number.isNaN||function(t){return t!==t};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter,events.exports.once=once$2,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");defaultMaxListeners=e}}),EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||NumberIsNaN(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function _getMaxListeners(e){return e._maxListeners===void 0?EventEmitter.defaultMaxListeners:e._maxListeners}EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var a=t==="error",o=this._events;if(o!==void 0)a=a&&o.error===void 0;else if(!a)return!1;if(a){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var l=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw l.context=s,l}var p=o[t];if(p===void 0)return!1;if(typeof p=="function")ReflectApply(p,this,r);else for(var d=p.length,g=arrayClone(p,d),n=0;n<d;++n)ReflectApply(g[n],this,r);return!0};function _addListener(e,t,r,n){var a,o,s;if(checkListener(r),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),s===void 0)s=o[t]=r,++e._eventsCount;else if(typeof s=="function"?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),a=_getMaxListeners(e),a>0&&s.length>a&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,ProcessEmitWarning(l)}return e}EventEmitter.prototype.addListener=function(t,r){return _addListener(this,t,r,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(t,r){return _addListener(this,t,r,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=onceWrapper.bind(n);return a.listener=r,n.wrapFn=a,a}EventEmitter.prototype.once=function(t,r){return checkListener(r),this.on(t,_onceWrap(this,t,r)),this},EventEmitter.prototype.prependOnceListener=function(t,r){return checkListener(r),this.prependListener(t,_onceWrap(this,t,r)),this},EventEmitter.prototype.removeListener=function(t,r){var n,a,o,s,l;if(checkListener(r),a=this._events,a===void 0)return this;if(n=a[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount==0?this._events=Object.create(null):(delete a[t],a.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){l=n[s].listener,o=s;break}if(o<0)return this;o===0?n.shift():spliceOne(n,o),n.length===1&&(a[t]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",t,l||r)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(t){var r,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var o=Object.keys(n),s;for(a=0;a<o.length;++a)s=o[a],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(a=r.length-1;a>=0;a--)this.removeListener(t,r[a]);return this};function _listeners(e,t,r){var n=e._events;if(n===void 0)return[];var a=n[t];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?unwrapListeners(a):arrayClone(a,a.length)}EventEmitter.prototype.listeners=function(t){return _listeners(this,t,!0)},EventEmitter.prototype.rawListeners=function(t){return _listeners(this,t,!1)},EventEmitter.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function once$2(e,t){return new Promise(function(r,n){function a(s){e.removeListener(t,o),n(s)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",a),r([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,o,{once:!0}),t!=="error"&&addErrorHandlerIfEventEmitter(e,a,{once:!0})})}function addErrorHandlerIfEventEmitter(e,t,r){typeof e.on=="function"&&eventTargetAgnosticAddListener(e,"error",t,r)}function eventTargetAgnosticAddListener(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function a(o){n.once&&e.removeEventListener(t,a),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var inherits$1={exports:{}},util$7={},types={},shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;t[r]=a;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==a||s.enumerable!==!0)return!1}return!0},hasSymbols$2=shams$1,shams=function(){return hasSymbols$2()&&!!Symbol.toStringTag},origSymbol=typeof Symbol!="undefined"&&Symbol,hasSymbolSham=shams$1,hasSymbols$1=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice=Array.prototype.slice,toStr$1=Object.prototype.toString,funcType="[object Function]",implementation$1=function(t){var r=this;if(typeof r!="function"||toStr$1.call(r)!==funcType)throw new TypeError(ERROR_MESSAGE+r);for(var n=slice.call(arguments,1),a,o=function(){if(this instanceof a){var g=r.apply(this,n.concat(slice.call(arguments)));return Object(g)===g?g:this}else return r.apply(t,n.concat(slice.call(arguments)))},s=Math.max(0,r.length-n.length),l=[],p=0;p<s;p++)l.push("$"+p);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var d=function(){};d.prototype=r.prototype,a.prototype=new d,d.prototype=null}return a},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,bind$1=functionBind,src=bind$1.call(Function.call,Object.prototype.hasOwnProperty),undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError=TypeError,getEvalledConstructor=function(e){try{return $Function('"use strict"; return ('+e+").constructor;")()}catch(t){}},$gOPD$2=Object.getOwnPropertyDescriptor;if($gOPD$2)try{$gOPD$2({},"")}catch(e){$gOPD$2=null}var throwTypeError=function(){throw new $TypeError},ThrowTypeError=$gOPD$2?function(){try{return arguments.callee,throwTypeError}catch(e){try{return $gOPD$2(arguments,"callee").get}catch(t){return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),getProto$1=Object.getPrototypeOf||function(e){return e.__proto__},needsEval={},TypedArray=typeof Uint8Array=="undefined"?undefined$1:getProto$1(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError=="undefined"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics=="undefined"?undefined$1:Atomics,"%BigInt%":typeof BigInt=="undefined"?undefined$1:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array=="undefined"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map=="undefined"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!hasSymbols?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?undefined$1:Promise,"%Proxy%":typeof Proxy=="undefined"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!hasSymbols?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError,"%Uint8Array%":typeof Uint8Array=="undefined"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?undefined$1:WeakSet},doEval=function e(t){var r;if(t==="%AsyncFunction%")r=getEvalledConstructor("async function () {}");else if(t==="%GeneratorFunction%")r=getEvalledConstructor("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=getEvalledConstructor("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var a=e("%AsyncGenerator%");a&&(r=getProto$1(a.prototype))}return INTRINSICS[t]=r,r},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn$1=src,$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(t){var r=$strSlice(t,0,1),n=$strSlice(t,-1);if(r==="%"&&n!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var a=[];return $replace(t,rePropName,function(o,s,l,p){a[a.length]=l?$replace(p,reEscapeChar,"$1"):s||o}),a},getBaseIntrinsic=function(t,r){var n=t,a;if(hasOwn$1(LEGACY_ALIASES,n)&&(a=LEGACY_ALIASES[n],n="%"+a[0]+"%"),hasOwn$1(INTRINSICS,n)){var o=INTRINSICS[n];if(o===needsEval&&(o=doEval(n)),typeof o=="undefined"&&!r)throw new $TypeError("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:o}}throw new $SyntaxError("intrinsic "+t+" does not exist!")},getIntrinsic=function(t,r){if(typeof t!="string"||t.length===0)throw new $TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new $TypeError('"allowMissing" argument must be a boolean');var n=stringToPath(t),a=n.length>0?n[0]:"",o=getBaseIntrinsic("%"+a+"%",r),s=o.name,l=o.value,p=!1,d=o.alias;d&&(a=d[0],$spliceApply(n,$concat([0,1],d)));for(var g=1,x=!0;g<n.length;g+=1){var w=n[g],y=$strSlice(w,0,1),E=$strSlice(w,-1);if((y==='"'||y==="'"||y==="`"||E==='"'||E==="'"||E==="`")&&y!==E)throw new $SyntaxError("property names with quotes must have matching quotes");if((w==="constructor"||!x)&&(p=!0),a+="."+w,s="%"+a+"%",hasOwn$1(INTRINSICS,s))l=INTRINSICS[s];else if(l!=null){if(!(w in l)){if(!r)throw new $TypeError("base intrinsic for "+t+" exists, but the property is not available.");return}if($gOPD$2&&g+1>=n.length){var I=$gOPD$2(l,w);x=!!I,x&&"get"in I&&!("originalValue"in I.get)?l=I.get:l=l[w]}else x=hasOwn$1(l,w),l=l[w];x&&!p&&(INTRINSICS[s]=l)}}return l},callBind$1={exports:{}};(function(e){var t=functionBind,r=getIntrinsic,n=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||t.call(a,n),s=r("%Object.getOwnPropertyDescriptor%",!0),l=r("%Object.defineProperty%",!0),p=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch(g){l=null}e.exports=function(x){var w=o(t,a,arguments);if(s&&l){var y=s(w,"length");y.configurable&&l(w,"length",{value:1+p(0,x.length-(arguments.length-1))})}return w};var d=function(){return o(t,n,arguments)};l?l(e.exports,"apply",{value:d}):e.exports.apply=d})(callBind$1);var GetIntrinsic$2=getIntrinsic,callBind=callBind$1.exports,$indexOf$1=callBind(GetIntrinsic$2("String.prototype.indexOf")),callBound$3=function(t,r){var n=GetIntrinsic$2(t,!!r);return typeof n=="function"&&$indexOf$1(t,".prototype.")>-1?callBind(n):n},hasToStringTag$3=shams(),callBound$2=callBound$3,$toString$2=callBound$2("Object.prototype.toString"),isStandardArguments=function(t){return hasToStringTag$3&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:$toString$2(t)==="[object Arguments]"},isLegacyArguments=function(t){return isStandardArguments(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&$toString$2(t)!=="[object Array]"&&$toString$2(t.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr=Object.prototype.toString,fnToStr=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch(e){}},GeneratorFunction,isGeneratorFunction=function(t){if(typeof t!="function")return!1;if(isFnRegex.test(fnToStr.call(t)))return!0;if(!hasToStringTag$2){var r=toStr.call(t);return r==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction=="undefined"){var n=getGeneratorFunc();GeneratorFunction=n?getProto(n):!1}return getProto(t)===GeneratorFunction},hasOwn=Object.prototype.hasOwnProperty,toString$3=Object.prototype.toString,foreach=function(t,r,n){if(toString$3.call(r)!=="[object Function]")throw new TypeError("iterator must be a function");var a=t.length;if(a===+a)for(var o=0;o<a;o++)r.call(n,t[o],o,t);else for(var s in t)hasOwn.call(t,s)&&r.call(n,t[s],s,t)},possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],availableTypedArrays$2=function(){for(var t=[],r=0;r<possibleNames.length;r++)typeof commonjsGlobal[possibleNames[r]]=="function"&&(t[t.length]=possibleNames[r]);return t},GetIntrinsic$1=getIntrinsic,$gOPD$1=GetIntrinsic$1("%Object.getOwnPropertyDescriptor%");if($gOPD$1)try{$gOPD$1([],"length")}catch(e){$gOPD$1=null}var getOwnPropertyDescriptor$1=$gOPD$1,GetIntrinsic=getIntrinsic,$gOPD=GetIntrinsic("%Object.getOwnPropertyDescriptor%");if($gOPD)try{$gOPD([],"length")}catch(e){$gOPD=null}var getOwnPropertyDescriptor=$gOPD,forEach$1=foreach,availableTypedArrays$1=availableTypedArrays$2,callBound$1=callBound$3,$toString$1=callBound$1("Object.prototype.toString"),hasToStringTag$1=shams(),typedArrays$1=availableTypedArrays$1(),$indexOf=callBound$1("Array.prototype.indexOf",!0)||function(t,r){for(var n=0;n<t.length;n+=1)if(t[n]===r)return n;return-1},$slice$1=callBound$1("String.prototype.slice"),toStrTags$1={},gOPD$1=getOwnPropertyDescriptor,getPrototypeOf$1=Object.getPrototypeOf;hasToStringTag$1&&gOPD$1&&getPrototypeOf$1&&forEach$1(typedArrays$1,function(e){var t=new commonjsGlobal[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var r=getPrototypeOf$1(t),n=gOPD$1(r,Symbol.toStringTag);if(!n){var a=getPrototypeOf$1(r);n=gOPD$1(a,Symbol.toStringTag)}toStrTags$1[e]=n.get});var tryTypedArrays$1=function(t){var r=!1;return forEach$1(toStrTags$1,function(n,a){if(!r)try{r=n.call(t)===a}catch(o){}}),r},isTypedArray$1=function(t){if(!t||typeof t!="object")return!1;if(!hasToStringTag$1){var r=$slice$1($toString$1(t),8,-1);return $indexOf(typedArrays$1,r)>-1}return gOPD$1?tryTypedArrays$1(t):!1},forEach=foreach,availableTypedArrays=availableTypedArrays$2,callBound=callBound$3,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),toStrTags={},gOPD=getOwnPropertyDescriptor$1,getPrototypeOf=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf&&forEach(typedArrays,function(e){if(typeof commonjsGlobal[e]=="function"){var t=new commonjsGlobal[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var r=getPrototypeOf(t),n=gOPD(r,Symbol.toStringTag);if(!n){var a=getPrototypeOf(r);n=gOPD(a,Symbol.toStringTag)}toStrTags[e]=n.get}});var tryTypedArrays=function(t){var r=!1;return forEach(toStrTags,function(n,a){if(!r)try{var o=n.call(t);o===a&&(r=o)}catch(s){}}),r},isTypedArray=isTypedArray$1,whichTypedArray=function(t){return isTypedArray(t)?hasToStringTag?tryTypedArrays(t):$slice($toString(t),8,-1):!1};(function(e){var t=isArguments,r=isGeneratorFunction,n=whichTypedArray,a=isTypedArray$1;function o(L){return L.call.bind(L)}var s=typeof BigInt!="undefined",l=typeof Symbol!="undefined",p=o(Object.prototype.toString),d=o(Number.prototype.valueOf),g=o(String.prototype.valueOf),x=o(Boolean.prototype.valueOf);if(s)var w=o(BigInt.prototype.valueOf);if(l)var y=o(Symbol.prototype.valueOf);function E(L,we){if(typeof L!="object")return!1;try{return we(L),!0}catch(ve){return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=a;function I(L){return typeof Promise!="undefined"&&L instanceof Promise||L!==null&&typeof L=="object"&&typeof L.then=="function"&&typeof L.catch=="function"}e.isPromise=I;function D(L){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(L):a(L)||F(L)}e.isArrayBufferView=D;function k(L){return n(L)==="Uint8Array"}e.isUint8Array=k;function U(L){return n(L)==="Uint8ClampedArray"}e.isUint8ClampedArray=U;function z(L){return n(L)==="Uint16Array"}e.isUint16Array=z;function j(L){return n(L)==="Uint32Array"}e.isUint32Array=j;function P(L){return n(L)==="Int8Array"}e.isInt8Array=P;function Z(L){return n(L)==="Int16Array"}e.isInt16Array=Z;function W(L){return n(L)==="Int32Array"}e.isInt32Array=W;function H(L){return n(L)==="Float32Array"}e.isFloat32Array=H;function $(L){return n(L)==="Float64Array"}e.isFloat64Array=$;function V(L){return n(L)==="BigInt64Array"}e.isBigInt64Array=V;function M(L){return n(L)==="BigUint64Array"}e.isBigUint64Array=M;function G(L){return p(L)==="[object Map]"}G.working=typeof Map!="undefined"&&G(new Map);function re(L){return typeof Map=="undefined"?!1:G.working?G(L):L instanceof Map}e.isMap=re;function ae(L){return p(L)==="[object Set]"}ae.working=typeof Set!="undefined"&&ae(new Set);function he(L){return typeof Set=="undefined"?!1:ae.working?ae(L):L instanceof Set}e.isSet=he;function de(L){return p(L)==="[object WeakMap]"}de.working=typeof WeakMap!="undefined"&&de(new WeakMap);function X(L){return typeof WeakMap=="undefined"?!1:de.working?de(L):L instanceof WeakMap}e.isWeakMap=X;function fe(L){return p(L)==="[object WeakSet]"}fe.working=typeof WeakSet!="undefined"&&fe(new WeakSet);function me(L){return fe(L)}e.isWeakSet=me;function _e(L){return p(L)==="[object ArrayBuffer]"}_e.working=typeof ArrayBuffer!="undefined"&&_e(new ArrayBuffer);function A(L){return typeof ArrayBuffer=="undefined"?!1:_e.working?_e(L):L instanceof ArrayBuffer}e.isArrayBuffer=A;function C(L){return p(L)==="[object DataView]"}C.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&C(new DataView(new ArrayBuffer(1),0,1));function F(L){return typeof DataView=="undefined"?!1:C.working?C(L):L instanceof DataView}e.isDataView=F;var Y=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function K(L){return p(L)==="[object SharedArrayBuffer]"}function ee(L){return typeof Y=="undefined"?!1:(typeof K.working=="undefined"&&(K.working=K(new Y)),K.working?K(L):L instanceof Y)}e.isSharedArrayBuffer=ee;function m(L){return p(L)==="[object AsyncFunction]"}e.isAsyncFunction=m;function h(L){return p(L)==="[object Map Iterator]"}e.isMapIterator=h;function O(L){return p(L)==="[object Set Iterator]"}e.isSetIterator=O;function T(L){return p(L)==="[object Generator]"}e.isGeneratorObject=T;function J(L){return p(L)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=J;function ne(L){return E(L,d)}e.isNumberObject=ne;function te(L){return E(L,g)}e.isStringObject=te;function oe(L){return E(L,x)}e.isBooleanObject=oe;function pe(L){return s&&E(L,w)}e.isBigIntObject=pe;function be(L){return l&&E(L,y)}e.isSymbolObject=be;function le(L){return ne(L)||te(L)||oe(L)||pe(L)||be(L)}e.isBoxedPrimitive=le;function ge(L){return typeof Uint8Array!="undefined"&&(A(L)||ee(L))}e.isAnyArrayBuffer=ge,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(L){Object.defineProperty(e,L,{enumerable:!1,value:function(){throw new Error(L+" is not supported in userland")}})})})(types);var isBuffer=function(t){return t instanceof Buffer};(function(e){var t=Object.getOwnPropertyDescriptors||function(C){for(var F=Object.keys(C),Y={},K=0;K<F.length;K++)Y[F[K]]=Object.getOwnPropertyDescriptor(C,F[K]);return Y},r=/%[sdj%]/g;e.format=function(A){if(!j(A)){for(var C=[],F=0;F<arguments.length;F++)C.push(o(arguments[F]));return C.join(" ")}for(var F=1,Y=arguments,K=Y.length,ee=String(A).replace(r,function(h){if(h==="%%")return"%";if(F>=K)return h;switch(h){case"%s":return String(Y[F++]);case"%d":return Number(Y[F++]);case"%j":try{return JSON.stringify(Y[F++])}catch(O){return"[Circular]"}default:return h}}),m=Y[F];F<K;m=Y[++F])k(m)||!H(m)?ee+=" "+m:ee+=" "+o(m);return ee},e.deprecate=function(A,C){return function(){return e.deprecate(A,C).apply(this,arguments)}};var n={},a=/^$/;e.debuglog=function(A){if(A=A.toUpperCase(),!n[A])if(a.test(A)){var C=42;n[A]=function(){var F=e.format.apply(e,arguments);console.error("%s %d: %s",A,C,F)}}else n[A]=function(){};return n[A]};function o(A,C){var F={seen:[],stylize:l};return arguments.length>=3&&(F.depth=arguments[2]),arguments.length>=4&&(F.colors=arguments[3]),D(C)?F.showHidden=C:C&&e._extend(F,C),Z(F.showHidden)&&(F.showHidden=!1),Z(F.depth)&&(F.depth=2),Z(F.colors)&&(F.colors=!1),Z(F.customInspect)&&(F.customInspect=!0),F.colors&&(F.stylize=s),d(F,A,F.depth)}e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function s(A,C){var F=o.styles[C];return F?"["+o.colors[F][0]+"m"+A+"["+o.colors[F][1]+"m":A}function l(A,C){return A}function p(A){var C={};return A.forEach(function(F,Y){C[F]=!0}),C}function d(A,C,F){if(A.customInspect&&C&&M(C.inspect)&&C.inspect!==e.inspect&&!(C.constructor&&C.constructor.prototype===C)){var Y=C.inspect(F,A);return j(Y)||(Y=d(A,Y,F)),Y}var K=g(A,C);if(K)return K;var ee=Object.keys(C),m=p(ee);if(A.showHidden&&(ee=Object.getOwnPropertyNames(C)),V(C)&&(ee.indexOf("message")>=0||ee.indexOf("description")>=0))return x(C);if(ee.length===0){if(M(C)){var h=C.name?": "+C.name:"";return A.stylize("[Function"+h+"]","special")}if(W(C))return A.stylize(RegExp.prototype.toString.call(C),"regexp");if($(C))return A.stylize(Date.prototype.toString.call(C),"date");if(V(C))return x(C)}var O="",T=!1,J=["{","}"];if(I(C)&&(T=!0,J=["[","]"]),M(C)){var ne=C.name?": "+C.name:"";O=" [Function"+ne+"]"}if(W(C)&&(O=" "+RegExp.prototype.toString.call(C)),$(C)&&(O=" "+Date.prototype.toUTCString.call(C)),V(C)&&(O=" "+x(C)),ee.length===0&&(!T||C.length==0))return J[0]+O+J[1];if(F<0)return W(C)?A.stylize(RegExp.prototype.toString.call(C),"regexp"):A.stylize("[Object]","special");A.seen.push(C);var te;return T?te=w(A,C,F,m,ee):te=ee.map(function(oe){return y(A,C,F,m,oe,T)}),A.seen.pop(),E(te,O,J)}function g(A,C){if(Z(C))return A.stylize("undefined","undefined");if(j(C)){var F="'"+JSON.stringify(C).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return A.stylize(F,"string")}if(z(C))return A.stylize(""+C,"number");if(D(C))return A.stylize(""+C,"boolean");if(k(C))return A.stylize("null","null")}function x(A){return"["+Error.prototype.toString.call(A)+"]"}function w(A,C,F,Y,K){for(var ee=[],m=0,h=C.length;m<h;++m)X(C,String(m))?ee.push(y(A,C,F,Y,String(m),!0)):ee.push("");return K.forEach(function(O){O.match(/^\d+$/)||ee.push(y(A,C,F,Y,O,!0))}),ee}function y(A,C,F,Y,K,ee){var m,h,O;if(O=Object.getOwnPropertyDescriptor(C,K)||{value:C[K]},O.get?O.set?h=A.stylize("[Getter/Setter]","special"):h=A.stylize("[Getter]","special"):O.set&&(h=A.stylize("[Setter]","special")),X(Y,K)||(m="["+K+"]"),h||(A.seen.indexOf(O.value)<0?(k(F)?h=d(A,O.value,null):h=d(A,O.value,F-1),h.indexOf(`
`)>-1&&(ee?h=h.split(`
`).map(function(T){return"  "+T}).join(`
`).substr(2):h=`
`+h.split(`
`).map(function(T){return"   "+T}).join(`
`))):h=A.stylize("[Circular]","special")),Z(m)){if(ee&&K.match(/^\d+$/))return h;m=JSON.stringify(""+K),m.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(m=m.substr(1,m.length-2),m=A.stylize(m,"name")):(m=m.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),m=A.stylize(m,"string"))}return m+": "+h}function E(A,C,F){var Y=A.reduce(function(K,ee){return ee.indexOf(`
`)>=0,K+ee.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Y>60?F[0]+(C===""?"":C+`
 `)+" "+A.join(`,
  `)+" "+F[1]:F[0]+C+" "+A.join(", ")+" "+F[1]}e.types=types;function I(A){return Array.isArray(A)}e.isArray=I;function D(A){return typeof A=="boolean"}e.isBoolean=D;function k(A){return A===null}e.isNull=k;function U(A){return A==null}e.isNullOrUndefined=U;function z(A){return typeof A=="number"}e.isNumber=z;function j(A){return typeof A=="string"}e.isString=j;function P(A){return typeof A=="symbol"}e.isSymbol=P;function Z(A){return A===void 0}e.isUndefined=Z;function W(A){return H(A)&&re(A)==="[object RegExp]"}e.isRegExp=W,e.types.isRegExp=W;function H(A){return typeof A=="object"&&A!==null}e.isObject=H;function $(A){return H(A)&&re(A)==="[object Date]"}e.isDate=$,e.types.isDate=$;function V(A){return H(A)&&(re(A)==="[object Error]"||A instanceof Error)}e.isError=V,e.types.isNativeError=V;function M(A){return typeof A=="function"}e.isFunction=M;function G(A){return A===null||typeof A=="boolean"||typeof A=="number"||typeof A=="string"||typeof A=="symbol"||typeof A=="undefined"}e.isPrimitive=G,e.isBuffer=isBuffer;function re(A){return Object.prototype.toString.call(A)}function ae(A){return A<10?"0"+A.toString(10):A.toString(10)}var he=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function de(){var A=new Date,C=[ae(A.getHours()),ae(A.getMinutes()),ae(A.getSeconds())].join(":");return[A.getDate(),he[A.getMonth()],C].join(" ")}e.log=function(){console.log("%s - %s",de(),e.format.apply(e,arguments))},e.inherits=inherits$1.exports,e._extend=function(A,C){if(!C||!H(C))return A;for(var F=Object.keys(C),Y=F.length;Y--;)A[F[Y]]=C[F[Y]];return A};function X(A,C){return Object.prototype.hasOwnProperty.call(A,C)}var fe=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;e.promisify=function(C){if(typeof C!="function")throw new TypeError('The "original" argument must be of type Function');if(fe&&C[fe]){var F=C[fe];if(typeof F!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(F,fe,{value:F,enumerable:!1,writable:!1,configurable:!0}),F}function F(){for(var Y,K,ee=new Promise(function(O,T){Y=O,K=T}),m=[],h=0;h<arguments.length;h++)m.push(arguments[h]);m.push(function(O,T){O?K(O):Y(T)});try{C.apply(this,m)}catch(O){K(O)}return ee}return Object.setPrototypeOf(F,Object.getPrototypeOf(C)),fe&&Object.defineProperty(F,fe,{value:F,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(F,t(C))},e.promisify.custom=fe;function me(A,C){if(!A){var F=new Error("Promise was rejected with a falsy value");F.reason=A,A=F}return C(A)}function _e(A){if(typeof A!="function")throw new TypeError('The "original" argument must be of type Function');function C(){for(var F=[],Y=0;Y<arguments.length;Y++)F.push(arguments[Y]);var K=F.pop();if(typeof K!="function")throw new TypeError("The last argument must be of type Function");var ee=this,m=function(){return K.apply(ee,arguments)};A.apply(this,F).then(function(h){setTimeout(m.bind(null,null,h))},function(h){setTimeout(me.bind(null,h,m))})}return Object.setPrototypeOf(C,Object.getPrototypeOf(A)),Object.defineProperties(C,t(A)),C}e.callbackify=_e})(util$7);var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};try{var util$6=util$7;if(typeof util$6.inherits!="function")throw"";inherits$1.exports=util$6.inherits}catch(e){inherits$1.exports=inherits_browser.exports}var stream$1=streamBrowserify;function ownKeys$1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1(Object(r),!0).forEach(function(n){_defineProperty$2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _defineProperty$2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var _require$2=buffer$1,Buffer$7=_require$2.Buffer,_require2=util$7,inspect=_require2.inspect,custom=inspect&&inspect.custom||"inspect";function copyBuffer(e,t,r){Buffer$7.prototype.copy.call(e,t,r)}var buffer_list=function(){function e(){_classCallCheck(this,e),this.head=null,this.tail=null,this.length=0}return _createClass(e,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,a=""+n.data;n=n.next;)a+=r+n.data;return a}},{key:"concat",value:function(r){if(this.length===0)return Buffer$7.alloc(0);for(var n=Buffer$7.allocUnsafe(r>>>0),a=this.head,o=0;a;)copyBuffer(a.data,n,o),o+=a.data.length,a=a.next;return n}},{key:"consume",value:function(r,n){var a;return r<this.head.data.length?(a=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?a=this.shift():a=n?this._getString(r):this._getBuffer(r),a}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,a=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,l=r>s.length?s.length:r;if(l===s.length?o+=s:o+=s.slice(0,r),r-=l,r===0){l===s.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(l));break}++a}return this.length-=a,o}},{key:"_getBuffer",value:function(r){var n=Buffer$7.allocUnsafe(r),a=this.head,o=1;for(a.data.copy(n),r-=a.data.length;a=a.next;){var s=a.data,l=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,l),r-=l,r===0){l===s.length?(++o,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=s.slice(l));break}++o}return this.length-=o,n}},{key:custom,value:function(r,n){return inspect(this,_objectSpread$1({},n,{depth:0,customInspect:!1}))}}]),e}();function destroy$1(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,setTimeout(emitErrorNT$1,this,e)):setTimeout(emitErrorNT$1,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?r._writableState?r._writableState.errorEmitted?setTimeout(emitCloseNT,r):(r._writableState.errorEmitted=!0,setTimeout(emitErrorAndCloseNT,r,o)):setTimeout(emitErrorAndCloseNT,r,o):t?(setTimeout(emitCloseNT,r),t(o)):setTimeout(emitCloseNT,r)}),this)}function emitErrorAndCloseNT(e,t){emitErrorNT$1(e,t),emitCloseNT(e)}function emitCloseNT(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function undestroy$1(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT$1(e,t){e.emit("error",t)}function errorOrDestroy$2(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var destroy_1$1={destroy:destroy$1,undestroy:undestroy$1,errorOrDestroy:errorOrDestroy$2},errors={};const codes={};function createErrorType(e,t,r){r||(r=Error);function n(o,s,l){return typeof t=="string"?t:t(o,s,l)}class a extends r{constructor(s,l,p){super(n(s,l,p))}}a.prototype.name=r.name,a.prototype.code=e,codes[e]=a}function oneOf(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map(n=>String(n)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:r===2?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}else return`of ${t} ${String(e)}`}function startsWith(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function endsWith(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function includes(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),createErrorType("ERR_INVALID_ARG_TYPE",function(e,t,r){let n;typeof t=="string"&&startsWith(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";let a;if(endsWith(e," argument"))a=`The ${e} ${n} ${oneOf(t,"type")}`;else{const o=includes(e,".")?"property":"argument";a=`The "${e}" ${o} ${n} ${oneOf(t,"type")}`}return a+=`. Received type ${typeof r}`,a},TypeError),createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close"),createErrorType("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end"),createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),createErrorType("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errors.codes=codes;var ERR_INVALID_OPT_VALUE=errors.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function getHighWaterMark$2(e,t,r,n){var a=highWaterMarkFrom(t,n,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var o=n?r:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(o,a)}return Math.floor(a)}return e.objectMode?16:16*1024}var state={getHighWaterMark:getHighWaterMark$2},node=util$7.deprecate,_stream_writable$1=Writable$3;function CorkedRequest$1(e){var t=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish$1(t,e)}}var Duplex$7;Writable$3.WritableState=WritableState$1;var internalUtil$1={deprecate:node},Stream$4=stream$1,Buffer$6=buffer$1.Buffer,OurUint8Array$3=commonjsGlobal.Uint8Array||function(){};function _uint8ArrayToBuffer$3(e){return Buffer$6.from(e)}function _isUint8Array$3(e){return Buffer$6.isBuffer(e)||e instanceof OurUint8Array$3}var destroyImpl$3=destroy_1$1,_require$1=state,getHighWaterMark$1=_require$1.getHighWaterMark,_require$codes$3=errors.codes,ERR_INVALID_ARG_TYPE$2=_require$codes$3.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED$2=_require$codes$3.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK$1=_require$codes$3.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE=_require$codes$3.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED$1=_require$codes$3.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES=_require$codes$3.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END=_require$codes$3.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING=_require$codes$3.ERR_UNKNOWN_ENCODING,errorOrDestroy$1=destroyImpl$3.errorOrDestroy;inherits$1.exports(Writable$3,Stream$4);function nop$1(){}function WritableState$1(e,t,r){Duplex$7=Duplex$7||_stream_duplex$1,e=e||{},typeof r!="boolean"&&(r=t instanceof Duplex$7),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=getHighWaterMark$1(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){onwrite$1(t,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest$1(this)}WritableState$1.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r},function(){try{Object.defineProperty(WritableState$1.prototype,"buffer",{get:internalUtil$1.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var realHasInstance$1;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(realHasInstance$1=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable$3,Symbol.hasInstance,{value:function(t){return realHasInstance$1.call(this,t)?!0:this!==Writable$3?!1:t&&t._writableState instanceof WritableState$1}})):realHasInstance$1=function(t){return t instanceof this};function Writable$3(e){Duplex$7=Duplex$7||_stream_duplex$1;var t=this instanceof Duplex$7;if(!t&&!realHasInstance$1.call(Writable$3,this))return new Writable$3(e);this._writableState=new WritableState$1(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),Stream$4.call(this)}Writable$3.prototype.pipe=function(){errorOrDestroy$1(this,new ERR_STREAM_CANNOT_PIPE)};function writeAfterEnd$1(e,t){var r=new ERR_STREAM_WRITE_AFTER_END;errorOrDestroy$1(e,r),setTimeout(t,r)}function validChunk$1(e,t,r,n){var a;return r===null?a=new ERR_STREAM_NULL_VALUES:typeof r!="string"&&!t.objectMode&&(a=new ERR_INVALID_ARG_TYPE$2("chunk",["string","Buffer"],r)),a?(errorOrDestroy$1(e,a),setTimeout(n,a),!1):!0}Writable$3.prototype.write=function(e,t,r){var n=this._writableState,a=!1,o=!n.objectMode&&_isUint8Array$3(e);return o&&!Buffer$6.isBuffer(e)&&(e=_uint8ArrayToBuffer$3(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=nop$1),n.ending?writeAfterEnd$1(this,r):(o||validChunk$1(this,n,e,r))&&(n.pendingcb++,a=writeOrBuffer$1(this,n,o,e,t,r)),a},Writable$3.prototype.cork=function(){this._writableState.corked++},Writable$3.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&clearBuffer$1(this,e))},Writable$3.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new ERR_UNKNOWN_ENCODING(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(Writable$3.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function decodeChunk$1(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Buffer$6.from(t,r)),t}Object.defineProperty(Writable$3.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function writeOrBuffer$1(e,t,r,n,a,o){if(!r){var s=decodeChunk$1(t,n,a);n!==s&&(r=!0,a="buffer",n=s)}var l=t.objectMode?1:n.length;t.length+=l;var p=t.length<t.highWaterMark;if(p||(t.needDrain=!0),t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:o,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite$1(e,t,!1,l,n,a,o);return p}function doWrite$1(e,t,r,n,a,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new ERR_STREAM_DESTROYED$1("write")):r?e._writev(a,t.onwrite):e._write(a,o,t.onwrite),t.sync=!1}function onwriteError$1(e,t,r,n,a){--t.pendingcb,r?(setTimeout(a,n),setTimeout(finishMaybe$1,e,t),e._writableState.errorEmitted=!0,errorOrDestroy$1(e,n)):(a(n),e._writableState.errorEmitted=!0,errorOrDestroy$1(e,n),finishMaybe$1(e,t))}function onwriteStateUpdate$1(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite$1(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if(typeof a!="function")throw new ERR_MULTIPLE_CALLBACK$1;if(onwriteStateUpdate$1(r),t)onwriteError$1(e,r,n,t,a);else{var o=needFinish$1(r)||e.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&clearBuffer$1(e,r),n?setTimeout(afterWrite$1,e,r,o,a):afterWrite$1(e,r,o,a)}}function afterWrite$1(e,t,r,n){r||onwriteDrain$1(e,t),t.pendingcb--,n(),finishMaybe$1(e,t)}function onwriteDrain$1(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer$1(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,a=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0,l=!0;r;)a[s]=r,r.isBuf||(l=!1),r=r.next,s+=1;a.allBuffers=l,doWrite$1(e,t,!0,t.length,a,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new CorkedRequest$1(t),t.bufferedRequestCount=0}else{for(;r;){var p=r.chunk,d=r.encoding,g=r.callback,x=t.objectMode?1:p.length;if(doWrite$1(e,t,!1,x,p,d,g),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}Writable$3.prototype._write=function(e,t,r){r(new ERR_METHOD_NOT_IMPLEMENTED$2("_write()"))},Writable$3.prototype._writev=null,Writable$3.prototype.end=function(e,t,r){var n=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||endWritable$1(this,n,r),this},Object.defineProperty(Writable$3.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function needFinish$1(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function callFinal$1(e,t){e._final(function(r){t.pendingcb--,r&&errorOrDestroy$1(e,r),t.prefinished=!0,e.emit("prefinish"),finishMaybe$1(e,t)})}function prefinish$3(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,setTimeout(callFinal$1,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function finishMaybe$1(e,t){var r=needFinish$1(t);if(r&&(prefinish$3(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function endWritable$1(e,t,r){t.ending=!0,finishMaybe$1(e,t),r&&(t.finished?setTimeout(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function onCorkedFinish$1(e,t,r){var n=e.entry;for(e.entry=null;n;){var a=n.callback;t.pendingcb--,a(r),n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(Writable$3.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){!this._writableState||(this._writableState.destroyed=t)}}),Writable$3.prototype.destroy=destroyImpl$3.destroy,Writable$3.prototype._undestroy=destroyImpl$3.undestroy,Writable$3.prototype._destroy=function(e,t){t(e)};var objectKeys$1=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},_stream_duplex$1=Duplex$6,Readable$4=_stream_readable$1,Writable$2=_stream_writable$1;inherits$1.exports(Duplex$6,Readable$4);for(var keys$1=objectKeys$1(Writable$2.prototype),v$1=0;v$1<keys$1.length;v$1++){var method$1=keys$1[v$1];Duplex$6.prototype[method$1]||(Duplex$6.prototype[method$1]=Writable$2.prototype[method$1])}function Duplex$6(e){if(!(this instanceof Duplex$6))return new Duplex$6(e);Readable$4.call(this,e),Writable$2.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",onend$1)))}Object.defineProperty(Duplex$6.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex$6.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Duplex$6.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function onend$1(){this._writableState.ended||setTimeout(onEndNT$1,this)}function onEndNT$1(e){e.end()}Object.defineProperty(Duplex$6.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});var string_decoder$1={},safeBuffer$1={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=buffer$1,n=r.Buffer;function a(s,l){for(var p in s)l[p]=s[p]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o);function o(s,l,p){return n(s,l,p)}o.prototype=Object.create(n.prototype),a(n,o),o.from=function(s,l,p){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,l,p)},o.alloc=function(s,l,p){if(typeof s!="number")throw new TypeError("Argument must be a number");var d=n(s);return l!==void 0?typeof p=="string"?d.fill(l,p):d.fill(l):d.fill(0),d},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(safeBuffer$1,safeBuffer$1.exports);var Buffer$5=safeBuffer$1.exports.Buffer,isEncoding$1=Buffer$5.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding$1(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function normalizeEncoding$1(e){var t=_normalizeEncoding$1(e);if(typeof t!="string"&&(Buffer$5.isEncoding===isEncoding$1||!isEncoding$1(e)))throw new Error("Unknown encoding: "+e);return t||e}string_decoder$1.StringDecoder=StringDecoder$3;function StringDecoder$3(e){this.encoding=normalizeEncoding$1(e);var t;switch(this.encoding){case"utf16le":this.text=utf16Text$1,this.end=utf16End$1,t=4;break;case"utf8":this.fillLast=utf8FillLast$1,t=4;break;case"base64":this.text=base64Text$1,this.end=base64End$1,t=3;break;default:this.write=simpleWrite$1,this.end=simpleEnd$1;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$5.allocUnsafe(t)}StringDecoder$3.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},StringDecoder$3.prototype.end=utf8End$1,StringDecoder$3.prototype.text=utf8Text$1,StringDecoder$3.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function utf8CheckByte$1(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function utf8CheckIncomplete$1(e,t,r){var n=t.length-1;if(n<r)return 0;var a=utf8CheckByte$1(t[n]);return a>=0?(a>0&&(e.lastNeed=a-1),a):--n<r||a===-2?0:(a=utf8CheckByte$1(t[n]),a>=0?(a>0&&(e.lastNeed=a-2),a):--n<r||a===-2?0:(a=utf8CheckByte$1(t[n]),a>=0?(a>0&&(a===2?a=0:e.lastNeed=a-3),a):0))}function utf8CheckExtraBytes$1(e,t,r){if((t[0]&192)!=128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!=128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!=128)return e.lastNeed=2,"\uFFFD"}}function utf8FillLast$1(e){var t=this.lastTotal-this.lastNeed,r=utf8CheckExtraBytes$1(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function utf8Text$1(e,t){var r=utf8CheckIncomplete$1(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function utf8End$1(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function utf16Text$1(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function utf16End$1(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function base64Text$1(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function base64End$1(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function simpleWrite$1(e){return e.toString(this.encoding)}function simpleEnd$1(e){return e&&e.length?this.write(e):""}var ERR_STREAM_PREMATURE_CLOSE=errors.codes.ERR_STREAM_PREMATURE_CLOSE;function once$1(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];e.apply(this,n)}}}function noop$1(){}function isRequest$1(e){return e.setHeader&&typeof e.abort=="function"}function eos$1(e,t,r){if(typeof t=="function")return eos$1(e,null,t);t||(t={}),r=once$1(r||noop$1);var n=t.readable||t.readable!==!1&&e.readable,a=t.writable||t.writable!==!1&&e.writable,o=function(){e.writable||l()},s=e._writableState&&e._writableState.finished,l=function(){a=!1,s=!0,n||r.call(e)},p=e._readableState&&e._readableState.endEmitted,d=function(){n=!1,p=!0,a||r.call(e)},g=function(E){r.call(e,E)},x=function(){var E;if(n&&!p)return(!e._readableState||!e._readableState.ended)&&(E=new ERR_STREAM_PREMATURE_CLOSE),r.call(e,E);if(a&&!s)return(!e._writableState||!e._writableState.ended)&&(E=new ERR_STREAM_PREMATURE_CLOSE),r.call(e,E)},w=function(){e.req.on("finish",l)};return isRequest$1(e)?(e.on("complete",l),e.on("abort",x),e.req?w():e.on("request",w)):a&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",d),e.on("finish",l),t.error!==!1&&e.on("error",g),e.on("close",x),function(){e.removeListener("complete",l),e.removeListener("abort",x),e.removeListener("request",w),e.req&&e.req.removeListener("finish",l),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",l),e.removeListener("end",d),e.removeListener("error",g),e.removeListener("close",x)}}var endOfStream=eos$1,_Object$setPrototypeO;function _defineProperty$1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var finished=endOfStream,kLastResolve=Symbol("lastResolve"),kLastReject=Symbol("lastReject"),kError=Symbol("error"),kEnded=Symbol("ended"),kLastPromise=Symbol("lastPromise"),kHandlePromise=Symbol("handlePromise"),kStream=Symbol("stream");function createIterResult(e,t){return{value:e,done:t}}function readAndResolve(e){var t=e[kLastResolve];if(t!==null){var r=e[kStream].read();r!==null&&(e[kLastPromise]=null,e[kLastResolve]=null,e[kLastReject]=null,t(createIterResult(r,!1)))}}function onReadable(e){setTimeout(readAndResolve,e)}function wrapForNext(e,t){return function(r,n){e.then(function(){if(t[kEnded]){r(createIterResult(void 0,!0));return}t[kHandlePromise](r,n)},n)}}var AsyncIteratorPrototype=Object.getPrototypeOf(function(){}),ReadableStreamAsyncIteratorPrototype=Object.setPrototypeOf((_Object$setPrototypeO={get stream(){return this[kStream]},next:function(){var t=this,r=this[kError];if(r!==null)return Promise.reject(r);if(this[kEnded])return Promise.resolve(createIterResult(void 0,!0));if(this[kStream].destroyed)return new Promise(function(s,l){setTimeout(function(){t[kError]?l(t[kError]):s(createIterResult(void 0,!0))})});var n=this[kLastPromise],a;if(n)a=new Promise(wrapForNext(n,this));else{var o=this[kStream].read();if(o!==null)return Promise.resolve(createIterResult(o,!1));a=new Promise(this[kHandlePromise])}return this[kLastPromise]=a,a}},_defineProperty$1(_Object$setPrototypeO,Symbol.asyncIterator,function(){return this}),_defineProperty$1(_Object$setPrototypeO,"return",function(){var t=this;return new Promise(function(r,n){t[kStream].destroy(null,function(a){if(a){n(a);return}r(createIterResult(void 0,!0))})})}),_Object$setPrototypeO),AsyncIteratorPrototype),createReadableStreamAsyncIterator$1=function(t){var r,n=Object.create(ReadableStreamAsyncIteratorPrototype,(r={},_defineProperty$1(r,kStream,{value:t,writable:!0}),_defineProperty$1(r,kLastResolve,{value:null,writable:!0}),_defineProperty$1(r,kLastReject,{value:null,writable:!0}),_defineProperty$1(r,kError,{value:null,writable:!0}),_defineProperty$1(r,kEnded,{value:t._readableState.endEmitted,writable:!0}),_defineProperty$1(r,kHandlePromise,{value:function(o,s){var l=n[kStream].read();l?(n[kLastPromise]=null,n[kLastResolve]=null,n[kLastReject]=null,o(createIterResult(l,!1))):(n[kLastResolve]=o,n[kLastReject]=s)},writable:!0}),r));return n[kLastPromise]=null,finished(t,function(a){if(a&&a.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[kLastReject];o!==null&&(n[kLastPromise]=null,n[kLastResolve]=null,n[kLastReject]=null,o(a)),n[kError]=a;return}var s=n[kLastResolve];s!==null&&(n[kLastPromise]=null,n[kLastResolve]=null,n[kLastReject]=null,s(createIterResult(void 0,!0))),n[kEnded]=!0}),t.on("readable",onReadable.bind(null,n)),n},async_iterator=createReadableStreamAsyncIterator$1;function asyncGeneratorStep(e,t,r,n,a,o,s){try{var l=e[o](s),p=l.value}catch(d){r(d);return}l.done?t(p):Promise.resolve(p).then(n,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function s(p){asyncGeneratorStep(o,n,a,s,l,"next",p)}function l(p){asyncGeneratorStep(o,n,a,s,l,"throw",p)}s(void 0)})}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(n){_defineProperty(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ERR_INVALID_ARG_TYPE$1=errors.codes.ERR_INVALID_ARG_TYPE;function from$1(e,t,r){var n;if(t&&typeof t.next=="function")n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])n=t[Symbol.iterator]();else throw new ERR_INVALID_ARG_TYPE$1("iterable",["Iterable"],t);var a=new e(_objectSpread({objectMode:!0},r)),o=!1;a._read=function(){o||(o=!0,s())};function s(){return l.apply(this,arguments)}function l(){return l=_asyncToGenerator(function*(){try{var p=yield n.next(),d=p.value,g=p.done;g?a.push(null):a.push(yield d)?s():o=!1}catch(x){a.destroy(x)}}),l.apply(this,arguments)}return a}var from_1=from$1,_stream_readable$1=Readable$3,Duplex$5;Readable$3.ReadableState=ReadableState$1,events.exports.EventEmitter;var EElistenerCount$1=function(t,r){return t.listeners(r).length},Stream$3=stream$1,Buffer$4=buffer$1.Buffer,OurUint8Array$2=commonjsGlobal.Uint8Array||function(){};function _uint8ArrayToBuffer$2(e){return Buffer$4.from(e)}function _isUint8Array$2(e){return Buffer$4.isBuffer(e)||e instanceof OurUint8Array$2}var debugUtil$1=util$7,debug$1;debugUtil$1&&debugUtil$1.debuglog?debug$1=debugUtil$1.debuglog("stream"):debug$1=function(){};var BufferList$2=buffer_list,destroyImpl$2=destroy_1$1,_require=state,getHighWaterMark=_require.getHighWaterMark,_require$codes$2=errors.codes,ERR_INVALID_ARG_TYPE=_require$codes$2.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF=_require$codes$2.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED$1=_require$codes$2.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT=_require$codes$2.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,StringDecoder$2,createReadableStreamAsyncIterator,from;inherits$1.exports(Readable$3,Stream$3);var errorOrDestroy=destroyImpl$2.errorOrDestroy,kProxyEvents$1=["error","close","destroy","pause","resume"];function prependListener$1(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function ReadableState$1(e,t,r){Duplex$5=Duplex$5||_stream_duplex$1,e=e||{},typeof r!="boolean"&&(r=t instanceof Duplex$5),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=getHighWaterMark(this,e,"readableHighWaterMark",r),this.buffer=new BufferList$2,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder$2||(StringDecoder$2=string_decoder$1.StringDecoder),this.decoder=new StringDecoder$2(e.encoding),this.encoding=e.encoding)}function Readable$3(e){if(Duplex$5=Duplex$5||_stream_duplex$1,!(this instanceof Readable$3))return new Readable$3(e);var t=this instanceof Duplex$5;this._readableState=new ReadableState$1(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Stream$3.call(this)}Object.defineProperty(Readable$3.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){!this._readableState||(this._readableState.destroyed=t)}}),Readable$3.prototype.destroy=destroyImpl$2.destroy,Readable$3.prototype._undestroy=destroyImpl$2.undestroy,Readable$3.prototype._destroy=function(e,t){t(e)},Readable$3.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Buffer$4.from(e,t),t=""),n=!0),readableAddChunk$1(this,e,t,!1,n)},Readable$3.prototype.unshift=function(e){return readableAddChunk$1(this,e,null,!0,!1)};function readableAddChunk$1(e,t,r,n,a){debug$1("readableAddChunk",t);var o=e._readableState;if(t===null)o.reading=!1,onEofChunk$1(e,o);else{var s;if(a||(s=chunkInvalid$1(o,t)),s)errorOrDestroy(e,s);else if(o.objectMode||t&&t.length>0)if(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==Buffer$4.prototype&&(t=_uint8ArrayToBuffer$2(t)),n)o.endEmitted?errorOrDestroy(e,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT):addChunk$1(e,o,t,!0);else if(o.ended)errorOrDestroy(e,new ERR_STREAM_PUSH_AFTER_EOF);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?addChunk$1(e,o,t,!1):maybeReadMore$1(e,o)):addChunk$1(e,o,t,!1)}else n||(o.reading=!1,maybeReadMore$1(e,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function addChunk$1(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable$1(e)),maybeReadMore$1(e,t)}function chunkInvalid$1(e,t){var r;return!_isUint8Array$2(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],t)),r}Readable$3.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable$3.prototype.setEncoding=function(e){StringDecoder$2||(StringDecoder$2=string_decoder$1.StringDecoder);var t=new StringDecoder$2(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var MAX_HWM$1=1073741824;function computeNewHighWaterMark$1(e){return e>=MAX_HWM$1?e=MAX_HWM$1:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead$1(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark$1(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}Readable$3.prototype.read=function(e){debug$1("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return debug$1("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?endReadable$1(this):emitReadable$1(this),null;if(e=howMuchToRead$1(e,t),e===0&&t.ended)return t.length===0&&endReadable$1(this),null;var n=t.needReadable;debug$1("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,debug$1("length less than watermark",n)),t.ended||t.reading?(n=!1,debug$1("reading or ended",n)):n&&(debug$1("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead$1(r,t)));var a;return e>0?a=fromList$1(e,t):a=null,a===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable$1(this)),a!==null&&this.emit("data",a),a};function onEofChunk$1(e,t){if(debug$1("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?emitReadable$1(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,emitReadable_$1(e)))}}function emitReadable$1(e){var t=e._readableState;debug$1("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(debug$1("emitReadable",t.flowing),t.emittedReadable=!0,setTimeout(emitReadable_$1,e))}function emitReadable_$1(e){var t=e._readableState;debug$1("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,flow$1(e)}function maybeReadMore$1(e,t){t.readingMore||(t.readingMore=!0,setTimeout(maybeReadMore_$1,e,t))}function maybeReadMore_$1(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(debug$1("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}Readable$3.prototype._read=function(e){errorOrDestroy(this,new ERR_METHOD_NOT_IMPLEMENTED$1("_read()"))},Readable$3.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,debug$1("pipe count=%d opts=%j",n.pipesCount,t);var a=(!t||t.end!==!1)&&e!==null&&e!==null,o=a?l:I;n.endEmitted?setTimeout(o):r.once("end",o),e.on("unpipe",s);function s(D,k){debug$1("onunpipe"),D===r&&k&&k.hasUnpiped===!1&&(k.hasUnpiped=!0,g())}function l(){debug$1("onend"),e.end()}var p=pipeOnDrain$1(r);e.on("drain",p);var d=!1;function g(){debug$1("cleanup"),e.removeListener("close",y),e.removeListener("finish",E),e.removeListener("drain",p),e.removeListener("error",w),e.removeListener("unpipe",s),r.removeListener("end",l),r.removeListener("end",I),r.removeListener("data",x),d=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&p()}r.on("data",x);function x(D){debug$1("ondata");var k=e.write(D);debug$1("dest.write",k),k===!1&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&indexOf$1(n.pipes,e)!==-1)&&!d&&(debug$1("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function w(D){debug$1("onerror",D),I(),e.removeListener("error",w),EElistenerCount$1(e,"error")===0&&errorOrDestroy(e,D)}prependListener$1(e,"error",w);function y(){e.removeListener("finish",E),I()}e.once("close",y);function E(){debug$1("onfinish"),e.removeListener("close",y),I()}e.once("finish",E);function I(){debug$1("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(debug$1("pipe resume"),r.resume()),e};function pipeOnDrain$1(e){return function(){var r=e._readableState;debug$1("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&EElistenerCount$1(e,"data")&&(r.flowing=!0,flow$1(e))}}Readable$3.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<a;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=indexOf$1(t.pipes,e);return s===-1?this:(t.pipes.splice(s,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},Readable$3.prototype.on=function(e,t){var r=Stream$3.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,debug$1("on readable",n.length,n.reading),n.length?emitReadable$1(this):n.reading||setTimeout(nReadingNextTick$1,this)),r},Readable$3.prototype.addListener=Readable$3.prototype.on,Readable$3.prototype.removeListener=function(e,t){var r=Stream$3.prototype.removeListener.call(this,e,t);return e==="readable"&&setTimeout(updateReadableListening,this),r},Readable$3.prototype.removeAllListeners=function(e){var t=Stream$3.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&setTimeout(updateReadableListening,this),t};function updateReadableListening(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function nReadingNextTick$1(e){debug$1("readable nexttick read 0"),e.read(0)}Readable$3.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug$1("resume"),e.flowing=!e.readableListening,resume$1(this,e)),e.paused=!1,this};function resume$1(e,t){t.resumeScheduled||(t.resumeScheduled=!0,setTimeout(resume_$1,e,t))}function resume_$1(e,t){debug$1("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),flow$1(e),t.flowing&&!t.reading&&e.read(0)}Readable$3.prototype.pause=function(){return debug$1("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(debug$1("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function flow$1(e){var t=e._readableState;for(debug$1("flow",t.flowing);t.flowing&&e.read()!==null;);}Readable$3.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(debug$1("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&t.push(s)}t.push(null)}),e.on("data",function(s){if(debug$1("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var l=t.push(s);l||(n=!0,e.pause())}});for(var a in e)this[a]===void 0&&typeof e[a]=="function"&&(this[a]=function(l){return function(){return e[l].apply(e,arguments)}}(a));for(var o=0;o<kProxyEvents$1.length;o++)e.on(kProxyEvents$1[o],this.emit.bind(this,kProxyEvents$1[o]));return this._read=function(s){debug$1("wrapped _read",s),n&&(n=!1,e.resume())},this},typeof Symbol=="function"&&(Readable$3.prototype[Symbol.asyncIterator]=function(){return createReadableStreamAsyncIterator===void 0&&(createReadableStreamAsyncIterator=async_iterator),createReadableStreamAsyncIterator(this)}),Object.defineProperty(Readable$3.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Readable$3.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Readable$3.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),Readable$3._fromList=fromList$1,Object.defineProperty(Readable$3.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function fromList$1(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function endReadable$1(e){var t=e._readableState;debug$1("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,setTimeout(endReadableNT$1,t,e))}function endReadableNT$1(e,t){if(debug$1("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(Readable$3.from=function(e,t){return from===void 0&&(from=from_1),from(Readable$3,e,t)});function indexOf$1(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}var _stream_transform$1=Transform$3,_require$codes$1=errors.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex$4=_stream_duplex$1;inherits$1.exports(Transform$3,Duplex$4);function afterTransform$1(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function Transform$3(e){if(!(this instanceof Transform$3))return new Transform$3(e);Duplex$4.call(this,e),this._transformState={afterTransform:afterTransform$1.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",prefinish$2)}function prefinish$2(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){done$1(e,t,r)}):done$1(this,null,null)}Transform$3.prototype.push=function(e,t){return this._transformState.needTransform=!1,Duplex$4.prototype.push.call(this,e,t)},Transform$3.prototype._transform=function(e,t,r){r(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))},Transform$3.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},Transform$3.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Transform$3.prototype._destroy=function(e,t){Duplex$4.prototype._destroy.call(this,e,function(r){t(r)})};function done$1(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(e._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return e.push(null)}var _stream_passthrough$1=PassThrough$1,Transform$2=_stream_transform$1;inherits$1.exports(PassThrough$1,Transform$2);function PassThrough$1(e){if(!(this instanceof PassThrough$1))return new PassThrough$1(e);Transform$2.call(this,e)}PassThrough$1.prototype._transform=function(e,t,r){r(null,e)};var eos;function once(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var _require$codes=errors.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(e){if(e)throw e}function isRequest(e){return e.setHeader&&typeof e.abort=="function"}function destroyer(e,t,r,n){n=once(n);var a=!1;e.on("close",function(){a=!0}),eos===void 0&&(eos=endOfStream),eos(e,{readable:t,writable:r},function(s){if(s)return n(s);a=!0,n()});var o=!1;return function(s){if(!a&&!o){if(o=!0,isRequest(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(s||new ERR_STREAM_DESTROYED("pipe"))}}}function call(e){e()}function pipe(e,t){return e.pipe(t)}function popCallback(e){return!e.length||typeof e[e.length-1]!="function"?noop:e.pop()}function pipeline(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=popCallback(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new ERR_MISSING_ARGS("streams");var a,o=t.map(function(s,l){var p=l<t.length-1,d=l>0;return destroyer(s,p,d,function(g){a||(a=g),g&&o.forEach(call),!p&&(o.forEach(call),n(a))})});return t.reduce(pipe)}var pipeline_1=pipeline,streamBrowserify=Stream$2,EE=events.exports.EventEmitter,inherits=inherits$1.exports;inherits(Stream$2,EE),Stream$2.Readable=_stream_readable$1,Stream$2.Writable=_stream_writable$1,Stream$2.Duplex=_stream_duplex$1,Stream$2.Transform=_stream_transform$1,Stream$2.PassThrough=_stream_passthrough$1,Stream$2.finished=endOfStream,Stream$2.pipeline=pipeline_1,Stream$2.Stream=Stream$2;function Stream$2(){EE.call(this)}Stream$2.prototype.pipe=function(e,t){var r=this;function n(g){e.writable&&e.write(g)===!1&&r.pause&&r.pause()}r.on("data",n);function a(){r.readable&&r.resume&&r.resume()}e.on("drain",a),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",s),r.on("close",l));var o=!1;function s(){o||(o=!0,e.end())}function l(){o||(o=!0,typeof e.destroy=="function"&&e.destroy())}function p(g){if(d(),EE.listenerCount(this,"error")===0)throw g}r.on("error",p),e.on("error",p);function d(){r.removeListener("data",n),e.removeListener("drain",a),r.removeListener("end",s),r.removeListener("close",l),r.removeListener("error",p),e.removeListener("error",p),r.removeListener("end",d),r.removeListener("close",d),e.removeListener("close",d)}return r.on("end",d),r.on("close",d),e.on("close",d),e.emit("pipe",r),e};var undefinedNextickArgs={exports:{}};undefinedNextickArgs.exports={nextTick:nextTick$1};function nextTick$1(e,t,r,n){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var a=arguments.length,o,s;switch(a){case 0:case 1:return setTimeout(e);case 2:return setTimeout(function(){e.call(null,t)});case 3:return setTimeout(function(){e.call(null,t,r)});case 4:return setTimeout(function(){e.call(null,t,r,n)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return setTimeout(function(){e.apply(null,o)})}}var toString$2={}.toString,isarray=Array.isArray||function(e){return toString$2.call(e)=="[object Array]"},stream=streamBrowserify,safeBuffer={exports:{}};(function(e,t){var r=buffer$1,n=r.Buffer;function a(s,l){for(var p in s)l[p]=s[p]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o);function o(s,l,p){return n(s,l,p)}a(n,o),o.from=function(s,l,p){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,l,p)},o.alloc=function(s,l,p){if(typeof s!="number")throw new TypeError("Argument must be a number");var d=n(s);return l!==void 0?typeof p=="string"?d.fill(l,p):d.fill(l):d.fill(0),d},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(safeBuffer,safeBuffer.exports);var util$5={};function isArray$1(e){return Array.isArray?Array.isArray(e):objectToString(e)==="[object Array]"}util$5.isArray=isArray$1;function isBoolean(e){return typeof e=="boolean"}util$5.isBoolean=isBoolean;function isNull(e){return e===null}util$5.isNull=isNull;function isNullOrUndefined(e){return e==null}util$5.isNullOrUndefined=isNullOrUndefined;function isNumber(e){return typeof e=="number"}util$5.isNumber=isNumber;function isString(e){return typeof e=="string"}util$5.isString=isString;function isSymbol(e){return typeof e=="symbol"}util$5.isSymbol=isSymbol;function isUndefined(e){return e===void 0}util$5.isUndefined=isUndefined;function isRegExp$1(e){return objectToString(e)==="[object RegExp]"}util$5.isRegExp=isRegExp$1;function isObject$1(e){return typeof e=="object"&&e!==null}util$5.isObject=isObject$1;function isDate(e){return objectToString(e)==="[object Date]"}util$5.isDate=isDate;function isError(e){return objectToString(e)==="[object Error]"||e instanceof Error}util$5.isError=isError;function isFunction(e){return typeof e=="function"}util$5.isFunction=isFunction;function isPrimitive(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e=="undefined"}util$5.isPrimitive=isPrimitive,util$5.isBuffer=Buffer.isBuffer;function objectToString(e){return Object.prototype.toString.call(e)}var BufferList$1={exports:{}};(function(e){function t(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}var r=safeBuffer.exports.Buffer,n=util$7;function a(o,s,l){o.copy(s,l)}e.exports=function(){function o(){t(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(l){var p={data:l,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length},o.prototype.unshift=function(l){var p={data:l,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length},o.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(l){if(this.length===0)return"";for(var p=this.head,d=""+p.data;p=p.next;)d+=l+p.data;return d},o.prototype.concat=function(l){if(this.length===0)return r.alloc(0);if(this.length===1)return this.head.data;for(var p=r.allocUnsafe(l>>>0),d=this.head,g=0;d;)a(d.data,p,g),g+=d.data.length,d=d.next;return p},o}(),n&&n.inspect&&n.inspect.custom&&(e.exports.prototype[n.inspect.custom]=function(){var o=n.inspect({length:this.length});return this.constructor.name+" "+o})})(BufferList$1);var pna$3=undefinedNextickArgs.exports;function destroy(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&pna$3.nextTick(emitErrorNT,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?(pna$3.nextTick(emitErrorNT,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(o)}),this)}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(e,t){e.emit("error",t)}var destroy_1={destroy,undestroy},pna$2=undefinedNextickArgs.exports,_stream_writable=Writable$1;function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(t,e)}}var asyncWrite=pna$2.nextTick,Duplex$3;Writable$1.WritableState=WritableState;var util$4=Object.create(util$5);util$4.inherits=inherits$1.exports;var internalUtil={deprecate:node},Stream$1=stream,Buffer$3=safeBuffer.exports.Buffer,OurUint8Array$1=commonjsGlobal.Uint8Array||function(){};function _uint8ArrayToBuffer$1(e){return Buffer$3.from(e)}function _isUint8Array$1(e){return Buffer$3.isBuffer(e)||e instanceof OurUint8Array$1}var destroyImpl$1=destroy_1;util$4.inherits(Writable$1,Stream$1);function nop(){}function WritableState(e,t){Duplex$3=Duplex$3||_stream_duplex,e=e||{};var r=t instanceof Duplex$3;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,a=e.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(a||a===0)?this.highWaterMark=a:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=e.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(l){onwrite(t,l)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var realHasInstance;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable$1,Symbol.hasInstance,{value:function(e){return realHasInstance.call(this,e)?!0:this!==Writable$1?!1:e&&e._writableState instanceof WritableState}})):realHasInstance=function(e){return e instanceof this};function Writable$1(e){if(Duplex$3=Duplex$3||_stream_duplex,!realHasInstance.call(Writable$1,this)&&!(this instanceof Duplex$3))return new Writable$1(e);this._writableState=new WritableState(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),Stream$1.call(this)}Writable$1.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function writeAfterEnd(e,t){var r=new Error("write after end");e.emit("error",r),pna$2.nextTick(t,r)}function validChunk(e,t,r,n){var a=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),pna$2.nextTick(n,o),a=!1),a}Writable$1.prototype.write=function(e,t,r){var n=this._writableState,a=!1,o=!n.objectMode&&_isUint8Array$1(e);return o&&!Buffer$3.isBuffer(e)&&(e=_uint8ArrayToBuffer$1(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=nop),n.ended?writeAfterEnd(this,r):(o||validChunk(this,n,e,r))&&(n.pendingcb++,a=writeOrBuffer(this,n,o,e,t,r)),a},Writable$1.prototype.cork=function(){var e=this._writableState;e.corked++},Writable$1.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&clearBuffer(this,e))},Writable$1.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function decodeChunk(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Buffer$3.from(t,r)),t}Object.defineProperty(Writable$1.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function writeOrBuffer(e,t,r,n,a,o){if(!r){var s=decodeChunk(t,n,a);n!==s&&(r=!0,a="buffer",n=s)}var l=t.objectMode?1:n.length;t.length+=l;var p=t.length<t.highWaterMark;if(p||(t.needDrain=!0),t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:o,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,l,n,a,o);return p}function doWrite(e,t,r,n,a,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(a,t.onwrite):e._write(a,o,t.onwrite),t.sync=!1}function onwriteError(e,t,r,n,a){--t.pendingcb,r?(pna$2.nextTick(a,n),pna$2.nextTick(finishMaybe,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(a(n),e._writableState.errorEmitted=!0,e.emit("error",n),finishMaybe(e,t))}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if(onwriteStateUpdate(r),t)onwriteError(e,r,n,t,a);else{var o=needFinish(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&clearBuffer(e,r),n?asyncWrite(afterWrite,e,r,o,a):afterWrite(e,r,o,a)}}function afterWrite(e,t,r,n){r||onwriteDrain(e,t),t.pendingcb--,n(),finishMaybe(e,t)}function onwriteDrain(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,a=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0,l=!0;r;)a[s]=r,r.isBuf||(l=!1),r=r.next,s+=1;a.allBuffers=l,doWrite(e,t,!0,t.length,a,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new CorkedRequest(t),t.bufferedRequestCount=0}else{for(;r;){var p=r.chunk,d=r.encoding,g=r.callback,x=t.objectMode?1:p.length;if(doWrite(e,t,!1,x,p,d,g),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}Writable$1.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},Writable$1.prototype._writev=null,Writable$1.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&endWritable(this,n,r)};function needFinish(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function callFinal(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),finishMaybe(e,t)})}function prefinish$1(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,pna$2.nextTick(callFinal,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function finishMaybe(e,t){var r=needFinish(t);return r&&(prefinish$1(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?pna$2.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function onCorkedFinish(e,t,r){var n=e.entry;for(e.entry=null;n;){var a=n.callback;t.pendingcb--,a(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty(Writable$1.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}}),Writable$1.prototype.destroy=destroyImpl$1.destroy,Writable$1.prototype._undestroy=destroyImpl$1.undestroy,Writable$1.prototype._destroy=function(e,t){this.end(),t(e)};var pna$1=undefinedNextickArgs.exports,objectKeys=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},_stream_duplex=Duplex$2,util$3=Object.create(util$5);util$3.inherits=inherits$1.exports;var Readable$2=_stream_readable,Writable=_stream_writable;util$3.inherits(Duplex$2,Readable$2);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex$2.prototype[method]||(Duplex$2.prototype[method]=Writable.prototype[method])}function Duplex$2(e){if(!(this instanceof Duplex$2))return new Duplex$2(e);Readable$2.call(this,e),Writable.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",onend)}Object.defineProperty(Duplex$2.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function onend(){this.allowHalfOpen||this._writableState.ended||pna$1.nextTick(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex$2.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),Duplex$2.prototype._destroy=function(e,t){this.push(null),this.end(),pna$1.nextTick(t,e)};var string_decoder={},Buffer$2=safeBuffer.exports.Buffer,isEncoding=Buffer$2.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function normalizeEncoding(e){var t=_normalizeEncoding(e);if(typeof t!="string"&&(Buffer$2.isEncoding===isEncoding||!isEncoding(e)))throw new Error("Unknown encoding: "+e);return t||e}string_decoder.StringDecoder=StringDecoder$1;function StringDecoder$1(e){this.encoding=normalizeEncoding(e);var t;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,t=4;break;case"utf8":this.fillLast=utf8FillLast,t=4;break;case"base64":this.text=base64Text,this.end=base64End,t=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$2.allocUnsafe(t)}StringDecoder$1.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},StringDecoder$1.prototype.end=utf8End,StringDecoder$1.prototype.text=utf8Text,StringDecoder$1.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function utf8CheckByte(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function utf8CheckIncomplete(e,t,r){var n=t.length-1;if(n<r)return 0;var a=utf8CheckByte(t[n]);return a>=0?(a>0&&(e.lastNeed=a-1),a):--n<r||a===-2?0:(a=utf8CheckByte(t[n]),a>=0?(a>0&&(e.lastNeed=a-2),a):--n<r||a===-2?0:(a=utf8CheckByte(t[n]),a>=0?(a>0&&(a===2?a=0:e.lastNeed=a-3),a):0))}function utf8CheckExtraBytes(e,t,r){if((t[0]&192)!=128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!=128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!=128)return e.lastNeed=2,"\uFFFD"}}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed,r=utf8CheckExtraBytes(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function utf8Text(e,t){var r=utf8CheckIncomplete(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function utf8End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function utf16Text(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function base64Text(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function base64End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}var pna=undefinedNextickArgs.exports,_stream_readable=Readable$1,isArray=isarray,Duplex$1;Readable$1.ReadableState=ReadableState,events.exports.EventEmitter;var EElistenerCount=function(e,t){return e.listeners(t).length},Stream=stream,Buffer$1=safeBuffer.exports.Buffer,OurUint8Array=commonjsGlobal.Uint8Array||function(){};function _uint8ArrayToBuffer(e){return Buffer$1.from(e)}function _isUint8Array(e){return Buffer$1.isBuffer(e)||e instanceof OurUint8Array}var util$2=Object.create(util$5);util$2.inherits=inherits$1.exports;var debugUtil=util$7,debug=void 0;debugUtil&&debugUtil.debuglog?debug=debugUtil.debuglog("stream"):debug=function(){};var BufferList=BufferList$1.exports,destroyImpl=destroy_1,StringDecoder;util$2.inherits(Readable$1,Stream);var kProxyEvents=["error","close","destroy","pause","resume"];function prependListener(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function ReadableState(e,t){Duplex$1=Duplex$1||_stream_duplex,e=e||{};var r=t instanceof Duplex$1;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,a=e.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(a||a===0)?this.highWaterMark=a:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder||(StringDecoder=string_decoder.StringDecoder),this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable$1(e){if(Duplex$1=Duplex$1||_stream_duplex,!(this instanceof Readable$1))return new Readable$1(e);this._readableState=new ReadableState(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Stream.call(this)}Object.defineProperty(Readable$1.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}}),Readable$1.prototype.destroy=destroyImpl.destroy,Readable$1.prototype._undestroy=destroyImpl.undestroy,Readable$1.prototype._destroy=function(e,t){this.push(null),t(e)},Readable$1.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Buffer$1.from(e,t),t=""),n=!0),readableAddChunk(this,e,t,!1,n)},Readable$1.prototype.unshift=function(e){return readableAddChunk(this,e,null,!0,!1)};function readableAddChunk(e,t,r,n,a){var o=e._readableState;if(t===null)o.reading=!1,onEofChunk(e,o);else{var s;a||(s=chunkInvalid(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==Buffer$1.prototype&&(t=_uint8ArrayToBuffer(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):addChunk(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?addChunk(e,o,t,!1):maybeReadMore(e,o)):addChunk(e,o,t,!1))):n||(o.reading=!1)}return needMoreData(o)}function addChunk(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e)),maybeReadMore(e,t)}function chunkInvalid(e,t){var r;return!_isUint8Array(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}Readable$1.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable$1.prototype.setEncoding=function(e){return StringDecoder||(StringDecoder=string_decoder.StringDecoder),this._readableState.decoder=new StringDecoder(e),this._readableState.encoding=e,this};var MAX_HWM=8388608;function computeNewHighWaterMark(e){return e>=MAX_HWM?e=MAX_HWM:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}Readable$1.prototype.read=function(e){debug("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return debug("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?endReadable(this):emitReadable(this),null;if(e=howMuchToRead(e,t),e===0&&t.ended)return t.length===0&&endReadable(this),null;var n=t.needReadable;debug("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,debug("length less than watermark",n)),t.ended||t.reading?(n=!1,debug("reading or ended",n)):n&&(debug("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(r,t)));var a;return e>0?a=fromList(e,t):a=null,a===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable(this)),a!==null&&this.emit("data",a),a};function onEofChunk(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,emitReadable(e)}}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?pna.nextTick(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){debug("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,pna.nextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(debug("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}Readable$1.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},Readable$1.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,debug("pipe count=%d opts=%j",n.pipesCount,t);var a=(!t||t.end!==!1)&&e!==null&&e!==null,o=a?l:D;n.endEmitted?pna.nextTick(o):r.once("end",o),e.on("unpipe",s);function s(k,U){debug("onunpipe"),k===r&&U&&U.hasUnpiped===!1&&(U.hasUnpiped=!0,g())}function l(){debug("onend"),e.end()}var p=pipeOnDrain(r);e.on("drain",p);var d=!1;function g(){debug("cleanup"),e.removeListener("close",E),e.removeListener("finish",I),e.removeListener("drain",p),e.removeListener("error",y),e.removeListener("unpipe",s),r.removeListener("end",l),r.removeListener("end",D),r.removeListener("data",w),d=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&p()}var x=!1;r.on("data",w);function w(k){debug("ondata"),x=!1;var U=e.write(k);U===!1&&!x&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&indexOf(n.pipes,e)!==-1)&&!d&&(debug("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,x=!0),r.pause())}function y(k){debug("onerror",k),D(),e.removeListener("error",y),EElistenerCount(e,"error")===0&&e.emit("error",k)}prependListener(e,"error",y);function E(){e.removeListener("finish",I),D()}e.once("close",E);function I(){debug("onfinish"),e.removeListener("close",E),D()}e.once("finish",I);function D(){debug("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(debug("pipe resume"),r.resume()),e};function pipeOnDrain(e){return function(){var t=e._readableState;debug("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&EElistenerCount(e,"data")&&(t.flowing=!0,flow(e))}}Readable$1.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<a;o++)n[o].emit("unpipe",this,r);return this}var s=indexOf(t.pipes,e);return s===-1?this:(t.pipes.splice(s,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},Readable$1.prototype.on=function(e,t){var r=Stream.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&emitReadable(this):pna.nextTick(nReadingNextTick,this))}return r},Readable$1.prototype.addListener=Readable$1.prototype.on;function nReadingNextTick(e){debug("readable nexttick read 0"),e.read(0)}Readable$1.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!0,resume(this,e)),this};function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,pna.nextTick(resume_,e,t))}function resume_(e,t){t.reading||(debug("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}Readable$1.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function flow(e){var t=e._readableState;for(debug("flow",t.flowing);t.flowing&&e.read()!==null;);}Readable$1.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(debug("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&t.push(s)}t.push(null)}),e.on("data",function(s){if(debug("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var l=t.push(s);l||(n=!0,e.pause())}});for(var a in e)this[a]===void 0&&typeof e[a]=="function"&&(this[a]=function(s){return function(){return e[s].apply(e,arguments)}}(a));for(var o=0;o<kProxyEvents.length;o++)e.on(kProxyEvents[o],this.emit.bind(this,kProxyEvents[o]));return this._read=function(s){debug("wrapped _read",s),n&&(n=!1,e.resume())},this},Object.defineProperty(Readable$1.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Readable$1._fromList=fromList;function fromList(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=fromListPartial(e,t.buffer,t.decoder),r}function fromListPartial(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?copyFromBufferString(e,t):copyFromBuffer(e,t),n}function copyFromBufferString(e,t){var r=t.head,n=1,a=r.data;for(e-=a.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?a+=o:a+=o.slice(0,e),e-=s,e===0){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,a}function copyFromBuffer(e,t){var r=Buffer$1.allocUnsafe(e),n=t.head,a=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),e-=s,e===0){s===o.length?(++a,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++a}return t.length-=a,r}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,pna.nextTick(endReadableNT,t,e))}function endReadableNT(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function indexOf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}var _stream_transform=Transform$1,Duplex=_stream_duplex,util$1=Object.create(util$5);util$1.inherits=inherits$1.exports,util$1.inherits(Transform$1,Duplex);function afterTransform(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function Transform$1(e){if(!(this instanceof Transform$1))return new Transform$1(e);Duplex.call(this,e),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",prefinish)}function prefinish(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){done(e,t,r)}):done(this,null,null)}Transform$1.prototype.push=function(e,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,e,t)},Transform$1.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},Transform$1.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},Transform$1.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Transform$1.prototype._destroy=function(e,t){var r=this;Duplex.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function done(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}var _stream_passthrough=PassThrough,Transform=_stream_transform,util=Object.create(util$5);util.inherits=inherits$1.exports,util.inherits(PassThrough,Transform);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);Transform.call(this,e)}PassThrough.prototype._transform=function(e,t,r){r(null,e)},function(e,t){var r=streamBrowserify;t=e.exports=_stream_readable,t.Stream=r||t,t.Readable=t,t.Writable=_stream_writable,t.Duplex=_stream_duplex,t.Transform=_stream_transform,t.PassThrough=_stream_passthrough}(readable,readable.exports);var nodestream,blob;if(support$5.base64=!0,support$5.array=!0,support$5.string=!0,support$5.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",support$5.nodebuffer=typeof Buffer!="undefined",support$5.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")blob=support$5.blob=!1;else{var buffer=new ArrayBuffer(0);try{blob=support$5.blob=new Blob([buffer],{type:"application/zip"}).size===0}catch(e){try{var Builder=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,builder=new Builder;builder.append(buffer),blob=support$5.blob=builder.getBlob("application/zip").size===0}catch(t){blob=support$5.blob=!1}}}try{nodestream=support$5.nodestream=!!readable.exports.Readable}catch(e){nodestream=support$5.nodestream=!1}var base64$1={},utils$r=utils$s,support$4=support$5,_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";base64$1.encode=function(e){for(var t=[],r,n,a,o,s,l,p,d=0,g=e.length,x=g,w=utils$r.getTypeOf(e)!=="string";d<e.length;)x=g-d,w?(r=e[d++],n=d<g?e[d++]:0,a=d<g?e[d++]:0):(r=e.charCodeAt(d++),n=d<g?e.charCodeAt(d++):0,a=d<g?e.charCodeAt(d++):0),o=r>>2,s=(r&3)<<4|n>>4,l=x>1?(n&15)<<2|a>>6:64,p=x>2?a&63:64,t.push(_keyStr.charAt(o)+_keyStr.charAt(s)+_keyStr.charAt(l)+_keyStr.charAt(p));return t.join("")},base64$1.decode=function(e){var t,r,n,a,o,s,l,p=0,d=0,g="data:";if(e.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var x=e.length*3/4;if(e.charAt(e.length-1)===_keyStr.charAt(64)&&x--,e.charAt(e.length-2)===_keyStr.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");var w;for(support$4.uint8array?w=new Uint8Array(x|0):w=new Array(x|0);p<e.length;)a=_keyStr.indexOf(e.charAt(p++)),o=_keyStr.indexOf(e.charAt(p++)),s=_keyStr.indexOf(e.charAt(p++)),l=_keyStr.indexOf(e.charAt(p++)),t=a<<2|o>>4,r=(o&15)<<4|s>>2,n=(s&3)<<6|l,w[d++]=t,s!==64&&(w[d++]=r),l!==64&&(w[d++]=n);return w};var nodejsUtils$2={isNode:typeof Buffer!="undefined",newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if(typeof e=="number")throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&typeof e.on=="function"&&typeof e.pause=="function"&&typeof e.resume=="function"}},setImmediateShim=typeof setImmediate=="function"?setImmediate:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)},Mutation=commonjsGlobal.MutationObserver||commonjsGlobal.WebKitMutationObserver,scheduleDrain;if(Mutation){var called=0,observer=new Mutation(nextTick),element=commonjsGlobal.document.createTextNode("");observer.observe(element,{characterData:!0}),scheduleDrain=function(){element.data=called=++called%2}}else if(!commonjsGlobal.setImmediate&&typeof commonjsGlobal.MessageChannel!="undefined"){var channel=new commonjsGlobal.MessageChannel;channel.port1.onmessage=nextTick,scheduleDrain=function(){channel.port2.postMessage(0)}}else"document"in commonjsGlobal&&"onreadystatechange"in commonjsGlobal.document.createElement("script")?scheduleDrain=function(){var e=commonjsGlobal.document.createElement("script");e.onreadystatechange=function(){nextTick(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},commonjsGlobal.document.documentElement.appendChild(e)}:scheduleDrain=function(){setTimeout(nextTick,0)};var draining,queue=[];function nextTick(){draining=!0;for(var e,t,r=queue.length;r;){for(t=queue,queue=[],e=-1;++e<r;)t[e]();r=queue.length}draining=!1}var lib$2=immediate$1;function immediate$1(e){queue.push(e)===1&&!draining&&scheduleDrain()}var immediate=lib$2;function INTERNAL(){}var handlers={},REJECTED=["REJECTED"],FULFILLED=["FULFILLED"],PENDING=["PENDING"],lib$1=Promise$1;function Promise$1(e){if(typeof e!="function")throw new TypeError("resolver must be a function");this.state=PENDING,this.queue=[],this.outcome=void 0,e!==INTERNAL&&safelyResolveThenable(this,e)}Promise$1.prototype.finally=function(e){if(typeof e!="function")return this;var t=this.constructor;return this.then(r,n);function r(a){function o(){return a}return t.resolve(e()).then(o)}function n(a){function o(){throw a}return t.resolve(e()).then(o)}},Promise$1.prototype.catch=function(e){return this.then(null,e)},Promise$1.prototype.then=function(e,t){if(typeof e!="function"&&this.state===FULFILLED||typeof t!="function"&&this.state===REJECTED)return this;var r=new this.constructor(INTERNAL);if(this.state!==PENDING){var n=this.state===FULFILLED?e:t;unwrap(r,n,this.outcome)}else this.queue.push(new QueueItem(r,e,t));return r};function QueueItem(e,t,r){this.promise=e,typeof t=="function"&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),typeof r=="function"&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}QueueItem.prototype.callFulfilled=function(e){handlers.resolve(this.promise,e)},QueueItem.prototype.otherCallFulfilled=function(e){unwrap(this.promise,this.onFulfilled,e)},QueueItem.prototype.callRejected=function(e){handlers.reject(this.promise,e)},QueueItem.prototype.otherCallRejected=function(e){unwrap(this.promise,this.onRejected,e)};function unwrap(e,t,r){immediate(function(){var n;try{n=t(r)}catch(a){return handlers.reject(e,a)}n===e?handlers.reject(e,new TypeError("Cannot resolve promise with itself")):handlers.resolve(e,n)})}handlers.resolve=function(e,t){var r=tryCatch(getThen,t);if(r.status==="error")return handlers.reject(e,r.value);var n=r.value;if(n)safelyResolveThenable(e,n);else{e.state=FULFILLED,e.outcome=t;for(var a=-1,o=e.queue.length;++a<o;)e.queue[a].callFulfilled(t)}return e},handlers.reject=function(e,t){e.state=REJECTED,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e};function getThen(e){var t=e&&e.then;if(e&&(typeof e=="object"||typeof e=="function")&&typeof t=="function")return function(){t.apply(e,arguments)}}function safelyResolveThenable(e,t){var r=!1;function n(l){r||(r=!0,handlers.reject(e,l))}function a(l){r||(r=!0,handlers.resolve(e,l))}function o(){t(a,n)}var s=tryCatch(o);s.status==="error"&&n(s.value)}function tryCatch(e,t){var r={};try{r.value=e(t),r.status="success"}catch(n){r.status="error",r.value=n}return r}Promise$1.resolve=resolve;function resolve(e){return e instanceof this?e:handlers.resolve(new this(INTERNAL),e)}Promise$1.reject=reject;function reject(e){var t=new this(INTERNAL);return handlers.reject(t,e)}Promise$1.all=all;function all(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var a=new Array(r),o=0,s=-1,l=new this(INTERNAL);++s<r;)p(e[s],s);return l;function p(d,g){t.resolve(d).then(x,function(w){n||(n=!0,handlers.reject(l,w))});function x(w){a[g]=w,++o===r&&!n&&(n=!0,handlers.resolve(l,a))}}}Promise$1.race=race;function race(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var a=-1,o=new this(INTERNAL);++a<r;)s(e[a]);return o;function s(l){t.resolve(l).then(function(p){n||(n=!0,handlers.resolve(o,p))},function(p){n||(n=!0,handlers.reject(o,p))})}}var ES6Promise=null;typeof Promise!="undefined"?ES6Promise=Promise:ES6Promise=lib$1;var external$3={Promise:ES6Promise};(function(e){var t=support$5,r=base64$1,n=nodejsUtils$2,a=setImmediateShim,o=external$3;function s(y){var E=null;return t.uint8array?E=new Uint8Array(y.length):E=new Array(y.length),p(y,E)}e.newBlob=function(y,E){e.checkSupport("blob");try{return new Blob([y],{type:E})}catch(k){try{var I=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,D=new I;return D.append(y),D.getBlob(E)}catch(U){throw new Error("Bug : can't construct the Blob.")}}};function l(y){return y}function p(y,E){for(var I=0;I<y.length;++I)E[I]=y.charCodeAt(I)&255;return E}var d={stringifyByChunk:function(y,E,I){var D=[],k=0,U=y.length;if(U<=I)return String.fromCharCode.apply(null,y);for(;k<U;)E==="array"||E==="nodebuffer"?D.push(String.fromCharCode.apply(null,y.slice(k,Math.min(k+I,U)))):D.push(String.fromCharCode.apply(null,y.subarray(k,Math.min(k+I,U)))),k+=I;return D.join("")},stringifyByChar:function(y){for(var E="",I=0;I<y.length;I++)E+=String.fromCharCode(y[I]);return E},applyCanBeUsed:{uint8array:function(){try{return t.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(y){return!1}}(),nodebuffer:function(){try{return t.nodebuffer&&String.fromCharCode.apply(null,n.allocBuffer(1)).length===1}catch(y){return!1}}()}};function g(y){var E=65536,I=e.getTypeOf(y),D=!0;if(I==="uint8array"?D=d.applyCanBeUsed.uint8array:I==="nodebuffer"&&(D=d.applyCanBeUsed.nodebuffer),D)for(;E>1;)try{return d.stringifyByChunk(y,I,E)}catch(k){E=Math.floor(E/2)}return d.stringifyByChar(y)}e.applyFromCharCode=g;function x(y,E){for(var I=0;I<y.length;I++)E[I]=y[I];return E}var w={};w.string={string:l,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return w.string.uint8array(y).buffer},uint8array:function(y){return p(y,new Uint8Array(y.length))},nodebuffer:function(y){return p(y,n.allocBuffer(y.length))}},w.array={string:g,array:l,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return n.newBufferFrom(y)}},w.arraybuffer={string:function(y){return g(new Uint8Array(y))},array:function(y){return x(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:l,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return n.newBufferFrom(new Uint8Array(y))}},w.uint8array={string:g,array:function(y){return x(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:l,nodebuffer:function(y){return n.newBufferFrom(y)}},w.nodebuffer={string:g,array:function(y){return x(y,new Array(y.length))},arraybuffer:function(y){return w.nodebuffer.uint8array(y).buffer},uint8array:function(y){return x(y,new Uint8Array(y.length))},nodebuffer:l},e.transformTo=function(y,E){if(E||(E=""),!y)return E;e.checkSupport(y);var I=e.getTypeOf(E),D=w[I][y](E);return D},e.getTypeOf=function(y){if(typeof y=="string")return"string";if(Object.prototype.toString.call(y)==="[object Array]")return"array";if(t.nodebuffer&&n.isBuffer(y))return"nodebuffer";if(t.uint8array&&y instanceof Uint8Array)return"uint8array";if(t.arraybuffer&&y instanceof ArrayBuffer)return"arraybuffer"},e.checkSupport=function(y){var E=t[y.toLowerCase()];if(!E)throw new Error(y+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(y){var E="",I,D;for(D=0;D<(y||"").length;D++)I=y.charCodeAt(D),E+="\\x"+(I<16?"0":"")+I.toString(16).toUpperCase();return E},e.delay=function(y,E,I){a(function(){y.apply(I||null,E||[])})},e.inherits=function(y,E){var I=function(){};I.prototype=E.prototype,y.prototype=new I},e.extend=function(){var y={},E,I;for(E=0;E<arguments.length;E++)for(I in arguments[E])arguments[E].hasOwnProperty(I)&&typeof y[I]=="undefined"&&(y[I]=arguments[E][I]);return y},e.prepareContent=function(y,E,I,D,k){var U=o.Promise.resolve(E).then(function(z){var j=t.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1);return j&&typeof FileReader!="undefined"?new o.Promise(function(P,Z){var W=new FileReader;W.onload=function(H){P(H.target.result)},W.onerror=function(H){Z(H.target.error)},W.readAsArrayBuffer(z)}):z});return U.then(function(z){var j=e.getTypeOf(z);return j?(j==="arraybuffer"?z=e.transformTo("uint8array",z):j==="string"&&(k?z=r.decode(z):I&&D!==!0&&(z=s(z))),z):o.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}})(utils$s);function GenericWorker$b(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}GenericWorker$b.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return this.isFinished?!1:(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(r){t.processChunk(r)}),e.on("end",function(){t.end()}),e.on("error",function(r){t.error(r)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)!this.extraStreamInfo.hasOwnProperty(e)||(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}};var GenericWorker_1=GenericWorker$b;(function(e){for(var t=utils$s,r=support$5,n=nodejsUtils$2,a=GenericWorker_1,o=new Array(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;o[254]=o[254]=1;var l=function(w){var y,E,I,D,k,U=w.length,z=0;for(D=0;D<U;D++)E=w.charCodeAt(D),(E&64512)==55296&&D+1<U&&(I=w.charCodeAt(D+1),(I&64512)==56320&&(E=65536+(E-55296<<10)+(I-56320),D++)),z+=E<128?1:E<2048?2:E<65536?3:4;for(r.uint8array?y=new Uint8Array(z):y=new Array(z),k=0,D=0;k<z;D++)E=w.charCodeAt(D),(E&64512)==55296&&D+1<U&&(I=w.charCodeAt(D+1),(I&64512)==56320&&(E=65536+(E-55296<<10)+(I-56320),D++)),E<128?y[k++]=E:E<2048?(y[k++]=192|E>>>6,y[k++]=128|E&63):E<65536?(y[k++]=224|E>>>12,y[k++]=128|E>>>6&63,y[k++]=128|E&63):(y[k++]=240|E>>>18,y[k++]=128|E>>>12&63,y[k++]=128|E>>>6&63,y[k++]=128|E&63);return y},p=function(w,y){var E;for(y=y||w.length,y>w.length&&(y=w.length),E=y-1;E>=0&&(w[E]&192)==128;)E--;return E<0||E===0?y:E+o[w[E]]>y?E:y},d=function(w){var y,E,I,D,k=w.length,U=new Array(k*2);for(E=0,y=0;y<k;){if(I=w[y++],I<128){U[E++]=I;continue}if(D=o[I],D>4){U[E++]=65533,y+=D-1;continue}for(I&=D===2?31:D===3?15:7;D>1&&y<k;)I=I<<6|w[y++]&63,D--;if(D>1){U[E++]=65533;continue}I<65536?U[E++]=I:(I-=65536,U[E++]=55296|I>>10&1023,U[E++]=56320|I&1023)}return U.length!==E&&(U.subarray?U=U.subarray(0,E):U.length=E),t.applyFromCharCode(U)};e.utf8encode=function(y){return r.nodebuffer?n.newBufferFrom(y,"utf-8"):l(y)},e.utf8decode=function(y){return r.nodebuffer?t.transformTo("nodebuffer",y).toString("utf-8"):(y=t.transformTo(r.uint8array?"uint8array":"array",y),d(y))};function g(){a.call(this,"utf-8 decode"),this.leftOver=null}t.inherits(g,a),g.prototype.processChunk=function(w){var y=t.transformTo(r.uint8array?"uint8array":"array",w.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var E=y;y=new Uint8Array(E.length+this.leftOver.length),y.set(this.leftOver,0),y.set(E,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var I=p(y),D=y;I!==y.length&&(r.uint8array?(D=y.subarray(0,I),this.leftOver=y.subarray(I,y.length)):(D=y.slice(0,I),this.leftOver=y.slice(I,y.length))),this.push({data:e.utf8decode(D),meta:w.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=g;function x(){a.call(this,"utf-8 encode")}t.inherits(x,a),x.prototype.processChunk=function(w){this.push({data:e.utf8encode(w.data),meta:w.meta})},e.Utf8EncodeWorker=x})(utf8$5);var GenericWorker$a=GenericWorker_1,utils$q=utils$s;function ConvertWorker$1(e){GenericWorker$a.call(this,"ConvertWorker to "+e),this.destType=e}utils$q.inherits(ConvertWorker$1,GenericWorker$a),ConvertWorker$1.prototype.processChunk=function(e){this.push({data:utils$q.transformTo(this.destType,e.data),meta:e.meta})};var ConvertWorker_1=ConvertWorker$1,Readable=readable.exports.Readable,utils$p=utils$s;utils$p.inherits(NodejsStreamOutputAdapter$1,Readable);function NodejsStreamOutputAdapter$1(e,t,r){Readable.call(this,t),this._helper=e;var n=this;e.on("data",function(a,o){n.push(a)||n._helper.pause(),r&&r(o)}).on("error",function(a){n.emit("error",a)}).on("end",function(){n.push(null)})}NodejsStreamOutputAdapter$1.prototype._read=function(){this._helper.resume()};var NodejsStreamOutputAdapter_1=NodejsStreamOutputAdapter$1,utils$o=utils$s,ConvertWorker=ConvertWorker_1,GenericWorker$9=GenericWorker_1,base64=base64$1,support$3=support$5,external$2=external$3,NodejsStreamOutputAdapter=null;if(support$3.nodestream)try{NodejsStreamOutputAdapter=NodejsStreamOutputAdapter_1}catch(e){}function transformZipOutput(e,t,r){switch(e){case"blob":return utils$o.newBlob(utils$o.transformTo("arraybuffer",t),r);case"base64":return base64.encode(t);default:return utils$o.transformTo(e,t)}}function concat(e,t){var r,n=0,a=null,o=0;for(r=0;r<t.length;r++)o+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(a=new Uint8Array(o),r=0;r<t.length;r++)a.set(t[r],n),n+=t[r].length;return a;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}function accumulate(e,t){return new external$2.Promise(function(r,n){var a=[],o=e._internalType,s=e._outputType,l=e._mimeType;e.on("data",function(p,d){a.push(p),t&&t(d)}).on("error",function(p){a=[],n(p)}).on("end",function(){try{var p=transformZipOutput(s,concat(o,a),l);r(p)}catch(d){n(d)}a=[]}).resume()})}function StreamHelper$2(e,t,r){var n=t;switch(t){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string";break}try{this._internalType=n,this._outputType=t,this._mimeType=r,utils$o.checkSupport(n),this._worker=e.pipe(new ConvertWorker(n)),e.lock()}catch(a){this._worker=new GenericWorker$9("error"),this._worker.error(a)}}StreamHelper$2.prototype={accumulate:function(e){return accumulate(this,e)},on:function(e,t){var r=this;return e==="data"?this._worker.on(e,function(n){t.call(r,n.data,n.meta)}):this._worker.on(e,function(){utils$o.delay(t,arguments,r)}),this},resume:function(){return utils$o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(utils$o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new NodejsStreamOutputAdapter(this,{objectMode:this._outputType!=="nodebuffer"},e)}};var StreamHelper_1=StreamHelper$2,defaults$1={};defaults$1.base64=!1,defaults$1.binary=!1,defaults$1.dir=!1,defaults$1.createFolders=!0,defaults$1.date=null,defaults$1.compression=null,defaults$1.compressionOptions=null,defaults$1.comment=null,defaults$1.unixPermissions=null,defaults$1.dosPermissions=null;var utils$n=utils$s,GenericWorker$8=GenericWorker_1,DEFAULT_BLOCK_SIZE=16*1024;function DataWorker$2(e){GenericWorker$8.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(r){t.dataIsReady=!0,t.data=r,t.max=r&&r.length||0,t.type=utils$n.getTypeOf(r),t.isPaused||t._tickAndRepeat()},function(r){t.error(r)})}utils$n.inherits(DataWorker$2,GenericWorker$8),DataWorker$2.prototype.cleanUp=function(){GenericWorker$8.prototype.cleanUp.call(this),this.data=null},DataWorker$2.prototype.resume=function(){return GenericWorker$8.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,utils$n.delay(this._tickAndRepeat,[],this)),!0):!1},DataWorker$2.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(utils$n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},DataWorker$2.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=DEFAULT_BLOCK_SIZE,t=null,r=Math.min(this.max,this.index+e);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,r);break;case"uint8array":t=this.data.subarray(this.index,r);break;case"array":case"nodebuffer":t=this.data.slice(this.index,r);break}return this.index=r,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})};var DataWorker_1=DataWorker$2,utils$m=utils$s,GenericWorker$7=GenericWorker_1;function DataLengthProbe$1(e){GenericWorker$7.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}utils$m.inherits(DataLengthProbe$1,GenericWorker$7),DataLengthProbe$1.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}GenericWorker$7.prototype.processChunk.call(this,e)};var DataLengthProbe_1=DataLengthProbe$1,utils$l=utils$s;function makeTable$1(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var crcTable$1=makeTable$1();function crc32$5(e,t,r,n){var a=crcTable$1,o=n+r;e=e^-1;for(var s=n;s<o;s++)e=e>>>8^a[(e^t[s])&255];return e^-1}function crc32str(e,t,r,n){var a=crcTable$1,o=n+r;e=e^-1;for(var s=n;s<o;s++)e=e>>>8^a[(e^t.charCodeAt(s))&255];return e^-1}var crc32_1$1=function(t,r){if(typeof t=="undefined"||!t.length)return 0;var n=utils$l.getTypeOf(t)!=="string";return n?crc32$5(r|0,t,t.length,0):crc32str(r|0,t,t.length,0)},GenericWorker$6=GenericWorker_1,crc32$4=crc32_1$1,utils$k=utils$s;function Crc32Probe$2(){GenericWorker$6.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}utils$k.inherits(Crc32Probe$2,GenericWorker$6),Crc32Probe$2.prototype.processChunk=function(e){this.streamInfo.crc32=crc32$4(e.data,this.streamInfo.crc32||0),this.push(e)};var Crc32Probe_1=Crc32Probe$2,external$1=external$3,DataWorker$1=DataWorker_1,DataLengthProbe=DataLengthProbe_1,Crc32Probe$1=Crc32Probe_1,DataLengthProbe=DataLengthProbe_1;function CompressedObject$3(e,t,r,n,a){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=a}CompressedObject$3.prototype={getContentWorker:function(){var e=new DataWorker$1(external$1.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new DataLengthProbe("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new DataWorker$1(external$1.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},CompressedObject$3.createWorkerFrom=function(e,t,r){return e.pipe(new Crc32Probe$1).pipe(new DataLengthProbe("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new DataLengthProbe("compressedSize")).withStreamInfo("compression",t)};var compressedObject=CompressedObject$3,StreamHelper$1=StreamHelper_1,DataWorker=DataWorker_1,utf8$4=utf8$5,CompressedObject$2=compressedObject,GenericWorker$5=GenericWorker_1,ZipObject$1=function(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}};ZipObject$1.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");r=e.toLowerCase();var n=r==="string"||r==="text";(r==="binarystring"||r==="text")&&(r="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!n&&(t=t.pipe(new utf8$4.Utf8EncodeWorker)),!a&&n&&(t=t.pipe(new utf8$4.Utf8DecodeWorker))}catch(o){t=new GenericWorker$5("error"),t.error(o)}return new StreamHelper$1(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof CompressedObject$2&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new utf8$4.Utf8EncodeWorker)),CompressedObject$2.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof CompressedObject$2?this._data.getContentWorker():this._data instanceof GenericWorker$5?this._data:new DataWorker(this._data)}};for(var removedMethods=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],removedFn=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<removedMethods.length;i++)ZipObject$1.prototype[removedMethods[i]]=removedFn;var zipObject=ZipObject$1,generate$1={},compressions$2={},flate={},common={};(function(e){var t=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function r(o,s){return Object.prototype.hasOwnProperty.call(o,s)}e.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var l=s.shift();if(!!l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var p in l)r(l,p)&&(o[p]=l[p])}}return o},e.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var n={arraySet:function(o,s,l,p,d){if(s.subarray&&o.subarray){o.set(s.subarray(l,l+p),d);return}for(var g=0;g<p;g++)o[d+g]=s[l+g]},flattenChunks:function(o){var s,l,p,d,g,x;for(p=0,s=0,l=o.length;s<l;s++)p+=o[s].length;for(x=new Uint8Array(p),d=0,s=0,l=o.length;s<l;s++)g=o[s],x.set(g,d),d+=g.length;return x}},a={arraySet:function(o,s,l,p,d){for(var g=0;g<p;g++)o[d+g]=s[l+g]},flattenChunks:function(o){return[].concat.apply([],o)}};e.setTyped=function(o){o?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(t)})(common);var deflate$4={},deflate$3={},trees$1={},utils$j=common,Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(e){for(var t=e.length;--t>=0;)e[t]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);var static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);var _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);var base_length=new Array(LENGTH_CODES$1);zero$1(base_length);var base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(e,t,r,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}var static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function d_code(e){return e<256?_dist_code[e]:_dist_code[256+(e>>>7)]}function put_short(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function send_bits(e,t,r){e.bi_valid>Buf_size-r?(e.bi_buf|=t<<e.bi_valid&65535,put_short(e,e.bi_buf),e.bi_buf=t>>Buf_size-e.bi_valid,e.bi_valid+=r-Buf_size):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function send_code(e,t,r){send_bits(e,r[t*2],r[t*2+1])}function bi_reverse(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}function bi_flush(e){e.bi_valid===16?(put_short(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function gen_bitlen(e,t){var r=t.dyn_tree,n=t.max_code,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,p=t.stat_desc.max_length,d,g,x,w,y,E,I=0;for(w=0;w<=MAX_BITS$1;w++)e.bl_count[w]=0;for(r[e.heap[e.heap_max]*2+1]=0,d=e.heap_max+1;d<HEAP_SIZE$1;d++)g=e.heap[d],w=r[r[g*2+1]*2+1]+1,w>p&&(w=p,I++),r[g*2+1]=w,!(g>n)&&(e.bl_count[w]++,y=0,g>=l&&(y=s[g-l]),E=r[g*2],e.opt_len+=E*(w+y),o&&(e.static_len+=E*(a[g*2+1]+y)));if(I!==0){do{for(w=p-1;e.bl_count[w]===0;)w--;e.bl_count[w]--,e.bl_count[w+1]+=2,e.bl_count[p]--,I-=2}while(I>0);for(w=p;w!==0;w--)for(g=e.bl_count[w];g!==0;)x=e.heap[--d],!(x>n)&&(r[x*2+1]!==w&&(e.opt_len+=(w-r[x*2+1])*r[x*2],r[x*2+1]=w),g--)}}function gen_codes(e,t,r){var n=new Array(MAX_BITS$1+1),a=0,o,s;for(o=1;o<=MAX_BITS$1;o++)n[o]=a=a+r[o-1]<<1;for(s=0;s<=t;s++){var l=e[s*2+1];l!==0&&(e[s*2]=bi_reverse(n[l]++,l))}}function tr_static_init(){var e,t,r,n,a,o=new Array(MAX_BITS$1+1);for(r=0,n=0;n<LENGTH_CODES$1-1;n++)for(base_length[n]=r,e=0;e<1<<extra_lbits[n];e++)_length_code[r++]=n;for(_length_code[r-1]=n,a=0,n=0;n<16;n++)for(base_dist[n]=a,e=0;e<1<<extra_dbits[n];e++)_dist_code[a++]=n;for(a>>=7;n<D_CODES$1;n++)for(base_dist[n]=a<<7,e=0;e<1<<extra_dbits[n]-7;e++)_dist_code[256+a++]=n;for(t=0;t<=MAX_BITS$1;t++)o[t]=0;for(e=0;e<=143;)static_ltree[e*2+1]=8,e++,o[8]++;for(;e<=255;)static_ltree[e*2+1]=9,e++,o[9]++;for(;e<=279;)static_ltree[e*2+1]=7,e++,o[7]++;for(;e<=287;)static_ltree[e*2+1]=8,e++,o[8]++;for(gen_codes(static_ltree,L_CODES$1+1,o),e=0;e<D_CODES$1;e++)static_dtree[e*2+1]=5,static_dtree[e*2]=bi_reverse(e,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)}function init_block(e){var t;for(t=0;t<L_CODES$1;t++)e.dyn_ltree[t*2]=0;for(t=0;t<D_CODES$1;t++)e.dyn_dtree[t*2]=0;for(t=0;t<BL_CODES$1;t++)e.bl_tree[t*2]=0;e.dyn_ltree[END_BLOCK*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function bi_windup(e){e.bi_valid>8?put_short(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function copy_block(e,t,r,n){bi_windup(e),n&&(put_short(e,r),put_short(e,~r)),utils$j.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function smaller(e,t,r,n){var a=t*2,o=r*2;return e[a]<e[o]||e[a]===e[o]&&n[t]<=n[r]}function pqdownheap(e,t,r){for(var n=e.heap[r],a=r<<1;a<=e.heap_len&&(a<e.heap_len&&smaller(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!smaller(t,n,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=n}function compress_block(e,t,r){var n,a,o=0,s,l;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+o*2]<<8|e.pending_buf[e.d_buf+o*2+1],a=e.pending_buf[e.l_buf+o],o++,n===0?send_code(e,a,t):(s=_length_code[a],send_code(e,s+LITERALS$1+1,t),l=extra_lbits[s],l!==0&&(a-=base_length[s],send_bits(e,a,l)),n--,s=d_code(n),send_code(e,s,r),l=extra_dbits[s],l!==0&&(n-=base_dist[s],send_bits(e,n,l)));while(o<e.last_lit);send_code(e,END_BLOCK,t)}function build_tree(e,t){var r=t.dyn_tree,n=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.elems,s,l,p=-1,d;for(e.heap_len=0,e.heap_max=HEAP_SIZE$1,s=0;s<o;s++)r[s*2]!==0?(e.heap[++e.heap_len]=p=s,e.depth[s]=0):r[s*2+1]=0;for(;e.heap_len<2;)d=e.heap[++e.heap_len]=p<2?++p:0,r[d*2]=1,e.depth[d]=0,e.opt_len--,a&&(e.static_len-=n[d*2+1]);for(t.max_code=p,s=e.heap_len>>1;s>=1;s--)pqdownheap(e,r,s);d=o;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pqdownheap(e,r,1),l=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=l,r[d*2]=r[s*2]+r[l*2],e.depth[d]=(e.depth[s]>=e.depth[l]?e.depth[s]:e.depth[l])+1,r[s*2+1]=r[l*2+1]=d,e.heap[1]=d++,pqdownheap(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],gen_bitlen(e,t),gen_codes(r,p,e.bl_count)}function scan_tree(e,t,r){var n,a=-1,o,s=t[0*2+1],l=0,p=7,d=4;for(s===0&&(p=138,d=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)o=s,s=t[(n+1)*2+1],!(++l<p&&o===s)&&(l<d?e.bl_tree[o*2]+=l:o!==0?(o!==a&&e.bl_tree[o*2]++,e.bl_tree[REP_3_6*2]++):l<=10?e.bl_tree[REPZ_3_10*2]++:e.bl_tree[REPZ_11_138*2]++,l=0,a=o,s===0?(p=138,d=3):o===s?(p=6,d=3):(p=7,d=4))}function send_tree(e,t,r){var n,a=-1,o,s=t[0*2+1],l=0,p=7,d=4;for(s===0&&(p=138,d=3),n=0;n<=r;n++)if(o=s,s=t[(n+1)*2+1],!(++l<p&&o===s)){if(l<d)do send_code(e,o,e.bl_tree);while(--l!=0);else o!==0?(o!==a&&(send_code(e,o,e.bl_tree),l--),send_code(e,REP_3_6,e.bl_tree),send_bits(e,l-3,2)):l<=10?(send_code(e,REPZ_3_10,e.bl_tree),send_bits(e,l-3,3)):(send_code(e,REPZ_11_138,e.bl_tree),send_bits(e,l-11,7));l=0,a=o,s===0?(p=138,d=3):o===s?(p=6,d=3):(p=7,d=4)}}function build_bl_tree(e){var t;for(scan_tree(e,e.dyn_ltree,e.l_desc.max_code),scan_tree(e,e.dyn_dtree,e.d_desc.max_code),build_tree(e,e.bl_desc),t=BL_CODES$1-1;t>=3&&e.bl_tree[bl_order[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function send_all_trees(e,t,r,n){var a;for(send_bits(e,t-257,5),send_bits(e,r-1,5),send_bits(e,n-4,4),a=0;a<n;a++)send_bits(e,e.bl_tree[bl_order[a]*2+1],3);send_tree(e,e.dyn_ltree,t-1),send_tree(e,e.dyn_dtree,r-1)}function detect_data_type(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return Z_BINARY;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Z_TEXT;for(r=32;r<LITERALS$1;r++)if(e.dyn_ltree[r*2]!==0)return Z_TEXT;return Z_BINARY}var static_init_done=!1;function _tr_init(e){static_init_done||(tr_static_init(),static_init_done=!0),e.l_desc=new TreeDesc(e.dyn_ltree,static_l_desc),e.d_desc=new TreeDesc(e.dyn_dtree,static_d_desc),e.bl_desc=new TreeDesc(e.bl_tree,static_bl_desc),e.bi_buf=0,e.bi_valid=0,init_block(e)}function _tr_stored_block(e,t,r,n){send_bits(e,(STORED_BLOCK<<1)+(n?1:0),3),copy_block(e,t,r,!0)}function _tr_align(e){send_bits(e,STATIC_TREES<<1,3),send_code(e,END_BLOCK,static_ltree),bi_flush(e)}function _tr_flush_block(e,t,r,n){var a,o,s=0;e.level>0?(e.strm.data_type===Z_UNKNOWN$1&&(e.strm.data_type=detect_data_type(e)),build_tree(e,e.l_desc),build_tree(e,e.d_desc),s=build_bl_tree(e),a=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=a&&(a=o)):a=o=r+5,r+4<=a&&t!==-1?_tr_stored_block(e,t,r,n):e.strategy===Z_FIXED$1||o===a?(send_bits(e,(STATIC_TREES<<1)+(n?1:0),3),compress_block(e,static_ltree,static_dtree)):(send_bits(e,(DYN_TREES<<1)+(n?1:0),3),send_all_trees(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),compress_block(e,e.dyn_ltree,e.dyn_dtree)),init_block(e),n&&bi_windup(e)}function _tr_tally(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(_length_code[r]+LITERALS$1+1)*2]++,e.dyn_dtree[d_code(t)*2]++),e.last_lit===e.lit_bufsize-1}trees$1._tr_init=_tr_init,trees$1._tr_stored_block=_tr_stored_block,trees$1._tr_flush_block=_tr_flush_block,trees$1._tr_tally=_tr_tally,trees$1._tr_align=_tr_align;function adler32$2(e,t,r,n){for(var a=e&65535|0,o=e>>>16&65535|0,s=0;r!==0;){s=r>2e3?2e3:r,r-=s;do a=a+t[n++]|0,o=o+a|0;while(--s);a%=65521,o%=65521}return a|o<<16|0}var adler32_1=adler32$2;function makeTable(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var crcTable=makeTable();function crc32$3(e,t,r,n){var a=crcTable,o=n+r;e^=-1;for(var s=n;s<o;s++)e=e>>>8^a[(e^t[s])&255];return e^-1}var crc32_1=crc32$3,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},utils$i=common,trees=trees$1,adler32$1=adler32_1,crc32$2=crc32_1,msg$2=messages,Z_NO_FLUSH$1=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH$2=4,Z_BLOCK$1=5,Z_OK$2=0,Z_STREAM_END$2=1,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_BUF_ERROR$1=-5,Z_DEFAULT_COMPRESSION$1=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY$1=0,Z_UNKNOWN=2,Z_DEFLATED$2=8,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(e,t){return e.msg=msg$2[t],t}function rank(e){return(e<<1)-(e>4?9:0)}function zero(e){for(var t=e.length;--t>=0;)e[t]=0}function flush_pending(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(utils$i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function flush_block_only(e,t){trees._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,flush_pending(e.strm)}function put_byte(e,t){e.pending_buf[e.pending++]=t}function putShortMSB(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function read_buf(e,t,r,n){var a=e.avail_in;return a>n&&(a=n),a===0?0:(e.avail_in-=a,utils$i.arraySet(t,e.input,e.next_in,a,r),e.state.wrap===1?e.adler=adler32$1(e.adler,t,a,r):e.state.wrap===2&&(e.adler=crc32$2(e.adler,t,a,r)),e.next_in+=a,e.total_in+=a,a)}function longest_match(e,t){var r=e.max_chain_length,n=e.strstart,a,o,s=e.prev_length,l=e.nice_match,p=e.strstart>e.w_size-MIN_LOOKAHEAD?e.strstart-(e.w_size-MIN_LOOKAHEAD):0,d=e.window,g=e.w_mask,x=e.prev,w=e.strstart+MAX_MATCH,y=d[n+s-1],E=d[n+s];e.prev_length>=e.good_match&&(r>>=2),l>e.lookahead&&(l=e.lookahead);do if(a=t,!(d[a+s]!==E||d[a+s-1]!==y||d[a]!==d[n]||d[++a]!==d[n+1])){n+=2,a++;do;while(d[++n]===d[++a]&&d[++n]===d[++a]&&d[++n]===d[++a]&&d[++n]===d[++a]&&d[++n]===d[++a]&&d[++n]===d[++a]&&d[++n]===d[++a]&&d[++n]===d[++a]&&n<w);if(o=MAX_MATCH-(w-n),n=w-MAX_MATCH,o>s){if(e.match_start=t,s=o,o>=l)break;y=d[n+s-1],E=d[n+s]}}while((t=x[t&g])>p&&--r!=0);return s<=e.lookahead?s:e.lookahead}function fill_window(e){var t=e.w_size,r,n,a,o,s;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-MIN_LOOKAHEAD)){utils$i.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do a=e.head[--r],e.head[r]=a>=t?a-t:0;while(--n);n=t,r=n;do a=e.prev[--r],e.prev[r]=a>=t?a-t:0;while(--n);o+=t}if(e.strm.avail_in===0)break;if(n=read_buf(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=MIN_MATCH)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+MIN_MATCH-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<MIN_MATCH)););}while(e.lookahead<MIN_LOOKAHEAD&&e.strm.avail_in!==0)}function deflate_stored(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(fill_window(e),e.lookahead===0&&t===Z_NO_FLUSH$1)return BS_NEED_MORE;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,flush_block_only(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-MIN_LOOKAHEAD&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH$2?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(e.strstart>e.block_start&&(flush_block_only(e,!1),e.strm.avail_out===0),BS_NEED_MORE)}function deflate_fast(e,t){for(var r,n;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH$1)return BS_NEED_MORE;if(e.lookahead===0)break}if(r=0,e.lookahead>=MIN_MATCH&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,r)),e.match_length>=MIN_MATCH)if(n=trees._tr_tally(e,e.strstart-e.match_start,e.match_length-MIN_MATCH),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=MIN_MATCH){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!=0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=trees._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1,t===Z_FINISH$2?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(e,t){for(var r,n,a;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH$1)return BS_NEED_MORE;if(e.lookahead===0)break}if(r=0,e.lookahead>=MIN_MATCH&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=MIN_MATCH-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,r),e.match_length<=5&&(e.strategy===Z_FILTERED||e.match_length===MIN_MATCH&&e.strstart-e.match_start>4096)&&(e.match_length=MIN_MATCH-1)),e.prev_length>=MIN_MATCH&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-MIN_MATCH,n=trees._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-MIN_MATCH),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!=0);if(e.match_available=0,e.match_length=MIN_MATCH-1,e.strstart++,n&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}else if(e.match_available){if(n=trees._tr_tally(e,0,e.window[e.strstart-1]),n&&flush_block_only(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return BS_NEED_MORE}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=trees._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1,t===Z_FINISH$2?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(e,t){for(var r,n,a,o,s=e.window;;){if(e.lookahead<=MAX_MATCH){if(fill_window(e),e.lookahead<=MAX_MATCH&&t===Z_NO_FLUSH$1)return BS_NEED_MORE;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=MIN_MATCH&&e.strstart>0&&(a=e.strstart-1,n=s[a],n===s[++a]&&n===s[++a]&&n===s[++a])){o=e.strstart+MAX_MATCH;do;while(n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&a<o);e.match_length=MAX_MATCH-(o-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=MIN_MATCH?(r=trees._tr_tally(e,1,e.match_length-MIN_MATCH),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=trees._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH$2?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(e,t){for(var r;;){if(e.lookahead===0&&(fill_window(e),e.lookahead===0)){if(t===Z_NO_FLUSH$1)return BS_NEED_MORE;break}if(e.match_length=0,r=trees._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH$2?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(e,t,r,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=a}var configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(e){e.window_size=2*e.w_size,zero(e.head),e.max_lazy_match=configuration_table[e.level].max_lazy,e.good_match=configuration_table[e.level].good_length,e.nice_match=configuration_table[e.level].nice_length,e.max_chain_length=configuration_table[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=MIN_MATCH-1,e.match_available=0,e.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils$i.Buf16(HEAP_SIZE*2),this.dyn_dtree=new utils$i.Buf16((2*D_CODES+1)*2),this.bl_tree=new utils$i.Buf16((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils$i.Buf16(MAX_BITS+1),this.heap=new utils$i.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils$i.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(e){var t;return!e||!e.state?err(e,Z_STREAM_ERROR$1):(e.total_in=e.total_out=0,e.data_type=Z_UNKNOWN,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?INIT_STATE:BUSY_STATE,e.adler=t.wrap===2?0:1,t.last_flush=Z_NO_FLUSH$1,trees._tr_init(t),Z_OK$2)}function deflateReset(e){var t=deflateResetKeep(e);return t===Z_OK$2&&lm_init(e.state),t}function deflateSetHeader(e,t){return!e||!e.state||e.state.wrap!==2?Z_STREAM_ERROR$1:(e.state.gzhead=t,Z_OK$2)}function deflateInit2(e,t,r,n,a,o){if(!e)return Z_STREAM_ERROR$1;var s=1;if(t===Z_DEFAULT_COMPRESSION$1&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>MAX_MEM_LEVEL||r!==Z_DEFLATED$2||n<8||n>15||t<0||t>9||o<0||o>Z_FIXED)return err(e,Z_STREAM_ERROR$1);n===8&&(n=9);var l=new DeflateState;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+MIN_MATCH-1)/MIN_MATCH),l.window=new utils$i.Buf8(l.w_size*2),l.head=new utils$i.Buf16(l.hash_size),l.prev=new utils$i.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new utils$i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=(1+2)*l.lit_bufsize,l.level=t,l.strategy=o,l.method=r,deflateReset(e)}function deflateInit(e,t){return deflateInit2(e,t,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1)}function deflate$2(e,t){var r,n,a,o;if(!e||!e.state||t>Z_BLOCK$1||t<0)return e?err(e,Z_STREAM_ERROR$1):Z_STREAM_ERROR$1;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===FINISH_STATE&&t!==Z_FINISH$2)return err(e,e.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$1);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===INIT_STATE)if(n.wrap===2)e.adler=0,put_byte(n,31),put_byte(n,139),put_byte(n,8),n.gzhead?(put_byte(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),put_byte(n,n.gzhead.time&255),put_byte(n,n.gzhead.time>>8&255),put_byte(n,n.gzhead.time>>16&255),put_byte(n,n.gzhead.time>>24&255),put_byte(n,n.level===9?2:n.strategy>=Z_HUFFMAN_ONLY||n.level<2?4:0),put_byte(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(put_byte(n,n.gzhead.extra.length&255),put_byte(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=crc32$2(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=EXTRA_STATE):(put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,n.level===9?2:n.strategy>=Z_HUFFMAN_ONLY||n.level<2?4:0),put_byte(n,OS_CODE),n.status=BUSY_STATE);else{var s=Z_DEFLATED$2+(n.w_bits-8<<4)<<8,l=-1;n.strategy>=Z_HUFFMAN_ONLY||n.level<2?l=0:n.level<6?l=1:n.level===6?l=2:l=3,s|=l<<6,n.strstart!==0&&(s|=PRESET_DICT),s+=31-s%31,n.status=BUSY_STATE,putShortMSB(n,s),n.strstart!==0&&(putShortMSB(n,e.adler>>>16),putShortMSB(n,e.adler&65535)),e.adler=1}if(n.status===EXTRA_STATE)if(n.gzhead.extra){for(a=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32$2(e.adler,n.pending_buf,n.pending-a,a)),flush_pending(e),a=n.pending,n.pending===n.pending_buf_size));)put_byte(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32$2(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=NAME_STATE)}else n.status=NAME_STATE;if(n.status===NAME_STATE)if(n.gzhead.name){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32$2(e.adler,n.pending_buf,n.pending-a,a)),flush_pending(e),a=n.pending,n.pending===n.pending_buf_size)){o=1;break}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,put_byte(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32$2(e.adler,n.pending_buf,n.pending-a,a)),o===0&&(n.gzindex=0,n.status=COMMENT_STATE)}else n.status=COMMENT_STATE;if(n.status===COMMENT_STATE)if(n.gzhead.comment){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32$2(e.adler,n.pending_buf,n.pending-a,a)),flush_pending(e),a=n.pending,n.pending===n.pending_buf_size)){o=1;break}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,put_byte(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32$2(e.adler,n.pending_buf,n.pending-a,a)),o===0&&(n.status=HCRC_STATE)}else n.status=HCRC_STATE;if(n.status===HCRC_STATE&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&flush_pending(e),n.pending+2<=n.pending_buf_size&&(put_byte(n,e.adler&255),put_byte(n,e.adler>>8&255),e.adler=0,n.status=BUSY_STATE)):n.status=BUSY_STATE),n.pending!==0){if(flush_pending(e),e.avail_out===0)return n.last_flush=-1,Z_OK$2}else if(e.avail_in===0&&rank(t)<=rank(r)&&t!==Z_FINISH$2)return err(e,Z_BUF_ERROR$1);if(n.status===FINISH_STATE&&e.avail_in!==0)return err(e,Z_BUF_ERROR$1);if(e.avail_in!==0||n.lookahead!==0||t!==Z_NO_FLUSH$1&&n.status!==FINISH_STATE){var p=n.strategy===Z_HUFFMAN_ONLY?deflate_huff(n,t):n.strategy===Z_RLE?deflate_rle(n,t):configuration_table[n.level].func(n,t);if((p===BS_FINISH_STARTED||p===BS_FINISH_DONE)&&(n.status=FINISH_STATE),p===BS_NEED_MORE||p===BS_FINISH_STARTED)return e.avail_out===0&&(n.last_flush=-1),Z_OK$2;if(p===BS_BLOCK_DONE&&(t===Z_PARTIAL_FLUSH?trees._tr_align(n):t!==Z_BLOCK$1&&(trees._tr_stored_block(n,0,0,!1),t===Z_FULL_FLUSH&&(zero(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),flush_pending(e),e.avail_out===0))return n.last_flush=-1,Z_OK$2}return t!==Z_FINISH$2?Z_OK$2:n.wrap<=0?Z_STREAM_END$2:(n.wrap===2?(put_byte(n,e.adler&255),put_byte(n,e.adler>>8&255),put_byte(n,e.adler>>16&255),put_byte(n,e.adler>>24&255),put_byte(n,e.total_in&255),put_byte(n,e.total_in>>8&255),put_byte(n,e.total_in>>16&255),put_byte(n,e.total_in>>24&255)):(putShortMSB(n,e.adler>>>16),putShortMSB(n,e.adler&65535)),flush_pending(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Z_OK$2:Z_STREAM_END$2)}function deflateEnd(e){var t;return!e||!e.state?Z_STREAM_ERROR$1:(t=e.state.status,t!==INIT_STATE&&t!==EXTRA_STATE&&t!==NAME_STATE&&t!==COMMENT_STATE&&t!==HCRC_STATE&&t!==BUSY_STATE&&t!==FINISH_STATE?err(e,Z_STREAM_ERROR$1):(e.state=null,t===BUSY_STATE?err(e,Z_DATA_ERROR$1):Z_OK$2))}function deflateSetDictionary(e,t){var r=t.length,n,a,o,s,l,p,d,g;if(!e||!e.state||(n=e.state,s=n.wrap,s===2||s===1&&n.status!==INIT_STATE||n.lookahead))return Z_STREAM_ERROR$1;for(s===1&&(e.adler=adler32$1(e.adler,t,r,0)),n.wrap=0,r>=n.w_size&&(s===0&&(zero(n.head),n.strstart=0,n.block_start=0,n.insert=0),g=new utils$i.Buf8(n.w_size),utils$i.arraySet(g,t,r-n.w_size,n.w_size,0),t=g,r=n.w_size),l=e.avail_in,p=e.next_in,d=e.input,e.avail_in=r,e.next_in=0,e.input=t,fill_window(n);n.lookahead>=MIN_MATCH;){a=n.strstart,o=n.lookahead-(MIN_MATCH-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[a+MIN_MATCH-1])&n.hash_mask,n.prev[a&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=a,a++;while(--o);n.strstart=a,n.lookahead=MIN_MATCH-1,fill_window(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=MIN_MATCH-1,n.match_available=0,e.next_in=p,e.input=d,e.avail_in=l,n.wrap=s,Z_OK$2}deflate$3.deflateInit=deflateInit,deflate$3.deflateInit2=deflateInit2,deflate$3.deflateReset=deflateReset,deflate$3.deflateResetKeep=deflateResetKeep,deflate$3.deflateSetHeader=deflateSetHeader,deflate$3.deflate=deflate$2,deflate$3.deflateEnd=deflateEnd,deflate$3.deflateSetDictionary=deflateSetDictionary,deflate$3.deflateInfo="pako deflate (from Nodeca project)";var strings$2={},utils$h=common,STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(e){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){STR_APPLY_UIA_OK=!1}for(var _utf8len=new utils$h.Buf8(256),q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;_utf8len[254]=_utf8len[254]=1,strings$2.string2buf=function(e){var t,r,n,a,o,s=e.length,l=0;for(a=0;a<s;a++)r=e.charCodeAt(a),(r&64512)==55296&&a+1<s&&(n=e.charCodeAt(a+1),(n&64512)==56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new utils$h.Buf8(l),o=0,a=0;o<l;a++)r=e.charCodeAt(a),(r&64512)==55296&&a+1<s&&(n=e.charCodeAt(a+1),(n&64512)==56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|r&63):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|r&63):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|r&63);return t};function buf2binstring(e,t){if(t<65534&&(e.subarray&&STR_APPLY_UIA_OK||!e.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils$h.shrinkBuf(e,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}strings$2.buf2binstring=function(e){return buf2binstring(e,e.length)},strings$2.binstring2buf=function(e){for(var t=new utils$h.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},strings$2.buf2string=function(e,t){var r,n,a,o,s=t||e.length,l=new Array(s*2);for(n=0,r=0;r<s;){if(a=e[r++],a<128){l[n++]=a;continue}if(o=_utf8len[a],o>4){l[n++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<s;)a=a<<6|e[r++]&63,o--;if(o>1){l[n++]=65533;continue}a<65536?l[n++]=a:(a-=65536,l[n++]=55296|a>>10&1023,l[n++]=56320|a&1023)}return buf2binstring(l,n)},strings$2.utf8border=function(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&(e[r]&192)==128;)r--;return r<0||r===0?t:r+_utf8len[e[r]]>t?r:t};function ZStream$2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream$2,zlib_deflate=deflate$3,utils$g=common,strings$1=strings$2,msg$1=messages,ZStream$1=zstream,toString$1=Object.prototype.toString,Z_NO_FLUSH=0,Z_FINISH$1=4,Z_OK$1=0,Z_STREAM_END$1=1,Z_SYNC_FLUSH=2,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED$1=8;function Deflate(e){if(!(this instanceof Deflate))return new Deflate(e);this.options=utils$g.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream$1,this.strm.avail_out=0;var r=zlib_deflate.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Z_OK$1)throw new Error(msg$1[r]);if(t.header&&zlib_deflate.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(typeof t.dictionary=="string"?n=strings$1.string2buf(t.dictionary):toString$1.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=zlib_deflate.deflateSetDictionary(this.strm,n),r!==Z_OK$1)throw new Error(msg$1[r]);this._dict_set=!0}}Deflate.prototype.push=function(e,t){var r=this.strm,n=this.options.chunkSize,a,o;if(this.ended)return!1;o=t===~~t?t:t===!0?Z_FINISH$1:Z_NO_FLUSH,typeof e=="string"?r.input=strings$1.string2buf(e):toString$1.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new utils$g.Buf8(n),r.next_out=0,r.avail_out=n),a=zlib_deflate.deflate(r,o),a!==Z_STREAM_END$1&&a!==Z_OK$1)return this.onEnd(a),this.ended=!0,!1;(r.avail_out===0||r.avail_in===0&&(o===Z_FINISH$1||o===Z_SYNC_FLUSH))&&(this.options.to==="string"?this.onData(strings$1.buf2binstring(utils$g.shrinkBuf(r.output,r.next_out))):this.onData(utils$g.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||r.avail_out===0)&&a!==Z_STREAM_END$1);return o===Z_FINISH$1?(a=zlib_deflate.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Z_OK$1):(o===Z_SYNC_FLUSH&&(this.onEnd(Z_OK$1),r.avail_out=0),!0)},Deflate.prototype.onData=function(e){this.chunks.push(e)},Deflate.prototype.onEnd=function(e){e===Z_OK$1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils$g.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function deflate$1(e,t){var r=new Deflate(t);if(r.push(e,!0),r.err)throw r.msg||msg$1[r.err];return r.result}function deflateRaw(e,t){return t=t||{},t.raw=!0,deflate$1(e,t)}function gzip(e,t){return t=t||{},t.gzip=!0,deflate$1(e,t)}deflate$4.Deflate=Deflate,deflate$4.deflate=deflate$1,deflate$4.deflateRaw=deflateRaw,deflate$4.gzip=gzip;var inflate$4={},inflate$3={},BAD$1=30,TYPE$1=12,inffast=function(t,r){var n,a,o,s,l,p,d,g,x,w,y,E,I,D,k,U,z,j,P,Z,W,H,$,V,M;n=t.state,a=t.next_in,V=t.input,o=a+(t.avail_in-5),s=t.next_out,M=t.output,l=s-(r-t.avail_out),p=s+(t.avail_out-257),d=n.dmax,g=n.wsize,x=n.whave,w=n.wnext,y=n.window,E=n.hold,I=n.bits,D=n.lencode,k=n.distcode,U=(1<<n.lenbits)-1,z=(1<<n.distbits)-1;e:do{I<15&&(E+=V[a++]<<I,I+=8,E+=V[a++]<<I,I+=8),j=D[E&U];t:for(;;){if(P=j>>>24,E>>>=P,I-=P,P=j>>>16&255,P===0)M[s++]=j&65535;else if(P&16){Z=j&65535,P&=15,P&&(I<P&&(E+=V[a++]<<I,I+=8),Z+=E&(1<<P)-1,E>>>=P,I-=P),I<15&&(E+=V[a++]<<I,I+=8,E+=V[a++]<<I,I+=8),j=k[E&z];r:for(;;){if(P=j>>>24,E>>>=P,I-=P,P=j>>>16&255,P&16){if(W=j&65535,P&=15,I<P&&(E+=V[a++]<<I,I+=8,I<P&&(E+=V[a++]<<I,I+=8)),W+=E&(1<<P)-1,W>d){t.msg="invalid distance too far back",n.mode=BAD$1;break e}if(E>>>=P,I-=P,P=s-l,W>P){if(P=W-P,P>x&&n.sane){t.msg="invalid distance too far back",n.mode=BAD$1;break e}if(H=0,$=y,w===0){if(H+=g-P,P<Z){Z-=P;do M[s++]=y[H++];while(--P);H=s-W,$=M}}else if(w<P){if(H+=g+w-P,P-=w,P<Z){Z-=P;do M[s++]=y[H++];while(--P);if(H=0,w<Z){P=w,Z-=P;do M[s++]=y[H++];while(--P);H=s-W,$=M}}}else if(H+=w-P,P<Z){Z-=P;do M[s++]=y[H++];while(--P);H=s-W,$=M}for(;Z>2;)M[s++]=$[H++],M[s++]=$[H++],M[s++]=$[H++],Z-=3;Z&&(M[s++]=$[H++],Z>1&&(M[s++]=$[H++]))}else{H=s-W;do M[s++]=M[H++],M[s++]=M[H++],M[s++]=M[H++],Z-=3;while(Z>2);Z&&(M[s++]=M[H++],Z>1&&(M[s++]=M[H++]))}}else if((P&64)==0){j=k[(j&65535)+(E&(1<<P)-1)];continue r}else{t.msg="invalid distance code",n.mode=BAD$1;break e}break}}else if((P&64)==0){j=D[(j&65535)+(E&(1<<P)-1)];continue t}else if(P&32){n.mode=TYPE$1;break e}else{t.msg="invalid literal/length code",n.mode=BAD$1;break e}break}}while(a<o&&s<p);Z=I>>3,a-=Z,I-=Z<<3,E&=(1<<I)-1,t.next_in=a,t.next_out=s,t.avail_in=a<o?5+(o-a):5-(a-o),t.avail_out=s<p?257+(p-s):257-(s-p),n.hold=E,n.bits=I},utils$f=common,MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],inftrees=function(t,r,n,a,o,s,l,p){var d=p.bits,g=0,x=0,w=0,y=0,E=0,I=0,D=0,k=0,U=0,z=0,j,P,Z,W,H,$=null,V=0,M,G=new utils$f.Buf16(MAXBITS+1),re=new utils$f.Buf16(MAXBITS+1),ae=null,he=0,de,X,fe;for(g=0;g<=MAXBITS;g++)G[g]=0;for(x=0;x<a;x++)G[r[n+x]]++;for(E=d,y=MAXBITS;y>=1&&G[y]===0;y--);if(E>y&&(E=y),y===0)return o[s++]=1<<24|64<<16|0,o[s++]=1<<24|64<<16|0,p.bits=1,0;for(w=1;w<y&&G[w]===0;w++);for(E<w&&(E=w),k=1,g=1;g<=MAXBITS;g++)if(k<<=1,k-=G[g],k<0)return-1;if(k>0&&(t===CODES$1||y!==1))return-1;for(re[1]=0,g=1;g<MAXBITS;g++)re[g+1]=re[g]+G[g];for(x=0;x<a;x++)r[n+x]!==0&&(l[re[r[n+x]]++]=x);if(t===CODES$1?($=ae=l,M=19):t===LENS$1?($=lbase,V-=257,ae=lext,he-=257,M=256):($=dbase,ae=dext,M=-1),z=0,x=0,g=w,H=s,I=E,D=0,Z=-1,U=1<<E,W=U-1,t===LENS$1&&U>ENOUGH_LENS$1||t===DISTS$1&&U>ENOUGH_DISTS$1)return 1;for(;;){de=g-D,l[x]<M?(X=0,fe=l[x]):l[x]>M?(X=ae[he+l[x]],fe=$[V+l[x]]):(X=32+64,fe=0),j=1<<g-D,P=1<<I,w=P;do P-=j,o[H+(z>>D)+P]=de<<24|X<<16|fe|0;while(P!==0);for(j=1<<g-1;z&j;)j>>=1;if(j!==0?(z&=j-1,z+=j):z=0,x++,--G[g]==0){if(g===y)break;g=r[n+l[x]]}if(g>E&&(z&W)!==Z){for(D===0&&(D=E),H+=w,I=g-D,k=1<<I;I+D<y&&(k-=G[I+D],!(k<=0));)I++,k<<=1;if(U+=1<<I,t===LENS$1&&U>ENOUGH_LENS$1||t===DISTS$1&&U>ENOUGH_DISTS$1)return 1;Z=z&W,o[Z]=E<<24|I<<16|H-s|0}}return z!==0&&(o[H+z]=g-D<<24|64<<16|0),p.bits=E,0},utils$e=common,adler32=adler32_1,crc32$1=crc32_1,inflate_fast=inffast,inflate_table=inftrees,CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS;function zswap32(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils$e.Buf16(320),this.work=new utils$e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(e){var t;return!e||!e.state?Z_STREAM_ERROR:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=HEAD,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new utils$e.Buf32(ENOUGH_LENS),t.distcode=t.distdyn=new utils$e.Buf32(ENOUGH_DISTS),t.sane=1,t.back=-1,Z_OK)}function inflateReset(e){var t;return!e||!e.state?Z_STREAM_ERROR:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,inflateResetKeep(e))}function inflateReset2(e,t){var r,n;return!e||!e.state||(n=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Z_STREAM_ERROR:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,inflateReset(e))}function inflateInit2(e,t){var r,n;return e?(n=new InflateState,e.state=n,n.window=null,r=inflateReset2(e,t),r!==Z_OK&&(e.state=null),r):Z_STREAM_ERROR}function inflateInit(e){return inflateInit2(e,DEF_WBITS)}var virgin=!0,lenfix,distfix;function fixedtables(e){if(virgin){var t;for(lenfix=new utils$e.Buf32(512),distfix=new utils$e.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(inflate_table(LENS,e.lens,0,288,lenfix,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;inflate_table(DISTS,e.lens,0,32,distfix,0,e.work,{bits:5}),virgin=!1}e.lencode=lenfix,e.lenbits=9,e.distcode=distfix,e.distbits=5}function updatewindow(e,t,r,n){var a,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new utils$e.Buf8(o.wsize)),n>=o.wsize?(utils$e.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>n&&(a=n),utils$e.arraySet(o.window,t,r-n,a,o.wnext),n-=a,n?(utils$e.arraySet(o.window,t,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}function inflate$2(e,t){var r,n,a,o,s,l,p,d,g,x,w,y,E,I,D=0,k,U,z,j,P,Z,W,H,$=new utils$e.Buf8(4),V,M,G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Z_STREAM_ERROR;r=e.state,r.mode===TYPE&&(r.mode=TYPEDO),s=e.next_out,a=e.output,p=e.avail_out,o=e.next_in,n=e.input,l=e.avail_in,d=r.hold,g=r.bits,x=l,w=p,H=Z_OK;e:for(;;)switch(r.mode){case HEAD:if(r.wrap===0){r.mode=TYPEDO;break}for(;g<16;){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}if(r.wrap&2&&d===35615){r.check=0,$[0]=d&255,$[1]=d>>>8&255,r.check=crc32$1(r.check,$,2,0),d=0,g=0,r.mode=FLAGS;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=BAD;break}if((d&15)!==Z_DEFLATED){e.msg="unknown compression method",r.mode=BAD;break}if(d>>>=4,g-=4,W=(d&15)+8,r.wbits===0)r.wbits=W;else if(W>r.wbits){e.msg="invalid window size",r.mode=BAD;break}r.dmax=1<<W,e.adler=r.check=1,r.mode=d&512?DICTID:TYPE,d=0,g=0;break;case FLAGS:for(;g<16;){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}if(r.flags=d,(r.flags&255)!==Z_DEFLATED){e.msg="unknown compression method",r.mode=BAD;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=BAD;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&($[0]=d&255,$[1]=d>>>8&255,r.check=crc32$1(r.check,$,2,0)),d=0,g=0,r.mode=TIME;case TIME:for(;g<32;){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}r.head&&(r.head.time=d),r.flags&512&&($[0]=d&255,$[1]=d>>>8&255,$[2]=d>>>16&255,$[3]=d>>>24&255,r.check=crc32$1(r.check,$,4,0)),d=0,g=0,r.mode=OS;case OS:for(;g<16;){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&($[0]=d&255,$[1]=d>>>8&255,r.check=crc32$1(r.check,$,2,0)),d=0,g=0,r.mode=EXLEN;case EXLEN:if(r.flags&1024){for(;g<16;){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&($[0]=d&255,$[1]=d>>>8&255,r.check=crc32$1(r.check,$,2,0)),d=0,g=0}else r.head&&(r.head.extra=null);r.mode=EXTRA;case EXTRA:if(r.flags&1024&&(y=r.length,y>l&&(y=l),y&&(r.head&&(W=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),utils$e.arraySet(r.head.extra,n,o,y,W)),r.flags&512&&(r.check=crc32$1(r.check,n,y,o)),l-=y,o+=y,r.length-=y),r.length))break e;r.length=0,r.mode=NAME;case NAME:if(r.flags&2048){if(l===0)break e;y=0;do W=n[o+y++],r.head&&W&&r.length<65536&&(r.head.name+=String.fromCharCode(W));while(W&&y<l);if(r.flags&512&&(r.check=crc32$1(r.check,n,y,o)),l-=y,o+=y,W)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=COMMENT;case COMMENT:if(r.flags&4096){if(l===0)break e;y=0;do W=n[o+y++],r.head&&W&&r.length<65536&&(r.head.comment+=String.fromCharCode(W));while(W&&y<l);if(r.flags&512&&(r.check=crc32$1(r.check,n,y,o)),l-=y,o+=y,W)break e}else r.head&&(r.head.comment=null);r.mode=HCRC;case HCRC:if(r.flags&512){for(;g<16;){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}if(d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=BAD;break}d=0,g=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=TYPE;break;case DICTID:for(;g<32;){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}e.adler=r.check=zswap32(d),d=0,g=0,r.mode=DICT;case DICT:if(r.havedict===0)return e.next_out=s,e.avail_out=p,e.next_in=o,e.avail_in=l,r.hold=d,r.bits=g,Z_NEED_DICT;e.adler=r.check=1,r.mode=TYPE;case TYPE:if(t===Z_BLOCK||t===Z_TREES)break e;case TYPEDO:if(r.last){d>>>=g&7,g-=g&7,r.mode=CHECK;break}for(;g<3;){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}switch(r.last=d&1,d>>>=1,g-=1,d&3){case 0:r.mode=STORED;break;case 1:if(fixedtables(r),r.mode=LEN_,t===Z_TREES){d>>>=2,g-=2;break e}break;case 2:r.mode=TABLE;break;case 3:e.msg="invalid block type",r.mode=BAD}d>>>=2,g-=2;break;case STORED:for(d>>>=g&7,g-=g&7;g<32;){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}if((d&65535)!=(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=BAD;break}if(r.length=d&65535,d=0,g=0,r.mode=COPY_,t===Z_TREES)break e;case COPY_:r.mode=COPY;case COPY:if(y=r.length,y){if(y>l&&(y=l),y>p&&(y=p),y===0)break e;utils$e.arraySet(a,n,o,y,s),l-=y,o+=y,p-=y,s+=y,r.length-=y;break}r.mode=TYPE;break;case TABLE:for(;g<14;){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}if(r.nlen=(d&31)+257,d>>>=5,g-=5,r.ndist=(d&31)+1,d>>>=5,g-=5,r.ncode=(d&15)+4,d>>>=4,g-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=BAD;break}r.have=0,r.mode=LENLENS;case LENLENS:for(;r.have<r.ncode;){for(;g<3;){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}r.lens[G[r.have++]]=d&7,d>>>=3,g-=3}for(;r.have<19;)r.lens[G[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,V={bits:r.lenbits},H=inflate_table(CODES,r.lens,0,19,r.lencode,0,r.work,V),r.lenbits=V.bits,H){e.msg="invalid code lengths set",r.mode=BAD;break}r.have=0,r.mode=CODELENS;case CODELENS:for(;r.have<r.nlen+r.ndist;){for(;D=r.lencode[d&(1<<r.lenbits)-1],k=D>>>24,U=D>>>16&255,z=D&65535,!(k<=g);){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}if(z<16)d>>>=k,g-=k,r.lens[r.have++]=z;else{if(z===16){for(M=k+2;g<M;){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}if(d>>>=k,g-=k,r.have===0){e.msg="invalid bit length repeat",r.mode=BAD;break}W=r.lens[r.have-1],y=3+(d&3),d>>>=2,g-=2}else if(z===17){for(M=k+3;g<M;){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}d>>>=k,g-=k,W=0,y=3+(d&7),d>>>=3,g-=3}else{for(M=k+7;g<M;){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}d>>>=k,g-=k,W=0,y=11+(d&127),d>>>=7,g-=7}if(r.have+y>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=BAD;break}for(;y--;)r.lens[r.have++]=W}}if(r.mode===BAD)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=BAD;break}if(r.lenbits=9,V={bits:r.lenbits},H=inflate_table(LENS,r.lens,0,r.nlen,r.lencode,0,r.work,V),r.lenbits=V.bits,H){e.msg="invalid literal/lengths set",r.mode=BAD;break}if(r.distbits=6,r.distcode=r.distdyn,V={bits:r.distbits},H=inflate_table(DISTS,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,V),r.distbits=V.bits,H){e.msg="invalid distances set",r.mode=BAD;break}if(r.mode=LEN_,t===Z_TREES)break e;case LEN_:r.mode=LEN;case LEN:if(l>=6&&p>=258){e.next_out=s,e.avail_out=p,e.next_in=o,e.avail_in=l,r.hold=d,r.bits=g,inflate_fast(e,w),s=e.next_out,a=e.output,p=e.avail_out,o=e.next_in,n=e.input,l=e.avail_in,d=r.hold,g=r.bits,r.mode===TYPE&&(r.back=-1);break}for(r.back=0;D=r.lencode[d&(1<<r.lenbits)-1],k=D>>>24,U=D>>>16&255,z=D&65535,!(k<=g);){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}if(U&&(U&240)==0){for(j=k,P=U,Z=z;D=r.lencode[Z+((d&(1<<j+P)-1)>>j)],k=D>>>24,U=D>>>16&255,z=D&65535,!(j+k<=g);){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}d>>>=j,g-=j,r.back+=j}if(d>>>=k,g-=k,r.back+=k,r.length=z,U===0){r.mode=LIT;break}if(U&32){r.back=-1,r.mode=TYPE;break}if(U&64){e.msg="invalid literal/length code",r.mode=BAD;break}r.extra=U&15,r.mode=LENEXT;case LENEXT:if(r.extra){for(M=r.extra;g<M;){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,g-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=DIST;case DIST:for(;D=r.distcode[d&(1<<r.distbits)-1],k=D>>>24,U=D>>>16&255,z=D&65535,!(k<=g);){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}if((U&240)==0){for(j=k,P=U,Z=z;D=r.distcode[Z+((d&(1<<j+P)-1)>>j)],k=D>>>24,U=D>>>16&255,z=D&65535,!(j+k<=g);){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}d>>>=j,g-=j,r.back+=j}if(d>>>=k,g-=k,r.back+=k,U&64){e.msg="invalid distance code",r.mode=BAD;break}r.offset=z,r.extra=U&15,r.mode=DISTEXT;case DISTEXT:if(r.extra){for(M=r.extra;g<M;){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,g-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=BAD;break}r.mode=MATCH;case MATCH:if(p===0)break e;if(y=w-p,r.offset>y){if(y=r.offset-y,y>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=BAD;break}y>r.wnext?(y-=r.wnext,E=r.wsize-y):E=r.wnext-y,y>r.length&&(y=r.length),I=r.window}else I=a,E=s-r.offset,y=r.length;y>p&&(y=p),p-=y,r.length-=y;do a[s++]=I[E++];while(--y);r.length===0&&(r.mode=LEN);break;case LIT:if(p===0)break e;a[s++]=r.length,p--,r.mode=LEN;break;case CHECK:if(r.wrap){for(;g<32;){if(l===0)break e;l--,d|=n[o++]<<g,g+=8}if(w-=p,e.total_out+=w,r.total+=w,w&&(e.adler=r.check=r.flags?crc32$1(r.check,a,w,s-w):adler32(r.check,a,w,s-w)),w=p,(r.flags?d:zswap32(d))!==r.check){e.msg="incorrect data check",r.mode=BAD;break}d=0,g=0}r.mode=LENGTH;case LENGTH:if(r.wrap&&r.flags){for(;g<32;){if(l===0)break e;l--,d+=n[o++]<<g,g+=8}if(d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=BAD;break}d=0,g=0}r.mode=DONE;case DONE:H=Z_STREAM_END;break e;case BAD:H=Z_DATA_ERROR;break e;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return e.next_out=s,e.avail_out=p,e.next_in=o,e.avail_in=l,r.hold=d,r.bits=g,(r.wsize||w!==e.avail_out&&r.mode<BAD&&(r.mode<CHECK||t!==Z_FINISH))&&updatewindow(e,e.output,e.next_out,w-e.avail_out),x-=e.avail_in,w-=e.avail_out,e.total_in+=x,e.total_out+=w,r.total+=w,r.wrap&&w&&(e.adler=r.check=r.flags?crc32$1(r.check,a,w,e.next_out-w):adler32(r.check,a,w,e.next_out-w)),e.data_type=r.bits+(r.last?64:0)+(r.mode===TYPE?128:0)+(r.mode===LEN_||r.mode===COPY_?256:0),(x===0&&w===0||t===Z_FINISH)&&H===Z_OK&&(H=Z_BUF_ERROR),H}function inflateEnd(e){if(!e||!e.state)return Z_STREAM_ERROR;var t=e.state;return t.window&&(t.window=null),e.state=null,Z_OK}function inflateGetHeader(e,t){var r;return!e||!e.state||(r=e.state,(r.wrap&2)==0)?Z_STREAM_ERROR:(r.head=t,t.done=!1,Z_OK)}function inflateSetDictionary(e,t){var r=t.length,n,a,o;return!e||!e.state||(n=e.state,n.wrap!==0&&n.mode!==DICT)?Z_STREAM_ERROR:n.mode===DICT&&(a=1,a=adler32(a,t,r,0),a!==n.check)?Z_DATA_ERROR:(o=updatewindow(e,t,r,r),o?(n.mode=MEM,Z_MEM_ERROR):(n.havedict=1,Z_OK))}inflate$3.inflateReset=inflateReset,inflate$3.inflateReset2=inflateReset2,inflate$3.inflateResetKeep=inflateResetKeep,inflate$3.inflateInit=inflateInit,inflate$3.inflateInit2=inflateInit2,inflate$3.inflate=inflate$2,inflate$3.inflateEnd=inflateEnd,inflate$3.inflateGetHeader=inflateGetHeader,inflate$3.inflateSetDictionary=inflateSetDictionary,inflate$3.inflateInfo="pako inflate (from Nodeca project)";var constants$1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function GZheader$1(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader$1,zlib_inflate=inflate$3,utils$d=common,strings=strings$2,c=constants$1,msg=messages,ZStream=zstream,GZheader=gzheader,toString=Object.prototype.toString;function Inflate(e){if(!(this instanceof Inflate))return new Inflate(e);this.options=utils$d.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var r=zlib_inflate.inflateInit2(this.strm,t.windowBits);if(r!==c.Z_OK)throw new Error(msg[r]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=strings.string2buf(t.dictionary):toString.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=zlib_inflate.inflateSetDictionary(this.strm,t.dictionary),r!==c.Z_OK)))throw new Error(msg[r])}Inflate.prototype.push=function(e,t){var r=this.strm,n=this.options.chunkSize,a=this.options.dictionary,o,s,l,p,d,g=!1;if(this.ended)return!1;s=t===~~t?t:t===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof e=="string"?r.input=strings.binstring2buf(e):toString.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new utils$d.Buf8(n),r.next_out=0,r.avail_out=n),o=zlib_inflate.inflate(r,c.Z_NO_FLUSH),o===c.Z_NEED_DICT&&a&&(o=zlib_inflate.inflateSetDictionary(this.strm,a)),o===c.Z_BUF_ERROR&&g===!0&&(o=c.Z_OK,g=!1),o!==c.Z_STREAM_END&&o!==c.Z_OK)return this.onEnd(o),this.ended=!0,!1;r.next_out&&(r.avail_out===0||o===c.Z_STREAM_END||r.avail_in===0&&(s===c.Z_FINISH||s===c.Z_SYNC_FLUSH))&&(this.options.to==="string"?(l=strings.utf8border(r.output,r.next_out),p=r.next_out-l,d=strings.buf2string(r.output,l),r.next_out=p,r.avail_out=n-p,p&&utils$d.arraySet(r.output,r.output,l,p,0),this.onData(d)):this.onData(utils$d.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(g=!0)}while((r.avail_in>0||r.avail_out===0)&&o!==c.Z_STREAM_END);return o===c.Z_STREAM_END&&(s=c.Z_FINISH),s===c.Z_FINISH?(o=zlib_inflate.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===c.Z_OK):(s===c.Z_SYNC_FLUSH&&(this.onEnd(c.Z_OK),r.avail_out=0),!0)},Inflate.prototype.onData=function(e){this.chunks.push(e)},Inflate.prototype.onEnd=function(e){e===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils$d.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function inflate$1(e,t){var r=new Inflate(t);if(r.push(e,!0),r.err)throw r.msg||msg[r.err];return r.result}function inflateRaw(e,t){return t=t||{},t.raw=!0,inflate$1(e,t)}inflate$4.Inflate=Inflate,inflate$4.inflate=inflate$1,inflate$4.inflateRaw=inflateRaw,inflate$4.ungzip=inflate$1;var assign=common.assign,deflate=deflate$4,inflate=inflate$4,constants=constants$1,pako$1={};assign(pako$1,deflate,inflate,constants);var pako_1=pako$1,USE_TYPEDARRAY=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",pako=pako_1,utils$c=utils$s,GenericWorker$4=GenericWorker_1,ARRAY_TYPE=USE_TYPEDARRAY?"uint8array":"array";flate.magic="\b\0";function FlateWorker(e,t){GenericWorker$4.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}utils$c.inherits(FlateWorker,GenericWorker$4),FlateWorker.prototype.processChunk=function(e){this.meta=e.meta,this._pako===null&&this._createPako(),this._pako.push(utils$c.transformTo(ARRAY_TYPE,e.data),!1)},FlateWorker.prototype.flush=function(){GenericWorker$4.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},FlateWorker.prototype.cleanUp=function(){GenericWorker$4.prototype.cleanUp.call(this),this._pako=null},FlateWorker.prototype._createPako=function(){this._pako=new pako[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},flate.compressWorker=function(e){return new FlateWorker("Deflate",e)},flate.uncompressWorker=function(){return new FlateWorker("Inflate",{})};var GenericWorker$3=GenericWorker_1;compressions$2.STORE={magic:"\0\0",compressWorker:function(e){return new GenericWorker$3("STORE compression")},uncompressWorker:function(){return new GenericWorker$3("STORE decompression")}},compressions$2.DEFLATE=flate;var signature$1={};signature$1.LOCAL_FILE_HEADER="PK",signature$1.CENTRAL_FILE_HEADER="PK",signature$1.CENTRAL_DIRECTORY_END="PK",signature$1.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",signature$1.ZIP64_CENTRAL_DIRECTORY_END="PK",signature$1.DATA_DESCRIPTOR="PK\x07\b";var utils$b=utils$s,GenericWorker$2=GenericWorker_1,utf8$3=utf8$5,crc32=crc32_1$1,signature=signature$1,decToHex=function(e,t){var r="",n;for(n=0;n<t;n++)r+=String.fromCharCode(e&255),e=e>>>8;return r},generateUnixExternalFileAttr=function(e,t){var r=e;return e||(r=t?16893:33204),(r&65535)<<16},generateDosExternalFileAttr=function(e,t){return(e||0)&63},generateZipParts=function(e,t,r,n,a,o){var s=e.file,l=e.compression,p=o!==utf8$3.utf8encode,d=utils$b.transformTo("string",o(s.name)),g=utils$b.transformTo("string",utf8$3.utf8encode(s.name)),x=s.comment,w=utils$b.transformTo("string",o(x)),y=utils$b.transformTo("string",utf8$3.utf8encode(x)),E=g.length!==s.name.length,I=y.length!==x.length,D,k,U="",z="",j="",P=s.dir,Z=s.date,W={crc32:0,compressedSize:0,uncompressedSize:0};(!t||r)&&(W.crc32=e.crc32,W.compressedSize=e.compressedSize,W.uncompressedSize=e.uncompressedSize);var H=0;t&&(H|=8),!p&&(E||I)&&(H|=2048);var $=0,V=0;P&&($|=16),a==="UNIX"?(V=798,$|=generateUnixExternalFileAttr(s.unixPermissions,P)):(V=20,$|=generateDosExternalFileAttr(s.dosPermissions)),D=Z.getUTCHours(),D=D<<6,D=D|Z.getUTCMinutes(),D=D<<5,D=D|Z.getUTCSeconds()/2,k=Z.getUTCFullYear()-1980,k=k<<4,k=k|Z.getUTCMonth()+1,k=k<<5,k=k|Z.getUTCDate(),E&&(z=decToHex(1,1)+decToHex(crc32(d),4)+g,U+="up"+decToHex(z.length,2)+z),I&&(j=decToHex(1,1)+decToHex(crc32(w),4)+y,U+="uc"+decToHex(j.length,2)+j);var M="";M+=`
\0`,M+=decToHex(H,2),M+=l.magic,M+=decToHex(D,2),M+=decToHex(k,2),M+=decToHex(W.crc32,4),M+=decToHex(W.compressedSize,4),M+=decToHex(W.uncompressedSize,4),M+=decToHex(d.length,2),M+=decToHex(U.length,2);var G=signature.LOCAL_FILE_HEADER+M+d+U,re=signature.CENTRAL_FILE_HEADER+decToHex(V,2)+M+decToHex(w.length,2)+"\0\0\0\0"+decToHex($,4)+decToHex(n,4)+d+U+w;return{fileRecord:G,dirRecord:re}},generateCentralDirectoryEnd=function(e,t,r,n,a){var o="",s=utils$b.transformTo("string",a(n));return o=signature.CENTRAL_DIRECTORY_END+"\0\0\0\0"+decToHex(e,2)+decToHex(e,2)+decToHex(t,4)+decToHex(r,4)+decToHex(s.length,2)+s,o},generateDataDescriptors=function(e){var t="";return t=signature.DATA_DESCRIPTOR+decToHex(e.crc32,4)+decToHex(e.compressedSize,4)+decToHex(e.uncompressedSize,4),t};function ZipFileWorker$1(e,t,r,n){GenericWorker$2.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}utils$b.inherits(ZipFileWorker$1,GenericWorker$2),ZipFileWorker$1.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,GenericWorker$2.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},ZipFileWorker$1.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=generateZipParts(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},ZipFileWorker$1.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=generateZipParts(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:generateDataDescriptors(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},ZipFileWorker$1.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,n=generateCentralDirectoryEnd(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},ZipFileWorker$1.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},ZipFileWorker$1.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(r){t.processChunk(r)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(r){t.error(r)}),this},ZipFileWorker$1.prototype.resume=function(){if(!GenericWorker$2.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},ZipFileWorker$1.prototype.error=function(e){var t=this._sources;if(!GenericWorker$2.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(n){}return!0},ZipFileWorker$1.prototype.lock=function(){GenericWorker$2.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()};var ZipFileWorker_1=ZipFileWorker$1,compressions$1=compressions$2,ZipFileWorker=ZipFileWorker_1,getCompression=function(e,t){var r=e||t,n=compressions$1[r];if(!n)throw new Error(r+" is not a valid compression method !");return n};generate$1.generateWorker=function(e,t,r){var n=new ZipFileWorker(t.streamFiles,r,t.platform,t.encodeFileName),a=0;try{e.forEach(function(o,s){a++;var l=getCompression(s.options.compression,t.compression),p=s.options.compressionOptions||t.compressionOptions||{},d=s.dir,g=s.date;s._compressWorker(l,p).withStreamInfo("file",{name:o,dir:d,date:g,comment:s.comment||"",unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions}).pipe(n)}),n.entriesCount=a}catch(o){n.error(o)}return n};var utils$a=utils$s,GenericWorker$1=GenericWorker_1;function NodejsStreamInputAdapter$1(e,t){GenericWorker$1.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}utils$a.inherits(NodejsStreamInputAdapter$1,GenericWorker$1),NodejsStreamInputAdapter$1.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(r){t.push({data:r,meta:{percent:0}})}).on("error",function(r){t.isPaused?this.generatedError=r:t.error(r)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},NodejsStreamInputAdapter$1.prototype.pause=function(){return GenericWorker$1.prototype.pause.call(this)?(this._stream.pause(),!0):!1},NodejsStreamInputAdapter$1.prototype.resume=function(){return GenericWorker$1.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1};var NodejsStreamInputAdapter_1=NodejsStreamInputAdapter$1,utf8$2=utf8$5,utils$9=utils$s,GenericWorker=GenericWorker_1,StreamHelper=StreamHelper_1,defaults=defaults$1,CompressedObject$1=compressedObject,ZipObject=zipObject,generate=generate$1,nodejsUtils$1=nodejsUtils$2,NodejsStreamInputAdapter=NodejsStreamInputAdapter_1,fileAdd=function(e,t,r){var n=utils$9.getTypeOf(t),a,o=utils$9.extend(r||{},defaults);o.date=o.date||new Date,o.compression!==null&&(o.compression=o.compression.toUpperCase()),typeof o.unixPermissions=="string"&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&o.unixPermissions&16384&&(o.dir=!0),o.dosPermissions&&o.dosPermissions&16&&(o.dir=!0),o.dir&&(e=forceTrailingSlash(e)),o.createFolders&&(a=parentFolder(e))&&folderAdd.call(this,a,!0);var s=n==="string"&&o.binary===!1&&o.base64===!1;(!r||typeof r.binary=="undefined")&&(o.binary=!s);var l=t instanceof CompressedObject$1&&t.uncompressedSize===0;(l||o.dir||!t||t.length===0)&&(o.base64=!1,o.binary=!0,t="",o.compression="STORE",n="string");var p=null;t instanceof CompressedObject$1||t instanceof GenericWorker?p=t:nodejsUtils$1.isNode&&nodejsUtils$1.isStream(t)?p=new NodejsStreamInputAdapter(e,t):p=utils$9.prepareContent(e,t,o.binary,o.optimizedBinaryString,o.base64);var d=new ZipObject(e,p,o);this.files[e]=d},parentFolder=function(e){e.slice(-1)==="/"&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},forceTrailingSlash=function(e){return e.slice(-1)!=="/"&&(e+="/"),e},folderAdd=function(e,t){return t=typeof t!="undefined"?t:defaults.createFolders,e=forceTrailingSlash(e),this.files[e]||fileAdd.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function isRegExp(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var out={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files)!this.files.hasOwnProperty(t)||(n=this.files[t],r=t.slice(this.root.length,t.length),r&&t.slice(0,this.root.length)===this.root&&e(r,n))},filter:function(e){var t=[];return this.forEach(function(r,n){e(r,n)&&t.push(n)}),t},file:function(e,t,r){if(arguments.length===1)if(isRegExp(e)){var n=e;return this.filter(function(o,s){return!s.dir&&n.test(o)})}else{var a=this.files[this.root+e];return a&&!a.dir?a:null}else e=this.root+e,fileAdd.call(this,e,t,r);return this},folder:function(e){if(!e)return this;if(isRegExp(e))return this.filter(function(a,o){return o.dir&&e.test(a)});var t=this.root+e,r=folderAdd.call(this,t),n=this.clone();return n.root=r.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||(e.slice(-1)!=="/"&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter(function(a,o){return o.name.slice(0,e.length)===e}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if(r=utils$9.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:utf8$2.utf8encode}),r.type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),r.type==="binarystring"&&(r.type="string"),!r.type)throw new Error("No output type specified.");utils$9.checkSupport(r.type),(r.platform==="darwin"||r.platform==="freebsd"||r.platform==="linux"||r.platform==="sunos")&&(r.platform="UNIX"),r.platform==="win32"&&(r.platform="DOS");var n=r.comment||this.comment||"";t=generate.generateWorker(this,r,n)}catch(a){t=new GenericWorker("error"),t.error(a)}return new StreamHelper(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return e=e||{},e.type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}},object=out,utils$8=utils$s;function DataReader$2(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}DataReader$2.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t=0,r;for(this.checkOffset(e),r=this.index+e-1;r>=this.index;r--)t=(t<<8)+this.byteAt(r);return this.index+=e,t},readString:function(e){return utils$8.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(e&31)<<1))}};var DataReader_1=DataReader$2,DataReader$1=DataReader_1,utils$7=utils$s;function ArrayReader$2(e){DataReader$1.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=e[t]&255}utils$7.inherits(ArrayReader$2,DataReader$1),ArrayReader$2.prototype.byteAt=function(e){return this.data[this.zero+e]},ArrayReader$2.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),a=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===r&&this.data[o+2]===n&&this.data[o+3]===a)return o-this.zero;return-1},ArrayReader$2.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),a=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&r===o[1]&&n===o[2]&&a===o[3]},ArrayReader$2.prototype.readData=function(e){if(this.checkOffset(e),e===0)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};var ArrayReader_1=ArrayReader$2,DataReader=DataReader_1,utils$6=utils$s;function StringReader$1(e){DataReader.call(this,e)}utils$6.inherits(StringReader$1,DataReader),StringReader$1.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},StringReader$1.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},StringReader$1.prototype.readAndCheckSignature=function(e){var t=this.readData(4);return e===t},StringReader$1.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};var StringReader_1=StringReader$1,ArrayReader$1=ArrayReader_1,utils$5=utils$s;function Uint8ArrayReader$2(e){ArrayReader$1.call(this,e)}utils$5.inherits(Uint8ArrayReader$2,ArrayReader$1),Uint8ArrayReader$2.prototype.readData=function(e){if(this.checkOffset(e),e===0)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};var Uint8ArrayReader_1=Uint8ArrayReader$2,Uint8ArrayReader$1=Uint8ArrayReader_1,utils$4=utils$s;function NodeBufferReader$1(e){Uint8ArrayReader$1.call(this,e)}utils$4.inherits(NodeBufferReader$1,Uint8ArrayReader$1),NodeBufferReader$1.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t};var NodeBufferReader_1=NodeBufferReader$1,utils$3=utils$s,support$2=support$5,ArrayReader=ArrayReader_1,StringReader=StringReader_1,NodeBufferReader=NodeBufferReader_1,Uint8ArrayReader=Uint8ArrayReader_1,readerFor$2=function(e){var t=utils$3.getTypeOf(e);return utils$3.checkSupport(t),t==="string"&&!support$2.uint8array?new StringReader(e):t==="nodebuffer"?new NodeBufferReader(e):support$2.uint8array?new Uint8ArrayReader(utils$3.transformTo("uint8array",e)):new ArrayReader(utils$3.transformTo("array",e))},readerFor$1=readerFor$2,utils$2=utils$s,CompressedObject=compressedObject,crc32fn=crc32_1$1,utf8$1=utf8$5,compressions=compressions$2,support$1=support$5,MADE_BY_DOS=0,MADE_BY_UNIX=3,findCompression=function(e){for(var t in compressions)if(!!compressions.hasOwnProperty(t)&&compressions[t].magic===e)return compressions[t];return null};function ZipEntry$1(e,t){this.options=e,this.loadOptions=t}ZipEntry$1.prototype={isEncrypted:function(){return(this.bitFlag&1)==1},useUTF8:function(){return(this.bitFlag&2048)==2048},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(t=findCompression(this.compressionMethod),t===null)throw new Error("Corrupted zip : compression "+utils$2.pretty(this.compressionMethod)+" unknown (inner file : "+utils$2.transformTo("string",this.fileName)+")");this.decompressed=new CompressedObject(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),e===MADE_BY_DOS&&(this.dosPermissions=this.externalFileAttributes&63),e===MADE_BY_UNIX&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(e){if(!!this.extraFields[1]){var t=readerFor$1(this.extraFields[1].value);this.uncompressedSize===utils$2.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===utils$2.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===utils$2.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===utils$2.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t=e.index+this.extraFieldsLength,r,n,a;for(this.extraFields||(this.extraFields={});e.index+4<t;)r=e.readInt(2),n=e.readInt(2),a=e.readData(n),this.extraFields[r]={id:r,length:n,value:a};e.setIndex(t)},handleUTF8:function(){var e=support$1.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=utf8$1.utf8decode(this.fileName),this.fileCommentStr=utf8$1.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(t!==null)this.fileNameStr=t;else{var r=utils$2.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(n!==null)this.fileCommentStr=n;else{var a=utils$2.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=readerFor$1(e.value);return t.readInt(1)!==1||crc32fn(this.fileName)!==t.readInt(4)?null:utf8$1.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=readerFor$1(e.value);return t.readInt(1)!==1||crc32fn(this.fileComment)!==t.readInt(4)?null:utf8$1.utf8decode(t.readData(e.length-5))}return null}};var zipEntry=ZipEntry$1,readerFor=readerFor$2,utils$1=utils$s,sig=signature$1,ZipEntry=zipEntry,support=support$5;function ZipEntries$1(e){this.files=[],this.loadOptions=e}ZipEntries$1.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+utils$1.pretty(t)+", expected "+utils$1.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4),a=n===t;return this.reader.setIndex(r),a},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=support.uint8array?"uint8array":"array",r=utils$1.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e=this.zip64EndOfCentralSize-44,t=0,r,n,a;t<e;)r=this.reader.readInt(2),n=this.reader.readInt(4),a=this.reader.readData(n),this.zip64ExtensibleData[r]={id:r,length:n,value:a}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(sig.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(sig.CENTRAL_FILE_HEADER);)e=new ZipEntry({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(sig.CENTRAL_DIRECTORY_END);if(e<0){var t=!this.isSignature(0,sig.LOCAL_FILE_HEADER);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(e);var r=e;if(this.checkSignature(sig.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===utils$1.MAX_VALUE_16BITS||this.diskWithCentralDirStart===utils$1.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===utils$1.MAX_VALUE_16BITS||this.centralDirRecords===utils$1.MAX_VALUE_16BITS||this.centralDirSize===utils$1.MAX_VALUE_32BITS||this.centralDirOffset===utils$1.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR),e<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,sig.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var a=r-n;if(a>0)this.isSignature(r,sig.CENTRAL_FILE_HEADER)||(this.reader.zero=a);else if(a<0)throw new Error("Corrupted zip: missing "+Math.abs(a)+" bytes.")},prepareReader:function(e){this.reader=readerFor(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};var zipEntries=ZipEntries$1,utils=utils$s,external=external$3,utf8=utf8$5,utils=utils$s,ZipEntries=zipEntries,Crc32Probe=Crc32Probe_1,nodejsUtils=nodejsUtils$2;function checkEntryCRC32(e){return new external.Promise(function(t,r){var n=e.decompressed.getContentWorker().pipe(new Crc32Probe);n.on("error",function(a){r(a)}).on("end",function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}var load=function(e,t){var r=this;return t=utils.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:utf8.utf8decode}),nodejsUtils.isNode&&nodejsUtils.isStream(e)?external.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):utils.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(n){var a=new ZipEntries(t);return a.load(n),a}).then(function(a){var o=[external.Promise.resolve(a)],s=a.files;if(t.checkCRC32)for(var l=0;l<s.length;l++)o.push(checkEntryCRC32(s[l]));return external.Promise.all(o)}).then(function(a){for(var o=a.shift(),s=o.files,l=0;l<s.length;l++){var p=s[l];r.file(p.fileNameStr,p.decompressed,{binary:!0,optimizedBinaryString:!0,date:p.date,dir:p.dir,comment:p.fileCommentStr.length?p.fileCommentStr:null,unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions,createFolders:t.createFolders})}return o.zipComment.length&&(r.comment=o.zipComment),r})};function JSZip(){if(!(this instanceof JSZip))return new JSZip;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new JSZip;for(var t in this)typeof this[t]!="function"&&(e[t]=this[t]);return e}}JSZip.prototype=object,JSZip.prototype.loadAsync=load,JSZip.support=support$5,JSZip.defaults=defaults$1,JSZip.version="3.5.0",JSZip.loadAsync=function(e,t){return new JSZip().loadAsync(e,t)},JSZip.external=external$3;var lib=JSZip;const zipLoad=e=>lib.loadAsync(e),zipGetText=(e,t)=>{const r=e.file(t);return r?r.async("text"):null},zipSetText=(e,t,r)=>e.file(t,r),zipSetBinary=(e,t,r)=>e.file(t,r,{binary:!0}),zipSetBase64=(e,t,r)=>e.file(t,r,{base64:!0}),zipSave=e=>e.generateAsync({type:"uint8array",compression:"DEFLATE",compressionOptions:{level:1}});var sax={};(function(e){(function(t){t.parser=function(m,h){return new n(m,h)},t.SAXParser=n,t.SAXStream=g,t.createStream=d,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(m,h){if(!(this instanceof n))return new n(m,h);var O=this;o(O),O.q=O.c="",O.bufferCheckPosition=t.MAX_BUFFER_LENGTH,O.opt=h||{},O.opt.lowercase=O.opt.lowercase||O.opt.lowercasetags,O.looseCase=O.opt.lowercase?"toLowerCase":"toUpperCase",O.tags=[],O.closed=O.closedRoot=O.sawRoot=!1,O.tag=O.error=null,O.strict=!!m,O.noscript=!!(m||O.opt.noscript),O.state=$.BEGIN,O.strictEntities=O.opt.strictEntities,O.ENTITIES=O.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),O.attribList=[],O.opt.xmlns&&(O.ns=Object.create(I)),O.trackPosition=O.opt.position!==!1,O.trackPosition&&(O.position=O.line=O.column=0),M(O,"onready")}Object.create||(Object.create=function(m){function h(){}h.prototype=m;var O=new h;return O}),Object.keys||(Object.keys=function(m){var h=[];for(var O in m)m.hasOwnProperty(O)&&h.push(O);return h});function a(m){for(var h=Math.max(t.MAX_BUFFER_LENGTH,10),O=0,T=0,J=r.length;T<J;T++){var ne=m[r[T]].length;if(ne>h)switch(r[T]){case"textNode":re(m);break;case"cdata":G(m,"oncdata",m.cdata),m.cdata="";break;case"script":G(m,"onscript",m.script),m.script="";break;default:he(m,"Max buffer length exceeded: "+r[T])}O=Math.max(O,ne)}var te=t.MAX_BUFFER_LENGTH-O;m.bufferCheckPosition=te+m.position}function o(m){for(var h=0,O=r.length;h<O;h++)m[r[h]]=""}function s(m){re(m),m.cdata!==""&&(G(m,"oncdata",m.cdata),m.cdata=""),m.script!==""&&(G(m,"onscript",m.script),m.script="")}n.prototype={end:function(){de(this)},write:ee,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var l;try{l=streamBrowserify.Stream}catch(m){l=function(){}}var p=t.EVENTS.filter(function(m){return m!=="error"&&m!=="end"});function d(m,h){return new g(m,h)}function g(m,h){if(!(this instanceof g))return new g(m,h);l.apply(this),this._parser=new n(m,h),this.writable=!0,this.readable=!0;var O=this;this._parser.onend=function(){O.emit("end")},this._parser.onerror=function(T){O.emit("error",T),O._parser.error=null},this._decoder=null,p.forEach(function(T){Object.defineProperty(O,"on"+T,{get:function(){return O._parser["on"+T]},set:function(J){if(!J)return O.removeAllListeners(T),O._parser["on"+T]=J,J;O.on(T,J)},enumerable:!0,configurable:!1})})}g.prototype=Object.create(l.prototype,{constructor:{value:g}}),g.prototype.write=function(m){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(m)){if(!this._decoder){var h=string_decoder$1.StringDecoder;this._decoder=new h("utf8")}m=this._decoder.write(m)}return this._parser.write(m.toString()),this.emit("data",m),!0},g.prototype.end=function(m){return m&&m.length&&this.write(m),this._parser.end(),!0},g.prototype.on=function(m,h){var O=this;return!O._parser["on"+m]&&p.indexOf(m)!==-1&&(O._parser["on"+m]=function(){var T=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);T.splice(0,0,m),O.emit.apply(O,T)}),l.prototype.on.call(O,m,h)};var x="[CDATA[",w="DOCTYPE",y="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",I={xml:y,xmlns:E},D=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,k=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,U=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,z=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function j(m){return m===" "||m===`
`||m==="\r"||m==="	"}function P(m){return m==='"'||m==="'"}function Z(m){return m===">"||j(m)}function W(m,h){return m.test(h)}function H(m,h){return!W(m,h)}var $=0;t.STATE={BEGIN:$++,BEGIN_WHITESPACE:$++,TEXT:$++,TEXT_ENTITY:$++,OPEN_WAKA:$++,SGML_DECL:$++,SGML_DECL_QUOTED:$++,DOCTYPE:$++,DOCTYPE_QUOTED:$++,DOCTYPE_DTD:$++,DOCTYPE_DTD_QUOTED:$++,COMMENT_STARTING:$++,COMMENT:$++,COMMENT_ENDING:$++,COMMENT_ENDED:$++,CDATA:$++,CDATA_ENDING:$++,CDATA_ENDING_2:$++,PROC_INST:$++,PROC_INST_BODY:$++,PROC_INST_ENDING:$++,OPEN_TAG:$++,OPEN_TAG_SLASH:$++,ATTRIB:$++,ATTRIB_NAME:$++,ATTRIB_NAME_SAW_WHITE:$++,ATTRIB_VALUE:$++,ATTRIB_VALUE_QUOTED:$++,ATTRIB_VALUE_CLOSED:$++,ATTRIB_VALUE_UNQUOTED:$++,ATTRIB_VALUE_ENTITY_Q:$++,ATTRIB_VALUE_ENTITY_U:$++,CLOSE_TAG:$++,CLOSE_TAG_SAW_WHITE:$++,SCRIPT:$++,SCRIPT_ENDING:$++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(m){var h=t.ENTITIES[m],O=typeof h=="number"?String.fromCharCode(h):h;t.ENTITIES[m]=O});for(var V in t.STATE)t.STATE[t.STATE[V]]=V;$=t.STATE;function M(m,h,O){m[h]&&m[h](O)}function G(m,h,O){m.textNode&&re(m),M(m,h,O)}function re(m){m.textNode=ae(m.opt,m.textNode),m.textNode&&M(m,"ontext",m.textNode),m.textNode=""}function ae(m,h){return m.trim&&(h=h.trim()),m.normalize&&(h=h.replace(/\s+/g," ")),h}function he(m,h){return re(m),m.trackPosition&&(h+=`
Line: `+m.line+`
Column: `+m.column+`
Char: `+m.c),h=new Error(h),m.error=h,M(m,"onerror",h),m}function de(m){return m.sawRoot&&!m.closedRoot&&X(m,"Unclosed root tag"),m.state!==$.BEGIN&&m.state!==$.BEGIN_WHITESPACE&&m.state!==$.TEXT&&he(m,"Unexpected end"),re(m),m.c="",m.closed=!0,M(m,"onend"),n.call(m,m.strict,m.opt),m}function X(m,h){if(typeof m!="object"||!(m instanceof n))throw new Error("bad call to strictFail");m.strict&&he(m,h)}function fe(m){m.strict||(m.tagName=m.tagName[m.looseCase]());var h=m.tags[m.tags.length-1]||m,O=m.tag={name:m.tagName,attributes:{}};m.opt.xmlns&&(O.ns=h.ns),m.attribList.length=0,G(m,"onopentagstart",O)}function me(m,h){var O=m.indexOf(":"),T=O<0?["",m]:m.split(":"),J=T[0],ne=T[1];return h&&m==="xmlns"&&(J="xmlns",ne=""),{prefix:J,local:ne}}function _e(m){if(m.strict||(m.attribName=m.attribName[m.looseCase]()),m.attribList.indexOf(m.attribName)!==-1||m.tag.attributes.hasOwnProperty(m.attribName)){m.attribName=m.attribValue="";return}if(m.opt.xmlns){var h=me(m.attribName,!0),O=h.prefix,T=h.local;if(O==="xmlns")if(T==="xml"&&m.attribValue!==y)X(m,"xml: prefix must be bound to "+y+`
Actual: `+m.attribValue);else if(T==="xmlns"&&m.attribValue!==E)X(m,"xmlns: prefix must be bound to "+E+`
Actual: `+m.attribValue);else{var J=m.tag,ne=m.tags[m.tags.length-1]||m;J.ns===ne.ns&&(J.ns=Object.create(ne.ns)),J.ns[T]=m.attribValue}m.attribList.push([m.attribName,m.attribValue])}else m.tag.attributes[m.attribName]=m.attribValue,G(m,"onattribute",{name:m.attribName,value:m.attribValue});m.attribName=m.attribValue=""}function A(m,h){if(m.opt.xmlns){var O=m.tag,T=me(m.tagName);O.prefix=T.prefix,O.local=T.local,O.uri=O.ns[T.prefix]||"",O.prefix&&!O.uri&&(X(m,"Unbound namespace prefix: "+JSON.stringify(m.tagName)),O.uri=T.prefix);var J=m.tags[m.tags.length-1]||m;O.ns&&J.ns!==O.ns&&Object.keys(O.ns).forEach(function(ye){G(m,"onopennamespace",{prefix:ye,uri:O.ns[ye]})});for(var ne=0,te=m.attribList.length;ne<te;ne++){var oe=m.attribList[ne],pe=oe[0],be=oe[1],le=me(pe,!0),ge=le.prefix,L=le.local,we=ge===""?"":O.ns[ge]||"",ve={name:pe,value:be,prefix:ge,local:L,uri:we};ge&&ge!=="xmlns"&&!we&&(X(m,"Unbound namespace prefix: "+JSON.stringify(ge)),ve.uri=ge),m.tag.attributes[pe]=ve,G(m,"onattribute",ve)}m.attribList.length=0}m.tag.isSelfClosing=!!h,m.sawRoot=!0,m.tags.push(m.tag),G(m,"onopentag",m.tag),h||(!m.noscript&&m.tagName.toLowerCase()==="script"?m.state=$.SCRIPT:m.state=$.TEXT,m.tag=null,m.tagName=""),m.attribName=m.attribValue="",m.attribList.length=0}function C(m){if(!m.tagName){X(m,"Weird empty close tag."),m.textNode+="</>",m.state=$.TEXT;return}if(m.script){if(m.tagName!=="script"){m.script+="</"+m.tagName+">",m.tagName="",m.state=$.SCRIPT;return}G(m,"onscript",m.script),m.script=""}var h=m.tags.length,O=m.tagName;m.strict||(O=O[m.looseCase]());for(var T=O;h--;){var J=m.tags[h];if(J.name!==T)X(m,"Unexpected close tag");else break}if(h<0){X(m,"Unmatched closing tag: "+m.tagName),m.textNode+="</"+m.tagName+">",m.state=$.TEXT;return}m.tagName=O;for(var ne=m.tags.length;ne-- >h;){var te=m.tag=m.tags.pop();m.tagName=m.tag.name,G(m,"onclosetag",m.tagName);var oe={};for(var pe in te.ns)oe[pe]=te.ns[pe];var be=m.tags[m.tags.length-1]||m;m.opt.xmlns&&te.ns!==be.ns&&Object.keys(te.ns).forEach(function(le){var ge=te.ns[le];G(m,"onclosenamespace",{prefix:le,uri:ge})})}h===0&&(m.closedRoot=!0),m.tagName=m.attribValue=m.attribName="",m.attribList.length=0,m.state=$.TEXT}function F(m){var h=m.entity,O=h.toLowerCase(),T,J="";return m.ENTITIES[h]?m.ENTITIES[h]:m.ENTITIES[O]?m.ENTITIES[O]:(h=O,h.charAt(0)==="#"&&(h.charAt(1)==="x"?(h=h.slice(2),T=parseInt(h,16),J=T.toString(16)):(h=h.slice(1),T=parseInt(h,10),J=T.toString(10))),h=h.replace(/^0+/,""),isNaN(T)||J.toLowerCase()!==h?(X(m,"Invalid character entity"),"&"+m.entity+";"):String.fromCodePoint(T))}function Y(m,h){h==="<"?(m.state=$.OPEN_WAKA,m.startTagPosition=m.position):j(h)||(X(m,"Non-whitespace before first tag."),m.textNode=h,m.state=$.TEXT)}function K(m,h){var O="";return h<m.length&&(O=m.charAt(h)),O}function ee(m){var h=this;if(this.error)throw this.error;if(h.closed)return he(h,"Cannot write after close. Assign an onready handler.");if(m===null)return de(h);typeof m=="object"&&(m=m.toString());for(var O=0,T="";T=K(m,O++),h.c=T,!!T;)switch(h.trackPosition&&(h.position++,T===`
`?(h.line++,h.column=0):h.column++),h.state){case $.BEGIN:if(h.state=$.BEGIN_WHITESPACE,T==="\uFEFF")continue;Y(h,T);continue;case $.BEGIN_WHITESPACE:Y(h,T);continue;case $.TEXT:if(h.sawRoot&&!h.closedRoot){for(var J=O-1;T&&T!=="<"&&T!=="&";)T=K(m,O++),T&&h.trackPosition&&(h.position++,T===`
`?(h.line++,h.column=0):h.column++);h.textNode+=m.substring(J,O-1)}T==="<"&&!(h.sawRoot&&h.closedRoot&&!h.strict)?(h.state=$.OPEN_WAKA,h.startTagPosition=h.position):(!j(T)&&(!h.sawRoot||h.closedRoot)&&X(h,"Text data outside of root node."),T==="&"?h.state=$.TEXT_ENTITY:h.textNode+=T);continue;case $.SCRIPT:T==="<"?h.state=$.SCRIPT_ENDING:h.script+=T;continue;case $.SCRIPT_ENDING:T==="/"?h.state=$.CLOSE_TAG:(h.script+="<"+T,h.state=$.SCRIPT);continue;case $.OPEN_WAKA:if(T==="!")h.state=$.SGML_DECL,h.sgmlDecl="";else if(!j(T))if(W(D,T))h.state=$.OPEN_TAG,h.tagName=T;else if(T==="/")h.state=$.CLOSE_TAG,h.tagName="";else if(T==="?")h.state=$.PROC_INST,h.procInstName=h.procInstBody="";else{if(X(h,"Unencoded <"),h.startTagPosition+1<h.position){var ne=h.position-h.startTagPosition;T=new Array(ne).join(" ")+T}h.textNode+="<"+T,h.state=$.TEXT}continue;case $.SGML_DECL:(h.sgmlDecl+T).toUpperCase()===x?(G(h,"onopencdata"),h.state=$.CDATA,h.sgmlDecl="",h.cdata=""):h.sgmlDecl+T==="--"?(h.state=$.COMMENT,h.comment="",h.sgmlDecl=""):(h.sgmlDecl+T).toUpperCase()===w?(h.state=$.DOCTYPE,(h.doctype||h.sawRoot)&&X(h,"Inappropriately located doctype declaration"),h.doctype="",h.sgmlDecl=""):T===">"?(G(h,"onsgmldeclaration",h.sgmlDecl),h.sgmlDecl="",h.state=$.TEXT):(P(T)&&(h.state=$.SGML_DECL_QUOTED),h.sgmlDecl+=T);continue;case $.SGML_DECL_QUOTED:T===h.q&&(h.state=$.SGML_DECL,h.q=""),h.sgmlDecl+=T;continue;case $.DOCTYPE:T===">"?(h.state=$.TEXT,G(h,"ondoctype",h.doctype),h.doctype=!0):(h.doctype+=T,T==="["?h.state=$.DOCTYPE_DTD:P(T)&&(h.state=$.DOCTYPE_QUOTED,h.q=T));continue;case $.DOCTYPE_QUOTED:h.doctype+=T,T===h.q&&(h.q="",h.state=$.DOCTYPE);continue;case $.DOCTYPE_DTD:h.doctype+=T,T==="]"?h.state=$.DOCTYPE:P(T)&&(h.state=$.DOCTYPE_DTD_QUOTED,h.q=T);continue;case $.DOCTYPE_DTD_QUOTED:h.doctype+=T,T===h.q&&(h.state=$.DOCTYPE_DTD,h.q="");continue;case $.COMMENT:T==="-"?h.state=$.COMMENT_ENDING:h.comment+=T;continue;case $.COMMENT_ENDING:T==="-"?(h.state=$.COMMENT_ENDED,h.comment=ae(h.opt,h.comment),h.comment&&G(h,"oncomment",h.comment),h.comment=""):(h.comment+="-"+T,h.state=$.COMMENT);continue;case $.COMMENT_ENDED:T!==">"?(X(h,"Malformed comment"),h.comment+="--"+T,h.state=$.COMMENT):h.state=$.TEXT;continue;case $.CDATA:T==="]"?h.state=$.CDATA_ENDING:h.cdata+=T;continue;case $.CDATA_ENDING:T==="]"?h.state=$.CDATA_ENDING_2:(h.cdata+="]"+T,h.state=$.CDATA);continue;case $.CDATA_ENDING_2:T===">"?(h.cdata&&G(h,"oncdata",h.cdata),G(h,"onclosecdata"),h.cdata="",h.state=$.TEXT):T==="]"?h.cdata+="]":(h.cdata+="]]"+T,h.state=$.CDATA);continue;case $.PROC_INST:T==="?"?h.state=$.PROC_INST_ENDING:j(T)?h.state=$.PROC_INST_BODY:h.procInstName+=T;continue;case $.PROC_INST_BODY:if(!h.procInstBody&&j(T))continue;T==="?"?h.state=$.PROC_INST_ENDING:h.procInstBody+=T;continue;case $.PROC_INST_ENDING:T===">"?(G(h,"onprocessinginstruction",{name:h.procInstName,body:h.procInstBody}),h.procInstName=h.procInstBody="",h.state=$.TEXT):(h.procInstBody+="?"+T,h.state=$.PROC_INST_BODY);continue;case $.OPEN_TAG:W(k,T)?h.tagName+=T:(fe(h),T===">"?A(h):T==="/"?h.state=$.OPEN_TAG_SLASH:(j(T)||X(h,"Invalid character in tag name"),h.state=$.ATTRIB));continue;case $.OPEN_TAG_SLASH:T===">"?(A(h,!0),C(h)):(X(h,"Forward-slash in opening tag not followed by >"),h.state=$.ATTRIB);continue;case $.ATTRIB:if(j(T))continue;T===">"?A(h):T==="/"?h.state=$.OPEN_TAG_SLASH:W(D,T)?(h.attribName=T,h.attribValue="",h.state=$.ATTRIB_NAME):X(h,"Invalid attribute name");continue;case $.ATTRIB_NAME:T==="="?h.state=$.ATTRIB_VALUE:T===">"?(X(h,"Attribute without value"),h.attribValue=h.attribName,_e(h),A(h)):j(T)?h.state=$.ATTRIB_NAME_SAW_WHITE:W(k,T)?h.attribName+=T:X(h,"Invalid attribute name");continue;case $.ATTRIB_NAME_SAW_WHITE:if(T==="=")h.state=$.ATTRIB_VALUE;else{if(j(T))continue;X(h,"Attribute without value"),h.tag.attributes[h.attribName]="",h.attribValue="",G(h,"onattribute",{name:h.attribName,value:""}),h.attribName="",T===">"?A(h):W(D,T)?(h.attribName=T,h.state=$.ATTRIB_NAME):(X(h,"Invalid attribute name"),h.state=$.ATTRIB)}continue;case $.ATTRIB_VALUE:if(j(T))continue;P(T)?(h.q=T,h.state=$.ATTRIB_VALUE_QUOTED):(X(h,"Unquoted attribute value"),h.state=$.ATTRIB_VALUE_UNQUOTED,h.attribValue=T);continue;case $.ATTRIB_VALUE_QUOTED:if(T!==h.q){T==="&"?h.state=$.ATTRIB_VALUE_ENTITY_Q:h.attribValue+=T;continue}_e(h),h.q="",h.state=$.ATTRIB_VALUE_CLOSED;continue;case $.ATTRIB_VALUE_CLOSED:j(T)?h.state=$.ATTRIB:T===">"?A(h):T==="/"?h.state=$.OPEN_TAG_SLASH:W(D,T)?(X(h,"No whitespace between attributes"),h.attribName=T,h.attribValue="",h.state=$.ATTRIB_NAME):X(h,"Invalid attribute name");continue;case $.ATTRIB_VALUE_UNQUOTED:if(!Z(T)){T==="&"?h.state=$.ATTRIB_VALUE_ENTITY_U:h.attribValue+=T;continue}_e(h),T===">"?A(h):h.state=$.ATTRIB;continue;case $.CLOSE_TAG:if(h.tagName)T===">"?C(h):W(k,T)?h.tagName+=T:h.script?(h.script+="</"+h.tagName,h.tagName="",h.state=$.SCRIPT):(j(T)||X(h,"Invalid tagname in closing tag"),h.state=$.CLOSE_TAG_SAW_WHITE);else{if(j(T))continue;H(D,T)?h.script?(h.script+="</"+T,h.state=$.SCRIPT):X(h,"Invalid tagname in closing tag."):h.tagName=T}continue;case $.CLOSE_TAG_SAW_WHITE:if(j(T))continue;T===">"?C(h):X(h,"Invalid characters in closing tag");continue;case $.TEXT_ENTITY:case $.ATTRIB_VALUE_ENTITY_Q:case $.ATTRIB_VALUE_ENTITY_U:var te,oe;switch(h.state){case $.TEXT_ENTITY:te=$.TEXT,oe="textNode";break;case $.ATTRIB_VALUE_ENTITY_Q:te=$.ATTRIB_VALUE_QUOTED,oe="attribValue";break;case $.ATTRIB_VALUE_ENTITY_U:te=$.ATTRIB_VALUE_UNQUOTED,oe="attribValue";break}T===";"?(h[oe]+=F(h),h.entity="",h.state=te):W(h.entity.length?z:U,T)?h.entity+=T:(X(h,"Invalid character in entity name"),h[oe]+="&"+h.entity+T,h.entity="",h.state=te);continue;default:throw new Error(h,"Unknown state: "+h.state)}return h.position>=h.bufferCheckPosition&&a(h),h}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var m=String.fromCharCode,h=Math.floor,O=function(){var T=16384,J=[],ne,te,oe=-1,pe=arguments.length;if(!pe)return"";for(var be="";++oe<pe;){var le=Number(arguments[oe]);if(!isFinite(le)||le<0||le>1114111||h(le)!==le)throw RangeError("Invalid code point: "+le);le<=65535?J.push(le):(le-=65536,ne=(le>>10)+55296,te=le%1024+56320,J.push(ne,te)),(oe+1===pe||J.length>T)&&(be+=m.apply(null,J),J.length=0)}return be};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:O,configurable:!0,writable:!0}):String.fromCodePoint=O}()})(e)})(sax);const logger={debug:()=>{}},parseXml=e=>{const t=sax.parser(!0,{trim:!1,normalize:!1});let r,n=null,a=0;return new Promise((o,s)=>{t.onopentag=l=>{const p={_parent:n||void 0,_children:[],_fTextNode:!1,_tag:l.name,_attrs:l.attributes};n!=null?n._children.push(p):r=p,n=p,a+=1},t.onclosetag=()=>{n=n!=null?n._parent:null},t.ontext=l=>{n!=null&&n._children.push({_parent:n,_children:[],_fTextNode:!0,_text:l})},t.onend=()=>{logger.debug(`Number of XML elements: ${a}`),o(r)},t.onerror=l=>{s(l)},t.write(e),t.end()})},buildXml=(e,t,r="")=>{let n=r.length?"":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(e._fTextNode)n+=sanitizeText(e._text,t);else{let a="";const o=e._attrs;Object.keys(o).forEach(d=>{a+=` ${d}="${sanitizeAttr(o[d])}"`});const s=e._children.length>0,l=s?"":"/";n+=`
${r}<${e._tag}${a}${l}>`;let p=!1;e._children.forEach(d=>{n+=buildXml(d,t,`${r}  `),p=!d._fTextNode}),s&&(n+=`${p?`
${r}`:""}</${e._tag}>`)}return n},sanitizeText=(e,t)=>{let r="";const n=e.split(t.literalXmlDelimiter);let a=!1;for(let o=0;o<n.length;o++){let s=n[o];a||(s=s.replace(/&/g,"&amp;"),s=s.replace(/</g,"&lt;"),s=s.replace(/>/g,"&gt;")),r+=s,a=!a}return r},sanitizeAttr=e=>{let t=typeof e=="string"?e:e.value;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/'/g,"&apos;"),t=t.replace(/"/g,"&quot;"),t};var timm$1={};Object.defineProperty(timm$1,"__esModule",{value:!0}),timm$1.clone=clone,timm$1.addLast=addLast,timm$1.addFirst=addFirst,timm$1.removeLast=removeLast,timm$1.removeFirst=removeFirst,timm$1.insert=insert,timm$1.removeAt=removeAt,timm$1.replaceAt=replaceAt,timm$1.getIn=getIn,timm$1.set=set,timm$1.setIn=setIn,timm$1.update=update,timm$1.updateIn=updateIn;var merge_1=timm$1.merge=merge;timm$1.mergeDeep=mergeDeep,timm$1.mergeIn=mergeIn;var omit_1=timm$1.omit=omit;timm$1.addDefaults=addDefaults,timm$1.default=void 0;/*!
 * Timm
 *
 * Immutability helpers with fast reads and acceptable writes.
 *
 * @copyright Guillermo Grau Panea 2016
 * @license MIT
 */const INVALID_ARGS="INVALID_ARGS";function throwStr(e){throw new Error(e)}function getKeysAndSymbols(e){const t=Object.keys(e);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(e)):t}const hasOwnProperty={}.hasOwnProperty;function clone(e){if(Array.isArray(e))return e.slice();const t=e,r=getKeysAndSymbols(t),n={};for(let a=0;a<r.length;a++){const o=r[a];n[o]=t[o]}return n}function isObject(e){return e!=null&&typeof e=="object"}function addLast(e,t){return Array.isArray(t)?e.concat(t):e.concat([t])}function addFirst(e,t){return Array.isArray(t)?t.concat(e):[t].concat(e)}function removeLast(e){return e.length?e.slice(0,e.length-1):e}function removeFirst(e){return e.length?e.slice(1):e}function insert(e,t,r){return e.slice(0,t).concat(Array.isArray(r)?r:[r]).concat(e.slice(t))}function removeAt(e,t){return t>=e.length||t<0?e:e.slice(0,t).concat(e.slice(t+1))}function replaceAt(e,t,r){if(e[t]===r)return e;const n=e.length,a=Array(n);for(let o=0;o<n;o++)a[o]=e[o];return a[t]=r,a}function getIn(e,t){if(Array.isArray(t)||throwStr(INVALID_ARGS),e==null)return;let r=e;for(let n=0;n<t.length;n++){const a=t[n];if(r=r!=null?r[a]:void 0,r===void 0)return r}return r}function set(e,t,r){let n=e;if(n==null&&(n=typeof t=="number"?[]:{}),n[t]===r)return n;const a=clone(n);return a[t]=r,a}function setIn(e,t,r){return t.length?doSetIn(e,t,r,0):r}function doSetIn(e,t,r,n){let a;const o=t[n];if(n===t.length-1)a=r;else{const s=isObject(e)&&isObject(e[o])?e[o]:typeof t[n+1]=="number"?[]:{};a=doSetIn(s,t,r,n+1)}return set(e,o,a)}function update(e,t,r){const n=e==null?void 0:e[t],a=r(n);return set(e,t,a)}function updateIn(e,t,r){const n=getIn(e,t),a=r(n);return setIn(e,t,a)}function merge(e,t,r,n,a,o,...s){return s.length?doMerge.call(null,!1,!1,e,t,r,n,a,o,...s):doMerge(!1,!1,e,t,r,n,a,o)}function mergeDeep(e,t,r,n,a,o,...s){return s.length?doMerge.call(null,!1,!0,e,t,r,n,a,o,...s):doMerge(!1,!0,e,t,r,n,a,o)}function mergeIn(e,t,r,n,a,o,s,...l){let p=getIn(e,t);p==null&&(p={});let d;return l.length?d=doMerge.call(null,!1,!1,p,r,n,a,o,s,...l):d=doMerge(!1,!1,p,r,n,a,o,s),setIn(e,t,d)}function omit(e,t){const r=Array.isArray(t)?t:[t];let n=!1;for(let s=0;s<r.length;s++)if(hasOwnProperty.call(e,r[s])){n=!0;break}if(!n)return e;const a={},o=getKeysAndSymbols(e);for(let s=0;s<o.length;s++){const l=o[s];r.indexOf(l)>=0||(a[l]=e[l])}return a}function addDefaults(e,t,r,n,a,o,...s){return s.length?doMerge.call(null,!0,!1,e,t,r,n,a,o,...s):doMerge(!0,!1,e,t,r,n,a,o)}function doMerge(e,t,r,...n){let a=r;a==null&&throwStr(INVALID_ARGS);let o=!1;for(let s=0;s<n.length;s++){const l=n[s];if(l==null)continue;const p=getKeysAndSymbols(l);if(!!p.length)for(let d=0;d<=p.length;d++){const g=p[d];if(e&&a[g]!==void 0)continue;let x=l[g];t&&isObject(a[g])&&isObject(x)&&(x=doMerge(e,t,a[g],x)),!(x===void 0||x===a[g])&&(o||(o=!0,a=clone(a)),a[g]=x)}}return a}const timm={clone,addLast,addFirst,removeLast,removeFirst,insert,removeAt,replaceAt,getIn,set,setIn,update,updateIn,merge,mergeDeep,mergeIn,omit,addDefaults};var _default=timm;timm$1.default=_default;class NullishCommandResultError extends Error{constructor(t){super(`Result of command ${t} is null or undefined and rejectNullish is set`);Object.setPrototypeOf(this,NullishCommandResultError.prototype),this.command=t}}class ObjectCommandResultError extends Error{constructor(t){super(`Result of command '${t}' is an object`);Object.setPrototypeOf(this,ObjectCommandResultError.prototype),this.command=t}}class CommandSyntaxError extends Error{constructor(t){super(`Invalid command syntax: ${t}`);Object.setPrototypeOf(this,CommandSyntaxError.prototype),this.command=t}}class InvalidCommandError extends Error{constructor(t,r){super(`${t}: ${r}`);Object.setPrototypeOf(this,InvalidCommandError.prototype),this.command=r}}class CommandExecutionError extends Error{constructor(t,r){super(`Error executing command '${r}'. ${t.toString()}`);Object.setPrototypeOf(this,CommandExecutionError.prototype),this.command=r,this.err=t}}class ImageError extends CommandExecutionError{}class InternalError extends Error{constructor(t){super(`INTERNAL ERROR: ${t}`)}}class TemplateParseError extends Error{}const cloneNodeWithoutChildren=e=>e._fTextNode?{_children:[],_fTextNode:!0,_text:e._text}:{_children:[],_fTextNode:!1,_tag:e._tag,_attrs:e._attrs},getNextSibling=e=>{const t=e._parent;if(t==null)return null;const r=t._children,n=r.indexOf(e);return n<0||n>=r.length-1?null:r[n+1]},insertTextSiblingAfter=e=>{const t=e._parent;if(!(t&&!t._fTextNode&&t._tag==="w:t"))throw new TemplateParseError("Template syntax error: text node not within w:t");const r=t._parent;if(r==null)throw new TemplateParseError("Template syntax error: w:t node has no parent");const n=r._children.indexOf(t);if(n<0)throw new TemplateParseError("Template syntax error");const a=cloneNodeWithoutChildren(t);a._parent=r;const o={_parent:a,_children:[],_fTextNode:!0,_text:""};return a._children=[o],r._children.splice(n+1,0,a),o},newNonTextNode=(e,t={},r=[])=>{const n={_fTextNode:!1,_tag:e,_attrs:t,_children:r};return n._children.forEach(a=>{a._parent=n}),n},newTextNode=e=>({_children:[],_fTextNode:!0,_text:e}),addChild=(e,t)=>(e._children.push(t),t._parent=e,t),getCurLoop=e=>e.loops.length?e.loops[e.loops.length-1]:null,isLoopExploring=e=>{const t=getCurLoop(e);return t!=null&&t.idx<0},logLoop=e=>{if(!e.length)return;const t=e.length-1,{varName:r,idx:n,loopOver:a,isIf:o}=e[t],s=n>=0?n+1:"EXPLORATION";logger.debug(`${o?"IF":"FOR"} loop on ${t}:${r}${s}/${a.length}`)},preprocessTemplate=(e,t)=>{let r=e,n=!1,a=null,o=0;const s=`${t[0]}CMD_NODE${t[1]}`;for(;r!=null;){if(!r._fTextNode&&r._tag==="w:t"&&(r._attrs["xml:space"]="preserve"),!r._fTextNode&&r._tag==="w:p"&&a&&(a._text+=" "),r._fTextNode&&r._parent&&!r._parent._fTextNode&&r._parent._tag==="w:t"){a==null&&(a=r);const l=r._text;r._text="";for(let p=0;p<l.length;p++){const d=l[p],g=n?t[1]:t[0];if(d===g[o]){if(o+=1,o===g.length){n=!n;const x=r===a;n&&a._text.length&&(a=insertTextSiblingAfter(a),x&&(r=a)),a._text+=g,!n&&p<l.length-1&&(a=insertTextSiblingAfter(a),x&&(r=a)),o=0,n||(a=r)}}else o&&(a._text+=g.slice(0,o),o=0,n||(a=r)),a._text+=d}!n&&!o&&(a=null),l.length&&!r._text.length&&(r._text=s)}if(r._children.length)r=r._children[0];else{let l=!1;for(;r._parent!=null;){const p=r._parent,d=getNextSibling(r);if(d){l=!0,r=d;break}r=p}l||(r=null)}}return e};var vmBrowserify={};(function(exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(t,r,n){t[r]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,a=r.execScript;!n&&a&&(a.call(r,"null"),n=r.eval),forEach(Object_keys(e),function(l){r[l]=e[l]}),forEach(globals,function(l){e[l]&&(r[l]=e[l])});var o=Object_keys(r),s=n.call(r,this.code);return forEach(Object_keys(r),function(l){(l in e||indexOf(o,l)===-1)&&(e[l]=r[l])}),forEach(globals,function(l){l in e||defineProp(e,l,r[l])}),document.body.removeChild(t),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return e&&forEach(Object_keys(t),function(n){e[n]=t[n]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return typeof e=="object"&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t}})(vmBrowserify);async function runUserJsAndGetRaw(e,t,r){const n=merge_1(r.jsSandbox||{},{__code__:t,__result__:void 0},e,r.options.additionalJsContext),a=getCurLoop(r);a&&(n.$idx=a.idx),Object.keys(r.vars).forEach(l=>{n[`$${l}`]=r.vars[l]});let o,s;try{if(r.options.runJs){const l=r.options.runJs({sandbox:n,ctx:r});o=l.modifiedSandbox,s=await l.result}else if(r.options.noSandbox)o=n,s=await new Function("with(this) { return eval(__code__); }").call(o);else{const l=new vmBrowserify.Script(`
      __result__ = eval(__code__);
      `,{});o=vmBrowserify.createContext(n),l.runInContext(o),s=await o.__result__}}catch(l){if(r.options.errorHandler!=null)o=n,s=await r.options.errorHandler(l,t);else throw new CommandExecutionError(l,t)}if(r.options.rejectNullish&&s==null){const l=new NullishCommandResultError(t);if(r.options.errorHandler!=null)s=await r.options.errorHandler(l,t);else throw l}return r.jsSandbox=omit_1(o,["__code__","__result__"]),s}const ImageExtensions=[".png",".gif",".jpg",".jpeg",".svg"],BUILT_IN_COMMANDS=["QUERY","CMD_NODE","ALIAS","FOR","END-FOR","IF","END-IF","INS","EXEC","IMAGE","LINK","HTML"];function newContext(e,t=0){return{gCntIf:0,level:1,fCmd:!1,cmd:"",fSeekQuery:!1,buffers:{"w:p":{text:"",cmds:"",fInsertedText:!1},"w:tr":{text:"",cmds:"",fInsertedText:!1}},imageId:t,images:{},linkId:0,links:{},htmlId:0,htmls:{},vars:{},loops:[],fJump:!1,shorthands:{},options:e}}async function extractQuery(e,t){const r=newContext(t);r.fSeekQuery=!0;let n=e;for(;;){if(n._children.length)n=n._children[0];else{let o=!1;for(;n._parent!=null;){const s=n._parent,l=getNextSibling(n);if(l){n=l,o=!0;break}n=s}if(!o)break}if(!n)break;const a=n._parent;if(n._fTextNode&&a&&!a._fTextNode&&a._tag==="w:t"&&await processText(null,n,r,processCmd),r.query!=null)break}return r.query}async function produceJsReport(e,t,r){return walkTemplate(e,t,r,processCmd)}function findHighestImgId(e){const t=[],r=n=>{for(const a of n._children){const o=a._fTextNode?null:a._tag;if(o!=null){if(o==="wp:docPr"){if(a._fTextNode)continue;const s=a._attrs.id;if(typeof s!="string")continue;const l=Number.parseInt(s,10);Number.isSafeInteger(l)&&t.push(l)}a._children.length>0&&r(a)}}};return r(e),t.length>0?Math.max(...t):0}async function walkTemplate(e,t,r,n){const a=cloneNodeWithoutChildren(t);let o=t,s=a,l,p=0;const d=[];for(;;){const g=getCurLoop(r);let x;if(r.fJump){if(!g)throw new InternalError("jumping while curLoop is null");const{refNode:w,refNodeLevel:y}=g;p=r.level-y,o=w,r.level=y,r.fJump=!1,l="JUMP"}else if(o._children.length&&l!=="UP")o=o._children[0],r.level+=1,l="DOWN";else if(x=getNextSibling(o))o=x,l="SIDE";else{const w=o._parent;if(w==null)break;o=w,r.level-=1,l="UP"}if(l!=="DOWN"){const w=s._fTextNode?null:s._tag;let y=!1;if((w==="w:p"||w==="w:tbl"||w==="w:tr")&&isLoopExploring(r))y=!0;else if(w==="w:p"||w==="w:tr"){const E=r.buffers[w];y=E.text===""&&E.cmds!==""&&!E.fInsertedText}y&&s._parent!=null&&s._parent._children.pop()}if(l==="UP"){isLoopExploring(r)&&g&&o===g.refNode._parent&&(g.refNode=o,g.refNodeLevel-=1);const w=s._parent;if(w==null)throw new InternalError("node parent is null");if(s=w,r.pendingImageNode&&!s._fTextNode&&s._tag==="w:t"){const y=r.pendingImageNode,E=s._parent;E&&(y._parent=E,E._children.pop(),E._children.push(y),r.buffers["w:p"].fInsertedText=!0,r.buffers["w:tr"].fInsertedText=!0),delete r.pendingImageNode}if(r.pendingLinkNode&&!s._fTextNode&&s._tag==="w:r"){const y=r.pendingLinkNode,E=s._parent;E&&(y._parent=E,E._children.pop(),E._children.push(y),r.buffers["w:p"].fInsertedText=!0,r.buffers["w:tr"].fInsertedText=!0),delete r.pendingLinkNode}if(r.pendingHtmlNode&&!s._fTextNode&&s._tag==="w:p"){const y=r.pendingHtmlNode,E=s._parent;E&&(y._parent=E,E._children.pop(),E._children.push(y),r.buffers["w:p"].fInsertedText=!0,r.buffers["w:tr"].fInsertedText=!0),delete r.pendingHtmlNode}!s._fTextNode&&s._tag==="w:tc"&&!s._children.filter(y=>!y._fTextNode&&y._tag==="w:p").length&&s._children.push({_parent:s,_children:[],_fTextNode:!1,_tag:"w:p",_attrs:{}}),!s._fTextNode&&s._tag==="w:rPr"&&(r.textRunPropsNode=s),!o._fTextNode&&o._tag==="w:r"&&delete r.textRunPropsNode}if(l==="DOWN"||l==="SIDE"){if(l==="SIDE"){if(s._parent==null)throw new InternalError("node parent is null");s=s._parent}const w=o._fTextNode?null:o._tag;(w==="w:p"||w==="w:tr")&&(r.buffers[w]={text:"",cmds:"",fInsertedText:!1});const y=cloneNodeWithoutChildren(o);y._parent=s,s._children.push(y);const E=o._parent;if(o._fTextNode&&E&&!E._fTextNode&&E._tag==="w:t"){const I=await processText(e,o,r,n);if(typeof I=="string"){const D=y;D._text=I}else d.push(...I)}s=y}if(l==="JUMP")for(;p>0;){if(s._parent==null)throw new InternalError("node parent is null");s=s._parent,p-=1}}return d.length>0?{status:"errors",errors:d}:{status:"success",report:a,images:r.images,links:r.links,htmls:r.htmls}}const processText=async(e,t,r,n)=>{const{cmdDelimiter:a,failFast:o}=r.options,s=t._text;if(s==null||s==="")return"";const l=s.split(a[0]).map(g=>g.split(a[1])).reduce((g,x)=>g.concat(x));let p="";const d=[];for(let g=0;g<l.length;g++){g>0&&appendTextToTagBuffers(a[0],r,{fCmd:!0});const x=l[g];if(r.fCmd?r.cmd+=x:isLoopExploring(r)||(p+=x),appendTextToTagBuffers(x,r,{fCmd:r.fCmd}),g<l.length-1){if(r.fCmd){const w=await n(e,t,r);if(w!=null)if(typeof w=="string")p+=w,appendTextToTagBuffers(w,r,{fCmd:!1,fInsertedText:!0});else{if(o)throw w;d.push(w)}}r.fCmd=!r.fCmd}}return d.length>0?d:p},processCmd=async(e,t,r)=>{const n=getCommand(r.cmd,r.shorthands,r.options.fixSmartQuotes);r.cmd="";try{const{cmdName:a,cmdRest:o}=splitCommand(n);if(r.fSeekQuery){a==="QUERY"&&(r.query=o);return}if(!(a==="QUERY"||a==="CMD_NODE"))if(a==="ALIAS"){const s=/^(\S+)\s+(.+)/.exec(o);if(!s)throw new InvalidCommandError("Invalid ALIAS command",n);const l=s[1],p=s[2];r.shorthands[l]=p,logger.debug(`Defined alias '${l}' for: ${p}`)}else if(a==="FOR"||a==="IF")await processForIf(e,t,r,n,a,o);else if(a==="END-FOR"||a==="END-IF")processEndForIf(t,r,n,a,o);else if(a==="INS"){if(!isLoopExploring(r)){let s=await runUserJsAndGetRaw(e,o,r);if(s==null)return"";if(typeof s=="object"&&!Array.isArray(s)){const p=new ObjectCommandResultError(o);if(r.options.errorHandler!=null)s=await r.options.errorHandler(p,o);else throw p}let l=String(s);if(r.options.processLineBreaks){const{literalXmlDelimiter:p}=r.options;l=l.replace(/\n/g,`${p}<w:br/>${p}`)}return l}}else if(a==="EXEC")isLoopExploring(r)||await runUserJsAndGetRaw(e,o,r);else if(a==="IMAGE"){if(!isLoopExploring(r)){const s=await runUserJsAndGetRaw(e,o,r);if(s!=null)try{await processImage(r,s)}catch(l){throw new ImageError(l.message,n)}}}else if(a==="LINK"){if(!isLoopExploring(r)){const s=await runUserJsAndGetRaw(e,o,r);s!=null&&await processLink(r,s)}}else if(a==="HTML"){if(!isLoopExploring(r)){const s=await runUserJsAndGetRaw(e,o,r);s!=null&&await processHtml(r,s)}}else throw new CommandSyntaxError(n);return}catch(a){return r.options.errorHandler!=null?r.options.errorHandler(a):a}},builtInRegexes=BUILT_IN_COMMANDS.map(e=>new RegExp(`^${e}\\b`)),notBuiltIns=e=>!builtInRegexes.some(t=>t.test(e.toUpperCase()));function getCommand(e,t,r){let n=e.trim();if(n[0]==="*"){const a=n.slice(1).trim();if(!t[a])throw new InvalidCommandError("Unknown alias",n);n=t[a]}else n[0]==="="?n=`INS ${n.slice(1).trim()}`:n[0]==="!"?n=`EXEC ${n.slice(1).trim()}`:notBuiltIns(n)&&(n=`INS ${n.trim()}`);return r&&(n=n.replace(/[\u201C\u201D\u201E]/g,'"').replace(/[\u2018\u2019\u201A]/g,"'")),n.trim()}function splitCommand(e){const t=/^(\S+)\s*/.exec(e);let r,n="";return t!=null&&(r=t[1].toUpperCase(),n=e.slice(r.length).trim()),{cmdName:r,cmdRest:n}}const processForIf=async(e,t,r,n,a,o)=>{const s=a==="IF";let l,p;if(s)t._ifName||(t._ifName=`__if_${r.gCntIf}`,r.gCntIf+=1),p=t._ifName;else{if(l=/^(\S+)\s+IN\s+(.+)/i.exec(o),!l)throw new InvalidCommandError("Invalid FOR command",n);p=l[1]}const d=getCurLoop(r);if(!(d&&d.varName===p)){const g=r.loops.length-1,x=g>=0&&r.loops[g].idx===-1;let w;if(x)w=[];else if(s)w=!!await runUserJsAndGetRaw(e,o,r)?[1]:[];else{if(!l)throw new InvalidCommandError("Invalid FOR command",n);if(w=await runUserJsAndGetRaw(e,l[2],r),!Array.isArray(w))throw new InvalidCommandError("Invalid FOR command (can only iterate over Array)",n)}r.loops.push({refNode:t,refNodeLevel:r.level,varName:p,loopOver:w,isIf:s,idx:-1})}logLoop(r.loops)},processEndForIf=(e,t,r,n,a)=>{const o=getCurLoop(t);if(!o)throw new InvalidCommandError("Invalid command",r);const s=n==="END-IF";s&&!e._ifName&&(e._ifName=o.varName);const l=s?e._ifName:a;if(o.varName!==l){if(t.loops.find(w=>w.varName===l)==null){logger.debug(`Ignoring ${r} (${l}, but we're expecting ${o.varName})`);return}throw new InvalidCommandError("Invalid command",r)}const{loopOver:p,idx:d}=o,{nextItem:g,curIdx:x}=getNextItem(p,d);g!=null?(t.vars[l]=g,t.fJump=!0,o.idx=x):t.loops.pop()},imageToContext=(e,t)=>{validateImage(t),e.imageId+=1;const n=`img${String(e.imageId)}`;return e.images[n]=t,n};function validateImage(e){if(!(e.data instanceof Buffer||e.data instanceof ArrayBuffer||typeof e.data=="string"))throw new Error("image .data property needs to be provided as Buffer, ArrayBuffer, or as a base64-encoded string");if(!ImageExtensions.includes(e.extension))throw new Error(`An extension (one of ${ImageExtensions}) needs to be provided when providing an image or a thumbnail.`)}function validateImagePars(e){if(!Number.isFinite(e.width))throw new Error(`invalid image width: ${e.width} (in cm)`);if(!Number.isFinite(e.height))throw new Error(`invalid image height: ${e.height} (in cm)`);validateImage(e),e.thumbnail&&validateImage(e.thumbnail)}const processImage=async(e,t)=>{var r;validateImagePars(t);const n=(t.width*36e4).toFixed(0),a=(t.height*36e4).toFixed(0);let o=imageToContext(e,getImageData(t));const s=String(e.imageId),l=t.alt||"desc",p=newNonTextNode,d=[];d.push(p("a:ext",{uri:"{28A0092B-C50C-407E-A947-70E740481C1C}"},[p("a14:useLocalDpi",{"xmlns:a14":"http://schemas.microsoft.com/office/drawing/2010/main",val:"0"})]));const g=t.rotation?(t.rotation*6e4).toString():void 0;if(e.images[o].extension===".svg"){const y=(r=t.thumbnail)!=null?r:{data:"bm90aGluZwo=",extension:".png"},E=imageToContext(e,y);d.push(p("a:ext",{uri:"{96DAC541-7B7A-43D3-8B79-37D633B846F1}"},[p("asvg:svgBlip",{"xmlns:asvg":"http://schemas.microsoft.com/office/drawing/2016/SVG/main","r:embed":o})])),o=E}const x=p("pic:pic",{"xmlns:pic":"http://schemas.openxmlformats.org/drawingml/2006/picture"},[p("pic:nvPicPr",{},[p("pic:cNvPr",{id:"0",name:`Picture ${s}`,descr:l}),p("pic:cNvPicPr",{},[p("a:picLocks",{noChangeAspect:"1",noChangeArrowheads:"1"})])]),p("pic:blipFill",{},[p("a:blip",{"r:embed":o,cstate:"print"},[p("a:extLst",{},d)]),p("a:srcRect"),p("a:stretch",{},[p("a:fillRect")])]),p("pic:spPr",{bwMode:"auto"},[p("a:xfrm",g?{rot:g}:{},[p("a:off",{x:"0",y:"0"}),p("a:ext",{cx:n,cy:a})]),p("a:prstGeom",{prst:"rect"},[p("a:avLst")]),p("a:noFill"),p("a:ln",{},[p("a:noFill")])])]),w=p("w:drawing",{},[p("wp:inline",{distT:"0",distB:"0",distL:"0",distR:"0"},[p("wp:extent",{cx:n,cy:a}),p("wp:docPr",{id:s,name:`Picture ${s}`,descr:l}),p("wp:cNvGraphicFramePr",{},[p("a:graphicFrameLocks",{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:"1"})]),p("a:graphic",{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},[p("a:graphicData",{uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"},[x])])])]);e.pendingImageNode=w};function getImageData(e){const{data:t,extension:r}=e;if(!r)throw new Error("If you return image `data`, make sure you return an extension as well!");return{extension:r,data:t}}const processLink=async(e,t)=>{const{url:r,label:n=r}=t;e.linkId+=1;const o=`link${String(e.linkId)}`;e.links[o]={url:r};const s=newNonTextNode,{textRunPropsNode:l}=e,p=s("w:hyperlink",{"r:id":o,"w:history":"1"},[s("w:r",{},[l||s("w:rPr",{},[s("w:u",{"w:val":"single"})]),s("w:t",{},[newTextNode(n)])])]);e.pendingLinkNode=p},processHtml=async(e,t)=>{e.htmlId+=1;const n=`html${String(e.htmlId)}`;e.htmls[n]=t;const o=newNonTextNode("w:altChunk",{"r:id":n});e.pendingHtmlNode=o},BufferKeys=["w:p","w:tr"],appendTextToTagBuffers=(e,t,r)=>{if(t.fSeekQuery)return;const{fCmd:n,fInsertedText:a}=r,o=n?"cmds":"text";BufferKeys.forEach(s=>{const l=t.buffers[s];l[o]+=e,a&&(l.fInsertedText=!0)})},getNextItem=(e,t)=>{let r=null,n=t!=null?t:-1;for(;r==null&&(n+=1,!(n>=e.length));){const a=e[n];typeof a=="object"&&a.isDeleted||(r=a)}return{nextItem:r,curIdx:n}},DEFAULT_CMD_DELIMITER="+++",DEFAULT_LITERAL_XML_DELIMITER="||",CONTENT_TYPES_PATH="[Content_Types].xml",TEMPLATE_PATH="word",XML_FILE_REGEX=new RegExp(`${TEMPLATE_PATH}\\/[^\\/]+\\.xml`);async function parseTemplate(e){const t=await zipLoad(e),r=await readContentTypes(t),n=getMainDoc(r),a=await zipGetText(t,`${TEMPLATE_PATH}/${n}`);if(a==null)throw new TemplateParseError(`${n} could not be found`);logger.debug(`Template file length: ${a.length}`),new Date().getTime();const s=await parseXml(a);return new Date().getTime(),{jsTemplate:s,mainDocument:n,zip:t,contentTypes:r}}async function createReport(e,t){const{template:r,data:n,queryVars:a}=e,o=e.literalXmlDelimiter||DEFAULT_LITERAL_XML_DELIMITER,s={cmdDelimiter:getCmdDelimiter(e.cmdDelimiter),literalXmlDelimiter:o,processLineBreaks:e.processLineBreaks!=null?e.processLineBreaks:!0,noSandbox:e.noSandbox||!1,runJs:e.runJs,additionalJsContext:e.additionalJsContext||{},failFast:e.failFast==null?!0:e.failFast,rejectNullish:e.rejectNullish==null?!1:e.rejectNullish,errorHandler:typeof e.errorHandler=="function"?e.errorHandler:null,fixSmartQuotes:e.fixSmartQuotes==null?!1:e.fixSmartQuotes},l={literalXmlDelimiter:o},{jsTemplate:p,mainDocument:d,zip:g,contentTypes:x}=await parseTemplate(r),w=preprocessTemplate(p,s.cmdDelimiter);let y=null;if(typeof n=="function"){const M=await extractQuery(w,s);y=await n(M,a)}else y=n;const E=[];g.forEach(async M=>{XML_FILE_REGEX.test(M)&&M!==`${TEMPLATE_PATH}/${d}`&&M.indexOf(`${TEMPLATE_PATH}/template`)!==0&&E.push(M)});const I=[];for(const M of E){const G=await zipGetText(g,M);if(G==null)throw new TemplateParseError(`${M} could not be read`);const re=await parseXml(G),ae=preprocessTemplate(re,s.cmdDelimiter);I.push([ae,M])}const D=Math.max(...I.map(([M,G])=>findHighestImgId(M)),findHighestImgId(w));let k=newContext(s,D);const U=await produceJsReport(y,w,k);if(U.status==="errors")throw U.errors;const{report:z,images:j,links:P,htmls:Z}=U;if(t==="JS")return z;const W=buildXml(z,l);if(t==="XML")return W;zipSetText(g,`${TEMPLATE_PATH}/${d}`,W);let H=Object.keys(j).length,$=Object.keys(Z).length;await processImages(j,d,g,TEMPLATE_PATH),await processLinks(P,d,g,TEMPLATE_PATH),await processHtmls(Z,d,g,TEMPLATE_PATH);for(const[M,G]of I){k=newContext(s,k.imageId);const re=await produceJsReport(y,M,k);if(re.status==="errors")throw re.errors;const{report:ae,images:he,links:de,htmls:X}=re,fe=buildXml(ae,l);zipSetText(g,G,fe),H+=Object.keys(he).length,$+=Object.keys(X).length;const me=G.split("/"),_e=me[me.length-1];await processImages(he,_e,g,TEMPLATE_PATH),await processLinks(de,d,g,TEMPLATE_PATH),await processHtmls(X,d,g,TEMPLATE_PATH)}if(H||$){const M=(re,ae)=>{x._children.filter(de=>!de._fTextNode&&de._attrs.Extension===re).length||addChild(x,newNonTextNode("Default",{Extension:re,ContentType:ae}))};H&&(M("png","image/png"),M("jpg","image/jpeg"),M("jpeg","image/jpeg"),M("gif","image/gif"),M("bmp","image/bmp"),M("svg","image/svg+xml")),$&&M("html","text/html");const G=buildXml(x,l);zipSetText(g,CONTENT_TYPES_PATH,G)}return await zipSave(g)}async function listCommands(e,t){const r={cmdDelimiter:getCmdDelimiter(t),literalXmlDelimiter:DEFAULT_LITERAL_XML_DELIMITER,processLineBreaks:!0,noSandbox:!1,additionalJsContext:{},failFast:!1,rejectNullish:!1,errorHandler:null,fixSmartQuotes:!1},{jsTemplate:n}=await parseTemplate(e),a=preprocessTemplate(n,r.cmdDelimiter),o=[],s=newContext(r);return await walkTemplate(void 0,a,s,async(l,p,d)=>{const g=getCommand(d.cmd,d.shorthands,d.options.fixSmartQuotes);d.cmd="";const{cmdName:x,cmdRest:w}=splitCommand(g),y=x;y!=null&&y!=="CMD_NODE"&&o.push({raw:g,type:y,code:w})}),o}async function getMetadata(e){const t="docProps/app.xml",r="docProps/core.xml",n=await zipLoad(e),a=await parsePath(n,t),o=await parsePath(n,r);function s(d){if(d._children.length===0)return;const g=d._children[0];if(g._fTextNode)return g._text;throw new Error("Not a text node")}function l(d,g){for(const x of d._children)if(!x._fTextNode&&x._tag===g)return s(x)}const p=d=>{const g=Number(d);if(Number.isFinite(g))return g};return{pages:p(l(a,"Pages")),words:p(l(a,"Words")),characters:p(l(a,"Characters")),lines:p(l(a,"Lines")),paragraphs:p(l(a,"Paragraphs")),company:l(a,"Company"),template:l(a,"Template"),title:l(o,"dc:title"),subject:l(o,"dc:subject"),creator:l(o,"dc:creator"),description:l(o,"dc:description"),lastModifiedBy:l(o,"cp:lastModifiedBy"),revision:l(o,"cp:revision"),lastPrinted:l(o,"cp:lastPrinted"),created:l(o,"dcterms:created"),modified:l(o,"dcterms:modified"),category:l(o,"cp:category")}}async function parsePath(e,t){const r=await zipGetText(e,t);if(r==null)throw new TemplateParseError(`${t} could not be read`);const n=await parseXml(r);if(n._fTextNode)throw new TemplateParseError(`${t} is a text node when parsed`);return n}async function readContentTypes(e){return await parsePath(e,CONTENT_TYPES_PATH)}function getMainDoc(e){const t=["application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","application/vnd.ms-word.document.macroEnabled.main+xml"];for(const r of e._children)if(!r._fTextNode&&r._attrs.ContentType!=null&&t.includes(r._attrs.ContentType)){const n=r._attrs.PartName;if(n)return n.replace("/word/","")}throw new TemplateParseError(`Could not find main document (e.g. document.xml) in ${CONTENT_TYPES_PATH}`)}const processImages=async(e,t,r,n)=>{const a=Object.keys(e);if(a.length){const o=`${n}/_rels/${t}.rels`,s=await getRelsFromZip(r,o);for(let p=0;p<a.length;p++){const d=a[p],{extension:g,data:x}=e[d],w=`template_${t}_image${p+1}${g}`,y=`${n}/media/${w}`;typeof x=="string"?zipSetBase64(r,y,x):zipSetBinary(r,y,x),addChild(s,newNonTextNode("Relationship",{Id:d,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`media/${w}`}))}const l=buildXml(s,{literalXmlDelimiter:DEFAULT_LITERAL_XML_DELIMITER});zipSetText(r,o,l)}},processLinks=async(e,t,r,n)=>{const a=Object.keys(e);if(a.length){const o=`${n}/_rels/${t}.rels`,s=await getRelsFromZip(r,o);for(const p of a){const{url:d}=e[p];addChild(s,newNonTextNode("Relationship",{Id:p,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Target:d,TargetMode:"External"}))}const l=buildXml(s,{literalXmlDelimiter:DEFAULT_LITERAL_XML_DELIMITER});zipSetText(r,o,l)}},processHtmls=async(e,t,r,n)=>{const a=Object.keys(e);if(a.length){const o=`${n}/_rels/${t}.rels`,s=await getRelsFromZip(r,o);for(const p of a){const d=e[p],g=`template_${t.replace(/\./g,"_")}_${p}.html`,x=`${n}/${g}`;zipSetText(r,x,d),addChild(s,newNonTextNode("Relationship",{Id:p,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk",Target:`${g}`}))}const l=buildXml(s,{literalXmlDelimiter:DEFAULT_LITERAL_XML_DELIMITER});zipSetText(r,o,l)}},getRelsFromZip=async(e,t)=>{let r=await zipGetText(e,t);return r||(r=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
        <Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
        </Relationships>`),parseXml(r)},getCmdDelimiter=e=>e?typeof e=="string"?[e,e]:e:[DEFAULT_CMD_DELIMITER,DEFAULT_CMD_DELIMITER];export{CommandExecutionError,CommandSyntaxError,ImageError,InternalError,InvalidCommandError,NullishCommandResultError,ObjectCommandResultError,TemplateParseError,createReport,getMetadata,listCommands};
//# sourceMappingURL=browser.js.map
